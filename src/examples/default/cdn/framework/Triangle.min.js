!function(t){var e="1.0.0",i="JxMark",s=t;if(Jx=s.Jx,PACKAGES={},!("undefined"==typeof Jx||Jx.mark&&Jx.mark===i))throw new Error('"Jx" name is defined in other javascript code !!!');Jx&&(PACKAGES=Jx.PACKAGES),Jx=function(t){var e=this,i=function(t,e){return t&&t.hasOwnProperty&&t instanceof e};return t?i(e,Jx)?e._init():e=new Jx:e=Jx.Root,e},Jx.prototype={version:e,_init:function(){this.constructor=Jx},namespace:function(t){if(!t)return s;t=String(t);var e,i,n=t.split("."),a=s;for(e=0;e<n.length;e+=1)i=n[e],a[i]=a[i]||{},a=a[n[e]];return a},"package":function(){var t,e=arguments[0],i=arguments[arguments.length-1],n=s;if("function"!=typeof i)throw new Error("Function required");"string"==typeof e?(n=this.namespace(e),Jx.PACKAGES[e]||(Jx.PACKAGES[e]={isLoaded:!0,returnValue:t}),n.packageName=e):"object"==typeof e&&(n=e),t=i.call(n,this),"string"==typeof e&&(Jx.PACKAGES[e].returnValue=t)},checkPackage:function(t){return Jx.PACKAGES[t]},startTime:+new Date,toString:function(){return"JET version "+this.version+" !"}},Jx.PACKAGES=PACKAGES,Jx.Root=new Jx(!0),Jx.mark=i,s.Jx=Jx}(this),Jx()["package"](function(t){var e,i,s,n,a,r,o,l,h,d,c,u,f,p;e=function(t){return"undefined"==typeof t},i=function(t){return null===t},s=function(t){return(0===t||t)&&t.constructor===Number},a=function(t){return(t===!1||t)&&t.constructor===Boolean},n=function(t){return(""===t||t)&&t.constructor===String},r=function(t){return t&&(t.constructor===Object||"[object Object]"===Object.prototype.toString.call(t))},o=function(t){return t&&(t.constructor===Array||"[object Array]"===Object.prototype.toString.call(t))},l=function(t){return t&&t.callee&&s(t.length)?!0:!1},h=function(t){return t&&t.constructor===Function},d=function(t){return e(t)?"undefined":i(t)?"null":s(t)?"number":a(t)?"boolean":n(t)?"string":r(t)?"object":o(t)?"array":l(t)?"arguments":h(t)?"function":"other"},u=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},f=function(t,e,i){var s,n,t,a,l=arguments;for(1===l.length?(t=this,s=0):(t=l[0]||{},s=1);s<arguments.length;s++){a=arguments[s];for(n in a){var d=t[n],c=a[n];d!==c&&(!c||!r(c)||o(c)||c.nodeType||h(c)?void 0!==c&&(t[n]=c):(d=t[n]||{},t[n]=f(d,c||(null!=c.length?[]:{}))))}}return t},c=function(){},p=function(){var e=arguments.length,i=arguments[e-1];if(i.init=i.init||function(){},2===e){var s=arguments[0].extend,n=function(){};n.prototype=s.prototype;var a=function(){this.init.apply(this,arguments)};return a.superClass=s.prototype,a.callSuper=function(t,e){var i=Array.prototype.slice,s=i.call(arguments,2),e=a.superClass[e];e&&e.apply(t,s.concat(i.call(arguments)))},a.prototype=new n,a.prototype.constructor=a,t.extend(a.prototype,i),a.prototype.init=function(){i.init.apply(this,arguments)},a}if(1===e){var r=function(){return this.init.apply(this,arguments)};return r.prototype=i,r}},t.isUndefined=e,t.isNull=i,t.isNumber=s,t.isString=n,t.isBoolean=a,t.isObject=r,t.isArray=o,t.isArguments=l,t.isFunction=h,t.$typeof=d,t.emptyFunc=c,t.random=u,t.extend=f,t.Class=p}),Jx()["package"]("T.Collections",function(t){this.StackedMap=new t.Class({init:function(){this._innerStack=[]},add:function(t,e){this._innerStack.push({key:t,value:e})},get:function(t){for(var e=0;e<this._innerStack.length;e++)if(t===this._innerStack[e].key)return this._innerStack[e]},keys:function(){for(var t=[],e=0;e<this._innerStack.length;e++)t.push(this._innerStack[e].key);return t},top:function(){return this._innerStack[this._innerStack.length-1]},remove:function(t){for(var e=-1,i=0;i<this._innerStack.length;i++)if(t===this._innerStack[i].key){e=i;break}return this._innerStack.splice(e,1)[0]},removeTop:function(){return this._innerStack.splice(this._innerStack.length-1,1)[0]},length:function(){return this._innerStack.length}}),this.MultiMap=new t.Class({init:function(){this._innerMap={}},entries:function(){return Object.keys(this._innerMap).map(function(t){return{key:t,value:this._innerMap[t]}})},get:function(t){return this._innerMap[t]},hasKey:function(t){return!!this._innerMap[t]},keys:function(){return Object.keys(this._innerMap)},put:function(t,e){this._innerMap[t]||(this._innerMap[t]=[]),this._innerMap[t].push(e)},remove:function(t,e){var i=this._innerMap[t];if(i){var s=i.indexOf(e);-1!==s&&i.splice(s,1),i.length||delete this._innerMap[t]}}})}),function(){function t(){return Ei.apply(null,arguments)}function e(t){Ei=t}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function n(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){for(var i in e)a(e,i)&&(t[i]=e[i]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function o(t,e,i,s){return At(t,e,i,s,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(t){return null==t._pf&&(t._pf=l()),t._pf}function d(t){if(null==t._isValid){var e=h(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=o(NaN);return null!=t?r(h(e),t):h(e).userInvalidated=!0,e}function u(t,e){var i,s,n;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=h(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Fi.length>0)for(i in Fi)s=Fi[i],n=e[s],"undefined"!=typeof n&&(t[s]=n);return t}function f(e){u(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Li===!1&&(Li=!0,t.updateOffset(this),Li=!1)}function p(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=m(e)),i}function v(t,e,i){var s,n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(s=0;n>s;s++)(i&&t[s]!==e[s]||!i&&g(t[s])!==g(e[s]))&&r++;return r+a}function b(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,i,s,n,a=0;a<t.length;){for(n=y(t[a]).split("-"),e=n.length,i=y(t[a+1]),i=i?i.split("-"):null;e>0;){if(s=T(n.slice(0,e).join("-")))return s;if(i&&i.length>=e&&v(n,i,!0)>=e-1)break;e--}a++}return null}function T(t){var e=null;if(!Ni[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Hi._abbr,require("./locale/"+t),S(e)}catch(i){}return Ni[t]}function S(t,e){var i;return t&&(i="undefined"==typeof e?C(t):D(t,e),i&&(Hi=i)),Hi._abbr}function D(t,e){return null!==e?(e.abbr=t,Ni[t]=Ni[t]||new b,Ni[t].set(e),S(t),Ni[t]):(delete Ni[t],null)}function C(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Hi;if(!i(t)){if(e=T(t))return e;t=[t]}return w(t)}function x(t,e){var i=t.toLowerCase();Pi[i]=Pi[i+"s"]=Pi[e]=t}function _(t){return"string"==typeof t?Pi[t]||Pi[t.toLowerCase()]:void 0}function k(t){var e,i,s={};for(i in t)a(t,i)&&(e=_(i),e&&(s[e]=t[i]));return s}function A(e,i){return function(s){return null!=s?(M(this,e,s),t.updateOffset(this,i),this):$(this,e)}}function $(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function M(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function I(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=_(t),"function"==typeof this[t])return this[t](e);return this}function O(t,e,i){var s=""+Math.abs(t),n=e-s.length,a=t>=0;return(a?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}function E(t,e,i,s){var n=s;"string"==typeof s&&(n=function(){return this[s]()}),t&&(Ri[t]=n),e&&(Ri[e[0]]=function(){return O(n.apply(this,arguments),e[1],e[2])}),i&&(Ri[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function H(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function F(t){var e,i,s=t.match(Yi);for(e=0,i=s.length;i>e;e++)Ri[s[e]]?s[e]=Ri[s[e]]:s[e]=H(s[e]);return function(n){var a="";for(e=0;i>e;e++)a+=s[e]instanceof Function?s[e].call(n,t):s[e];return a}}function L(t,e){return t.isValid()?(e=N(e,t.localeData()),Ui[e]=Ui[e]||F(e),Ui[e](t)):t.localeData().invalidDate()}function N(t,e){function i(t){return e.longDateFormat(t)||t}var s=5;for(Bi.lastIndex=0;s>=0&&Bi.test(t);)t=t.replace(Bi,i),Bi.lastIndex=0,s-=1;return t}function P(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function Y(t,e,i){ss[t]=P(e)?e:function(t){return t&&i?i:e}}function B(t,e){return a(ss,t)?ss[t](e._strict,e._locale):new RegExp(U(t))}function U(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,n){return e||i||s||n}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function R(t,e){var i,s=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(s=function(t,i){i[e]=g(t)}),i=0;i<t.length;i++)ns[t[i]]=s}function V(t,e){R(t,function(t,i,s,n){s._w=s._w||{},e(t,s._w,s,n)})}function W(t,e,i){null!=e&&a(ns,t)&&ns[t](e,i._a,i,t)}function j(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function G(t){return this._months[t.month()]}function J(t){return this._monthsShort[t.month()]}function z(t,e,i){var s,n,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(n=o([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}}function q(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),j(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function X(e){return null!=e?(q(this,e),t.updateOffset(this,!0),this):$(this,"Month")}function Z(){return j(this.year(),this.month())}function K(t){var e,i=t._a;return i&&-2===h(t).overflow&&(e=i[rs]<0||i[rs]>11?rs:i[os]<1||i[os]>j(i[as],i[rs])?os:i[ls]<0||i[ls]>24||24===i[ls]&&(0!==i[hs]||0!==i[ds]||0!==i[cs])?ls:i[hs]<0||i[hs]>59?hs:i[ds]<0||i[ds]>59?ds:i[cs]<0||i[cs]>999?cs:-1,h(t)._overflowDayOfYear&&(as>e||e>os)&&(e=os),h(t).overflow=e),t}function Q(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var i=!0;return r(function(){return i&&(Q(t+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function et(t,e){ps[t]||(Q(e),ps[t]=!0)}function it(t){var e,i,s=t._i,n=ms.exec(s);if(n){for(h(t).iso=!0,e=0,i=gs.length;i>e;e++)if(gs[e][1].exec(s)){t._f=gs[e][0];break}for(e=0,i=vs.length;i>e;e++)if(vs[e][1].exec(s)){t._f+=(n[6]||" ")+vs[e][0];break}s.match(ts)&&(t._f+="Z"),Tt(t)}else t._isValid=!1}function st(e){var i=bs.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(it(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function nt(t,e,i,s,n,a,r){var o=new Date(t,e,i,s,n,a,r);return 1970>t&&o.setFullYear(t),o}function at(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function rt(t){return ot(t)?366:365}function ot(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return ot(this.year())}function ht(t,e,i){var s,n=i-e,a=i-t.day();return a>n&&(a-=7),n-7>a&&(a+=7),s=$t(t).add(a,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function dt(t){return ht(t,this._week.dow,this._week.doy).week}function ct(){return this._week.dow}function ut(){return this._week.doy}function ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function mt(t,e,i,s,n){var a,r=6+n-s,o=at(t,0,1+r),l=o.getUTCDay();return n>l&&(l+=7),i=null!=i?1*i:n,a=1+r+7*(e-1)-l+i,{year:a>0?t:t-1,dayOfYear:a>0?a:rt(t-1)+a}}function gt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,i){return null!=t?t:null!=e?e:i}function bt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yt(t){var e,i,s,n,a=[];if(!t._d){for(s=bt(t),t._w&&null==t._a[os]&&null==t._a[rs]&&wt(t),t._dayOfYear&&(n=vt(t._a[as],s[as]),t._dayOfYear>rt(n)&&(h(t)._overflowDayOfYear=!0),i=at(n,0,t._dayOfYear),t._a[rs]=i.getUTCMonth(),t._a[os]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=a[e]=s[e];for(;7>e;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ls]&&0===t._a[hs]&&0===t._a[ds]&&0===t._a[cs]&&(t._nextDay=!0,t._a[ls]=0),t._d=(t._useUTC?at:nt).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ls]=24)}}function wt(t){var e,i,s,n,a,r,o;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(a=1,r=4,i=vt(e.GG,t._a[as],ht($t(),1,4).year),s=vt(e.W,1),n=vt(e.E,1)):(a=t._locale._week.dow,r=t._locale._week.doy,i=vt(e.gg,t._a[as],ht($t(),a,r).year),s=vt(e.w,1),null!=e.d?(n=e.d,a>n&&++s):n=null!=e.e?e.e+a:a),o=mt(i,s,n,r,a),t._a[as]=o.year,t._dayOfYear=o.dayOfYear}function Tt(e){if(e._f===t.ISO_8601)return void it(e);e._a=[],h(e).empty=!0;var i,s,n,a,r,o=""+e._i,l=o.length,d=0;for(n=N(e._f,e._locale).match(Yi)||[],i=0;i<n.length;i++)a=n[i],s=(o.match(B(a,e))||[])[0],s&&(r=o.substr(0,o.indexOf(s)),r.length>0&&h(e).unusedInput.push(r),o=o.slice(o.indexOf(s)+s.length),d+=s.length),Ri[a]?(s?h(e).empty=!1:h(e).unusedTokens.push(a),W(a,s,e)):e._strict&&!s&&h(e).unusedTokens.push(a);h(e).charsLeftOver=l-d,o.length>0&&h(e).unusedInput.push(o),h(e).bigHour===!0&&e._a[ls]<=12&&e._a[ls]>0&&(h(e).bigHour=void 0),e._a[ls]=St(e._locale,e._a[ls],e._meridiem),yt(e),K(e)}function St(t,e,i){var s;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(s=t.isPM(i),s&&12>e&&(e+=12),s||12!==e||(e=0),e):e}function Dt(t){var e,i,s,n,a;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)a=0,e=u({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],Tt(e),d(e)&&(a+=h(e).charsLeftOver,a+=10*h(e).unusedTokens.length,h(e).score=a,(null==s||s>a)&&(s=a,i=e));r(t,i||e)}function Ct(t){if(!t._d){var e=k(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],yt(t)}}function xt(t){var e=new f(K(_t(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function _t(t){var e=t._i,n=t._f;return t._locale=t._locale||C(t._l),null===e||void 0===n&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),p(e)?new f(K(e)):(i(n)?Dt(t):n?Tt(t):s(e)?t._d=e:kt(t),t))}function kt(e){var a=e._i;void 0===a?e._d=new Date:s(a)?e._d=new Date(+a):"string"==typeof a?st(e):i(a)?(e._a=n(a.slice(0),function(t){return parseInt(t,10)}),yt(e)):"object"==typeof a?Ct(e):"number"==typeof a?e._d=new Date(a):t.createFromInputFallback(e)}function At(t,e,i,s,n){var a={};return"boolean"==typeof i&&(s=i,i=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=n,a._l=i,a._i=t,a._f=e,a._strict=s,xt(a)}function $t(t,e,i,s){return At(t,e,i,s,!1)}function Mt(t,e){var s,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return $t();for(s=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](s))&&(s=e[n]);return s}function It(){var t=[].slice.call(arguments,0);return Mt("isBefore",t)}function Ot(){var t=[].slice.call(arguments,0);return Mt("isAfter",t)}function Et(t){var e=k(t),i=e.year||0,s=e.quarter||0,n=e.month||0,a=e.week||0,r=e.day||0,o=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*h+6e4*l+36e5*o,this._days=+r+7*a,this._months=+n+3*s+12*i,this._data={},this._locale=C(),this._bubble()}function Ht(t){return t instanceof Et}function Ft(t,e){E(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+O(~~(t/60),2)+e+O(~~t%60,2)})}function Lt(t){var e=(t||"").match(ts)||[],i=e[e.length-1]||[],s=(i+"").match(Ds)||["-",0,0],n=+(60*s[1])+g(s[2]);return"+"===s[0]?n:-n}function Nt(e,i){var n,a;return i._isUTC?(n=i.clone(),a=(p(e)||s(e)?+e:+$t(e))-+n,n._d.setTime(+n._d+a),t.updateOffset(n,!1),n):$t(e).local()}function Pt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Yt(e,i){var s,n=this._offset||0;return null!=e?("string"==typeof e&&(e=Lt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&i&&(s=Pt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),n!==e&&(!i||this._changeInProgress?ee(this,Xt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:Pt(this)}function Bt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ut(t){return this.utcOffset(0,t)}function Rt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pt(this),"m")),this}function Vt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Lt(this._i)),this}function Wt(t){return t=t?$t(t).utcOffset():0,(this.utcOffset()-t)%60===0}function jt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(u(t,this),t=_t(t),t._a){var e=t._isUTC?o(t._a):$t(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jt(){return!this._isUTC}function zt(){return this._isUTC}function qt(){return this._isUTC&&0===this._offset}function Xt(t,e){var i,s,n,r=t,o=null;return Ht(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(o=Cs.exec(t))?(i="-"===o[1]?-1:1,r={y:0,d:g(o[os])*i,h:g(o[ls])*i,m:g(o[hs])*i,s:g(o[ds])*i,ms:g(o[cs])*i}):(o=xs.exec(t))?(i="-"===o[1]?-1:1,r={y:Zt(o[2],i),M:Zt(o[3],i),d:Zt(o[4],i),h:Zt(o[5],i),m:Zt(o[6],i),s:Zt(o[7],i),w:Zt(o[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(n=Qt($t(r.from),$t(r.to)),r={},r.ms=n.milliseconds,r.M=n.months),s=new Et(r),Ht(t)&&a(t,"_locale")&&(s._locale=t._locale),s}function Zt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Kt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Qt(t,e){var i;return e=Nt(e,t),t.isBefore(e)?i=Kt(t,e):(i=Kt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function te(t,e){return function(i,s){var n,a;return null===s||isNaN(+s)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),a=i,i=s,s=a),i="string"==typeof i?+i:i,n=Xt(i,s),ee(this,n,t),this}}function ee(e,i,s,n){var a=i._milliseconds,r=i._days,o=i._months;n=null==n?!0:n,a&&e._d.setTime(+e._d+a*s),r&&M(e,"Date",$(e,"Date")+r*s),o&&q(e,$(e,"Month")+o*s),n&&t.updateOffset(e,r||o)}function ie(t,e){var i=t||$t(),s=Nt(i,this).startOf("day"),n=this.diff(s,"days",!0),a=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(e&&e[a]||this.localeData().calendar(a,this,$t(i)))}function se(){return new f(this)}function ne(t,e){var i;return e=_("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:$t(t),+this>+t):(i=p(t)?+t:+$t(t),i<+this.clone().startOf(e))}function ae(t,e){var i;return e=_("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:$t(t),+t>+this):(i=p(t)?+t:+$t(t),+this.clone().endOf(e)<i)}function re(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function oe(t,e){var i;return e=_(e||"millisecond"),"millisecond"===e?(t=p(t)?t:$t(t),+this===+t):(i=+$t(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function le(t,e,i){var s,n,a=Nt(t,this),r=6e4*(a.utcOffset()-this.utcOffset());return e=_(e),"year"===e||"month"===e||"quarter"===e?(n=he(this,a),"quarter"===e?n/=3:"year"===e&&(n/=12)):(s=this-a,n="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),i?n:m(n)}function he(t,e){var i,s,n=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(n,"months");return 0>e-a?(i=t.clone().add(n-1,"months"),s=(e-a)/(a-i)):(i=t.clone().add(n+1,"months"),s=(e-a)/(i-a)),-(n+s)}function de(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ce(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ue(e){var i=L(this,e||t.defaultFormat);return this.localeData().postformat(i)}function fe(t,e){return this.isValid()?Xt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from($t(),t)}function me(t,e){return this.isValid()?Xt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to($t(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=C(t),null!=e&&(this._locale=e),this)}function be(){return this._locale}function ye(t){switch(t=_(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=_(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Te(){return+this._d-6e4*(this._offset||0)}function Se(){return Math.floor(+this/1e3)}function De(){return this._offset?new Date(+this):this._d}function Ce(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function _e(){return d(this)}function ke(){return r({},h(this))}function Ae(){return h(this).overflow}function $e(t,e){E(0,[t,t.length],0,e)}function Me(t,e,i){return ht($t([t,11,31+e-i]),e,i).week}function Ie(t){var e=ht(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Oe(t){var e=ht(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ee(){return Me(this.year(),1,4)}function He(){var t=this.localeData()._week;return Me(this.year(),t.dow,t.doy)}function Fe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Le(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ne(t){return this._weekdays[t.day()]}function Pe(t){return this._weekdaysShort[t.day()]}function Ye(t){return this._weekdaysMin[t.day()]}function Be(t){var e,i,s;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(i=$t([2e3,1]).day(e),s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Ue(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Le(t,this.localeData()),this.add(t-e,"d")):e}function Re(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ve(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function We(t,e){E(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function je(t,e){return e._meridiemParse}function Ge(t){return"p"===(t+"").toLowerCase().charAt(0)}function Je(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function ze(t,e){e[cs]=g(1e3*("0."+t))}function qe(){return this._isUTC?"UTC":""}function Xe(){return this._isUTC?"Coordinated Universal Time":""}function Ze(t){return $t(1e3*t)}function Ke(){return $t.apply(null,arguments).parseZone()}function Qe(t,e,i){var s=this._calendar[t];return"function"==typeof s?s.call(e,i):s}function ti(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function ei(){return this._invalidDate}function ii(t){return this._ordinal.replace("%d",t)}function si(t){return t}function ni(t,e,i,s){var n=this._relativeTime[i];return"function"==typeof n?n(t,e,i,s):n.replace(/%d/i,t)}function ai(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function ri(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function oi(t,e,i,s){var n=C(),a=o().set(s,e);return n[i](a,t)}function li(t,e,i,s,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return oi(t,e,i,n);var a,r=[];for(a=0;s>a;a++)r[a]=oi(t,a,i,n);return r}function hi(t,e){return li(t,e,"months",12,"month")}function di(t,e){return li(t,e,"monthsShort",12,"month")}function ci(t,e){return li(t,e,"weekdays",7,"day")}function ui(t,e){return li(t,e,"weekdaysShort",7,"day")}function fi(t,e){return li(t,e,"weekdaysMin",7,"day")}function pi(){var t=this._data;return this._milliseconds=zs(this._milliseconds),this._days=zs(this._days),this._months=zs(this._months),t.milliseconds=zs(t.milliseconds),t.seconds=zs(t.seconds),t.minutes=zs(t.minutes),t.hours=zs(t.hours),t.months=zs(t.months),t.years=zs(t.years),this}function mi(t,e,i,s){var n=Xt(e,i);return t._milliseconds+=s*n._milliseconds,t._days+=s*n._days,t._months+=s*n._months,t._bubble()}function gi(t,e){return mi(this,t,e,1)}function vi(t,e){return mi(this,t,e,-1)}function bi(t){return 0>t?Math.floor(t):Math.ceil(t)}function yi(){var t,e,i,s,n,a=this._milliseconds,r=this._days,o=this._months,l=this._data;return a>=0&&r>=0&&o>=0||0>=a&&0>=r&&0>=o||(a+=864e5*bi(Ti(o)+r),r=0,o=0),l.milliseconds=a%1e3,t=m(a/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,i=m(e/60),l.hours=i%24,r+=m(i/24),n=m(wi(r)),o+=n,r-=bi(Ti(n)),s=m(o/12),o%=12,l.days=r,l.months=o,l.years=s,this}function wi(t){return 4800*t/146097}function Ti(t){return 146097*t/4800}function Si(t){var e,i,s=this._milliseconds;if(t=_(t),"month"===t||"year"===t)return e=this._days+s/864e5,i=this._months+wi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Ti(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}}function Di(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Ci(t){return function(){return this.as(t)}}function xi(t){return t=_(t),this[t+"s"]()}function _i(t){return function(){return this._data[t]}}function ki(){return m(this.days()/7)}function Ai(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}function $i(t,e,i){var s=Xt(t).abs(),n=cn(s.as("s")),a=cn(s.as("m")),r=cn(s.as("h")),o=cn(s.as("d")),l=cn(s.as("M")),h=cn(s.as("y")),d=n<un.s&&["s",n]||1===a&&["m"]||a<un.m&&["mm",a]||1===r&&["h"]||r<un.h&&["hh",r]||1===o&&["d"]||o<un.d&&["dd",o]||1===l&&["M"]||l<un.M&&["MM",l]||1===h&&["y"]||["yy",h];return d[2]=e,d[3]=+t>0,d[4]=i,Ai.apply(null,d)}function Mi(t,e){return void 0===un[t]?!1:void 0===e?un[t]:(un[t]=e,!0)}function Ii(t){var e=this.localeData(),i=$i(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Oi(){var t,e,i,s=fn(this._milliseconds)/1e3,n=fn(this._days),a=fn(this._months);t=m(s/60),e=m(t/60),s%=60,t%=60,i=m(a/12),a%=12;var r=i,o=a,l=n,h=e,d=t,c=s,u=this.asSeconds();return u?(0>u?"-":"")+"P"+(r?r+"Y":"")+(o?o+"M":"")+(l?l+"D":"")+(h||d||c?"T":"")+(h?h+"H":"")+(d?d+"M":"")+(c?c+"S":""):"P0D"}var Ei,Hi,Fi=t.momentProperties=[],Li=!1,Ni={},Pi={},Yi=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Bi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ui={},Ri={},Vi=/\d/,Wi=/\d\d/,ji=/\d{3}/,Gi=/\d{4}/,Ji=/[+-]?\d{6}/,zi=/\d\d?/,qi=/\d{1,3}/,Xi=/\d{1,4}/,Zi=/[+-]?\d{1,6}/,Ki=/\d+/,Qi=/[+-]?\d+/,ts=/Z|[+-]\d\d:?\d\d/gi,es=/[+-]?\d+(\.\d{1,3})?/,is=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ss={},ns={},as=0,rs=1,os=2,ls=3,hs=4,ds=5,cs=6;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),E("MMMM",0,0,function(t){return this.localeData().months(this,t)}),x("month","M"),Y("M",zi),Y("MM",zi,Wi),Y("MMM",is),Y("MMMM",is),R(["M","MM"],function(t,e){e[rs]=g(t)-1}),R(["MMM","MMMM"],function(t,e,i,s){var n=i._locale.monthsParse(t,s,i._strict);null!=n?e[rs]=n:h(i).invalidMonth=t});var us="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ps={};t.suppressDeprecationWarnings=!1;var ms=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],vs=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bs=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),x("year","y"),Y("Y",Qi),Y("YY",zi,Wi),Y("YYYY",Xi,Gi),Y("YYYYY",Zi,Ji),Y("YYYYYY",Zi,Ji),R(["YYYYY","YYYYYY"],as),R("YYYY",function(e,i){i[as]=2===e.length?t.parseTwoDigitYear(e):g(e)}),R("YY",function(e,i){i[as]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var ys=A("FullYear",!1);E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),Y("w",zi),Y("ww",zi,Wi),Y("W",zi),Y("WW",zi,Wi),V(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=g(t)});var ws={dow:0,doy:6};E("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),Y("DDD",qi),Y("DDDD",ji),R(["DDD","DDDD"],function(t,e,i){i._dayOfYear=g(t)}),t.ISO_8601=function(){};var Ts=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=$t.apply(null,arguments);return this>t?this:t}),Ss=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=$t.apply(null,arguments);return t>this?this:t});Ft("Z",":"),Ft("ZZ",""),Y("Z",ts),Y("ZZ",ts),R(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Lt(t)});var Ds=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Cs=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,xs=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Xt.fn=Et.prototype;var _s=te(1,"add"),ks=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var As=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),$e("gggg","weekYear"),$e("ggggg","weekYear"),$e("GGGG","isoWeekYear"),$e("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),Y("G",Qi),Y("g",Qi),Y("GG",zi,Wi),Y("gg",zi,Wi),Y("GGGG",Xi,Gi),Y("gggg",Xi,Gi),Y("GGGGG",Zi,Ji),Y("ggggg",Zi,Ji),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=g(t)}),V(["gg","GG"],function(e,i,s,n){i[n]=t.parseTwoDigitYear(e)}),E("Q",0,0,"quarter"),x("quarter","Q"),Y("Q",Vi),R("Q",function(t,e){e[rs]=3*(g(t)-1)}),E("D",["DD",2],"Do","date"),x("date","D"),Y("D",zi),Y("DD",zi,Wi),Y("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),R(["D","DD"],os),R("Do",function(t,e){e[os]=g(t.match(zi)[0],10)});var $s=A("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),E("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),E("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),Y("d",zi),Y("e",zi),Y("E",zi),Y("dd",is),Y("ddd",is),Y("dddd",is),V(["dd","ddd","dddd"],function(t,e,i){var s=i._locale.weekdaysParse(t);null!=s?e.d=s:h(i).invalidWeekday=t}),V(["d","e","E"],function(t,e,i,s){e[s]=g(t)});var Ms="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Is="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Os="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("H",["HH",2],0,"hour"),E("h",["hh",2],0,function(){return this.hours()%12||12}),We("a",!0),We("A",!1),x("hour","h"),Y("a",je),Y("A",je),Y("H",zi),Y("h",zi),Y("HH",zi,Wi),Y("hh",zi,Wi),R(["H","HH"],ls),R(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),R(["h","hh"],function(t,e,i){e[ls]=g(t),h(i).bigHour=!0});var Es=/[ap]\.?m?\.?/i,Hs=A("Hours",!0);E("m",["mm",2],0,"minute"),x("minute","m"),Y("m",zi),Y("mm",zi,Wi),R(["m","mm"],hs);var Fs=A("Minutes",!1);E("s",["ss",2],0,"second"),x("second","s"),Y("s",zi),Y("ss",zi,Wi),R(["s","ss"],ds);var Ls=A("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),x("millisecond","ms"),Y("S",qi,Vi),Y("SS",qi,Wi),Y("SSS",qi,ji);var Ns;for(Ns="SSSS";Ns.length<=9;Ns+="S")Y(Ns,Ki);for(Ns="S";Ns.length<=9;Ns+="S")R(Ns,ze);var Ps=A("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var Ys=f.prototype;Ys.add=_s,Ys.calendar=ie,Ys.clone=se,Ys.diff=le,Ys.endOf=we,Ys.format=ue,Ys.from=fe,Ys.fromNow=pe,Ys.to=me,Ys.toNow=ge,Ys.get=I,Ys.invalidAt=Ae,Ys.isAfter=ne,Ys.isBefore=ae,Ys.isBetween=re,Ys.isSame=oe,Ys.isValid=_e,Ys.lang=As,Ys.locale=ve,Ys.localeData=be,Ys.max=Ss,Ys.min=Ts,Ys.parsingFlags=ke,Ys.set=I,Ys.startOf=ye,Ys.subtract=ks,Ys.toArray=Ce,Ys.toObject=xe,Ys.toDate=De,Ys.toISOString=ce,Ys.toJSON=ce,Ys.toString=de,Ys.unix=Se,Ys.valueOf=Te,Ys.year=ys,Ys.isLeapYear=lt,Ys.weekYear=Ie,Ys.isoWeekYear=Oe,Ys.quarter=Ys.quarters=Fe,Ys.month=X,Ys.daysInMonth=Z,Ys.week=Ys.weeks=ft,Ys.isoWeek=Ys.isoWeeks=pt,Ys.weeksInYear=He,Ys.isoWeeksInYear=Ee,Ys.date=$s,Ys.day=Ys.days=Ue,Ys.weekday=Re,Ys.isoWeekday=Ve,Ys.dayOfYear=gt,Ys.hour=Ys.hours=Hs,Ys.minute=Ys.minutes=Fs,Ys.second=Ys.seconds=Ls,Ys.millisecond=Ys.milliseconds=Ps,Ys.utcOffset=Yt,Ys.utc=Ut,Ys.local=Rt,Ys.parseZone=Vt,Ys.hasAlignedHourOffset=Wt,Ys.isDST=jt,Ys.isDSTShifted=Gt,Ys.isLocal=Jt,Ys.isUtcOffset=zt,Ys.isUtc=qt,Ys.isUTC=qt,Ys.zoneAbbr=qe,Ys.zoneName=Xe,Ys.dates=tt("dates accessor is deprecated. Use date instead.",$s),Ys.months=tt("months accessor is deprecated. Use month instead",X),Ys.years=tt("years accessor is deprecated. Use year instead",ys),Ys.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Bt);var Bs=Ys,Us={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Rs={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Vs="Invalid date",Ws="%d",js=/\d{1,2}/,Gs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Js=b.prototype;Js._calendar=Us,Js.calendar=Qe,Js._longDateFormat=Rs,Js.longDateFormat=ti,Js._invalidDate=Vs,Js.invalidDate=ei,Js._ordinal=Ws,Js.ordinal=ii,Js._ordinalParse=js,Js.preparse=si,Js.postformat=si,Js._relativeTime=Gs,Js.relativeTime=ni,Js.pastFuture=ai,Js.set=ri,Js.months=G,Js._months=us,Js.monthsShort=J,Js._monthsShort=fs,Js.monthsParse=z,Js.week=dt,Js._week=ws,Js.firstDayOfYear=ut,Js.firstDayOfWeek=ct,Js.weekdays=Ne,Js._weekdays=Ms,Js.weekdaysMin=Ye,Js._weekdaysMin=Os,Js.weekdaysShort=Pe,Js._weekdaysShort=Is,Js.weekdaysParse=Be,Js.isPM=Ge,Js._meridiemParse=Es,Js.meridiem=Je,S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",S),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",C);var zs=Math.abs,qs=Ci("ms"),Xs=Ci("s"),Zs=Ci("m"),Ks=Ci("h"),Qs=Ci("d"),tn=Ci("w"),en=Ci("M"),sn=Ci("y"),nn=_i("milliseconds"),an=_i("seconds"),rn=_i("minutes"),on=_i("hours"),ln=_i("days"),hn=_i("months"),dn=_i("years"),cn=Math.round,un={s:45,m:45,h:22,d:26,M:11},fn=Math.abs,pn=Et.prototype;pn.abs=pi,pn.add=gi,pn.subtract=vi,pn.as=Si,pn.asMilliseconds=qs,pn.asSeconds=Xs,pn.asMinutes=Zs,pn.asHours=Ks,pn.asDays=Qs,pn.asWeeks=tn,pn.asMonths=en,pn.asYears=sn,pn.valueOf=Di,pn._bubble=yi,pn.get=xi,pn.milliseconds=nn,pn.seconds=an,pn.minutes=rn,pn.hours=on,pn.days=ln,pn.weeks=ki,pn.months=hn,pn.years=dn,pn.humanize=Ii,pn.toISOString=Oi,pn.toString=Oi,pn.toJSON=Oi,pn.locale=ve,pn.localeData=be,pn.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Oi),pn.lang=As,E("X",0,0,"unix"),E("x",0,0,"valueOf"),Y("x",Qi),Y("X",es),R("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),R("x",function(t,e,i){i._d=new Date(g(t))}),t.version="2.10.6",e($t),t.fn=Bs,t.min=It,t.max=Ot,t.utc=o,t.unix=Ze,t.months=hi,t.isDate=s,t.locale=S,t.invalid=c,t.duration=Xt,t.isMoment=p,t.weekdays=ci,t.parseZone=Ke,t.localeData=C,t.isDuration=Ht,t.monthsShort=di,t.weekdaysMin=fi,t.defineLocale=D,t.weekdaysShort=ui,t.normalizeUnits=_,t.relativeTimeThreshold=Mi;var mn=t;window.moment=mn}(),function(t){t.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"下午"===e||"晚上"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var s=100*t+e;return 600>s?"凌晨":900>s?"早上":1130>s?"上午":1230>s?"中午":1800>s?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var e,i;return e=t().startOf("week"),i=this.unix()-e.unix()>=604800?"[下]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},lastWeek:function(){var e,i;return e=t().startOf("week"),i=this.unix()<e.unix()?"[上]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(moment),function(t){t.locale("zh_cn")}(moment),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,s=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(s).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),Jx()["package"]("T.Utilities",function(t){"use strict";String.format=function(){if(0===arguments.length)return null;for(var t=arguments[0],e=1;e<arguments.length;e++){var i=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(i,arguments[e])}return t}}),Jx()["package"]("T.UI",function(t){"use strict";function e(t,e){var i={};for(var s in e){var n=e[s],a="t-"+n,n=t.data(a);i[s]=n||void 0}return i}var i=0;this.BaseControl=new t.Class({init:function(){},initSettings:function(t,s){i+=1,this.pluginId=i;var n=e(t,this.attributeMap);this.settings=$.extend(!0,{},this.defaults,n,s)},initStates:function(){},bindEvents:function(){},unbindEvents:function(){},enable:function(){},disable:function(){},destroy:function(){this.unbindEvents()}})}),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.affix"),a="object"==typeof e&&e;n||s.data("bs.affix",n=new i(this,a)),"string"==typeof e&&n[e]()})}var i=function(e,s){this.options=t.extend({},i.DEFAULTS,s),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,s){var n=this.$target.scrollTop(),a=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=a.top?!1:"bottom":t-s>=n+r?!1:"bottom";var o=null==this.affixed,l=o?n:a.top,h=o?r:e;return null!=i&&i>=n?"top":null!=s&&l+h>=t-s?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),s=this.options.offset,n=s.top,a=s.bottom,r=Math.max(t(document).height(),t(document.body).height());"object"!=typeof s&&(a=n=s),"function"==typeof n&&(n=s.top(this.$element)),"function"==typeof a&&(a=s.bottom(this.$element));var o=this.getState(r,e,n,a);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var l="affix"+(o?"-"+o:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-e-a})}};t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i}(jQuery),Jx()["package"]("T.UI.Controls",function(t){"use strict";function e(t,e){for(var i=String(Math.abs(t));i.length<e;)i="0"+i;return 0>t&&(i="-"+i),i}var i={format:""},s={format:"format"},n=[31,28,31,30,31,30,31,31,30,31,30,31],a=!1,r=new t.Class({init:function(t){this._flen=0,this._longDay=9,this._longMon=9,this._shortDay=6,this._shortMon=3,this._offAl=Number.MIN_VALUE,this._offCap=Number.MIN_VALUE,this._offF=Number.MIN_VALUE,this._offFSI=-1,this._offP=Number.MIN_VALUE,this._offPSI=-1,this._captureOffset=!1,this.fmt="%Y-%m-%d %T",this.dAbbr=["日","一","二","三","四","五","六"],this.dNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.eAbbr=["公元前","公元"],this.mAbbr=["一","二","三","四","五","六","七","八","九","十","十一","十二"],this.mNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.baseYear=null;var e,i;if(t=$.extend(!0,{},t||{}),t.baseYear&&(this.baseYear=Number(t.baseYear)),t.format&&(this.fmt=t.format),this._flen=this.fmt.length,t.dayAbbreviations&&(this.dAbbr=$.makeArray(t.dayAbbreviations)),t.dayNames)for(this.dNames=$.makeArray(t.dayNames),this._longDay=1,this._shortDay=1e3,e=0;7>e;e++)i=this.dNames[e].length,i>this._longDay&&(this._longDay=i),i<this._shortDay&&(this._shortDay=i);if(t.eraAbbreviations&&(this.eAbbr=$.makeArray(t.eraAbbreviations)),t.monthAbbreviations&&(this.mAbbr=$.makeArray(t.monthAbbreviations)),t.monthNames)for(this.mNames=$.makeArray(t.monthNames),this._longMon=1,this._shortMon=1e3,e=0;12>e;e++)i=this.mNames[e].length,i>this._longMon&&(this._longMon=i),i<this._shortMon&&(this._shortMon=i);"undefined"!=typeof t.utcFormatOffsetImposed&&(this._offF=t.utcFormatOffsetImposed),"undefined"!=typeof t.utcParseOffsetAssumed&&(this._offP=t.utcParseOffsetAssumed),t.utcParseOffsetCapture&&(this._captureOffset=!0)},dAt:function(t,e){return t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0)},format:function(t){var i=new Date(t.getTime());this._offAl==Number.MIN_VALUE&&this._offF!=Number.MIN_VALUE&&i.setTime(i.getTime()+6e4*i.getTimezoneOffset()+6e4*this._offF);for(var s,n="",a=0;a<this._flen;a++)if("%"!=this.fmt.charAt(a))n+=this.fmt.charAt(a);else{var r=this.fmt.charAt(a+1);switch(r){case"a":n+=this.dAbbr[i.getDay()];break;case"B":i.getFullYear()<0&&(n+=this.eAbbr[0]);break;case"b":n+=this.mAbbr[i.getMonth()];break;case"C":i.getFullYear()>0&&(n+=this.eAbbr[1]);break;case"c":n+=i.getMonth()+1;break;case"d":s=i.getDate(),10>s&&(n+="0"),n+=String(s);break;case"D":if(s=String(i.getDate()),n+=s,2==s.length&&"1"==s.charAt(0))n+="th";else switch(s.charAt(s.length-1)){case"1":n+="st";break;case"2":n+="nd";break;case"3":n+="rd";break;default:n+="th"}break;case"E":n+=this.eAbbr[i.getFullYear()<0?0:1];break;case"e":n+=i.getDate();break;case"H":s=i.getHours(),10>s&&(n+="0"),n+=String(s);break;case"h":case"I":s=i.getHours()%12,0===s?n+="12":(10>s&&(n+="0"),n+=String(s));break;case"i":s=i.getMinutes(),10>s&&(n+="0"),n+=String(s);break;case"k":n+=i.getHours();break;case"l":s=i.getHours()%12,n+=0===s?"12":String(s);break;case"M":n+=this.mNames[i.getMonth()];break;case"m":s=i.getMonth()+1,10>s&&(n+="0"),n+=String(s);break;case"p":n+=i.getHours()<12?"AM":"PM";break;case"r":s=i.getHours()%12,0===s?n+="12:":(10>s&&(n+="0"),n+=String(s)+":"),s=i.getMinutes(),10>s&&(n+="0"),n+=String(s)+":",s=i.getSeconds(),10>s&&(n+="0"),n+=String(s),n+=i.getHours()<12?"AM":"PM";break;case"S":case"s":s=i.getSeconds(),10>s&&(n+="0"),n+=String(s);break;case"T":s=i.getHours(),10>s&&(n+="0"),n+=String(s)+":",s=i.getMinutes(),10>s&&(n+="0"),n+=String(s)+":",s=i.getSeconds(),10>s&&(n+="0"),n+=String(s);break;case"W":n+=this.dNames[i.getDay()];break;case"w":n+=i.getDay();break;case"Y":n+=e(i.getFullYear(),4);break;case"y":s=i.getFullYear()%100,n+=e(s,2);break;case"Z":n+=e(Math.abs(i.getFullYear()),4);break;case"z":n+=Math.abs(i.getFullYear());break;case"%":n+="%";break;case"#":s=this._offAl!=Number.MIN_VALUE?this._offAl:this._offF==Number.MIN_VALUE?0-i.getTimezoneOffset():this._offF,s>=0&&(n+="+"),n+=s;break;case"@":if(s=this._offAl!=Number.MIN_VALUE?this._offAl:this._offF==Number.MIN_VALUE?0-i.getTimezoneOffset():this._offF,AnyTime.utcLabel&&AnyTime.utcLabel[s]){n+=this._offFSI>0&&this._offFSI<AnyTime.utcLabel[s].length?AnyTime.utcLabel[s][this._offFSI]:AnyTime.utcLabel[s][0];break}n+="UTC",r=":";break;case"+":case"-":case":":case";":s=this._offAl!=Number.MIN_VALUE?this._offAl:this._offF==Number.MIN_VALUE?0-i.getTimezoneOffset():this._offF,n+=0>s?"-":"+",s=Math.abs(s),n+="+"==r||":"==r?e(Math.floor(s/60),2):Math.floor(s/60),(":"==r||";"==r)&&(n+=":"),n+=e(s%60,2);break;case"f":case"j":case"U":case"u":case"V":case"v":case"X":case"x":throw"%"+r+" not implemented by AnyTime.Converter";default:n+=this.fmt.substr(a,2)}a++}return n},getUtcParseOffsetCaptured:function(){return this._offCap},getUtcParseOffsetSubIndex:function(){return this._offPSI},parse:function(t){this._offCap=this._offP,this._offPSI=-1;for(var e,i,s,n,a,r=1,o=new Date(4,0,1,0,0,0,0),l=t.length,h=0,d=1,c=this._offP,u=0;u<this._flen;u++)if("%"==this.fmt.charAt(u)){var f=this.fmt.charAt(u+1);switch(f){case"a":for(i=!1,n=0;l>h+n;n++){for(s=t.substr(h,n),e=0;12>e;e++)if(this.dAbbr[e]==s){i=!0,h+=n;break}if(i)break}if(!i)throw"unknown weekday: "+t.substr(h);break;case"B":n=this.eAbbr[0].length,l>=h+n&&t.substr(h,n)==this.eAbbr[0]&&(r=-1,h+=n);break;case"b":for(i=!1,n=0;l>h+n;n++){for(s=t.substr(h,n),e=0;12>e;e++)if(this.mAbbr[e]==s){o.setMonth(e),i=!0,h+=n;break}if(i)break}if(!i)throw"unknown month: "+t.substr(h);break;case"C":n=this.eAbbr[1].length,l>=h+n&&t.substr(h,n)==this.eAbbr[1]&&(h+=n);break;case"c":l>h+1&&this.dAt(t,h+1)?(o.setMonth((Number(t.substr(h,2))-1)%12),h+=2):(o.setMonth((Number(t.substr(h,1))-1)%12),h++);break;case"D":l>h+1&&this.dAt(t,h+1)?(o.setDate(Number(t.substr(h,2))),h+=4):(o.setDate(Number(t.substr(h,1))),h+=3);break;case"d":o.setDate(Number(t.substr(h,2))),h+=2;break;case"E":if(n=this.eAbbr[0].length,l>=h+n&&t.substr(h,n)==this.eAbbr[0])r=-1,h+=n;else{if(!(h+(n=this.eAbbr[1].length)<=l&&t.substr(h,n)==this.eAbbr[1]))throw"unknown era: "+t.substr(h);h+=n}break;case"e":l>h+1&&this.dAt(t,h+1)?(o.setDate(Number(t.substr(h,2))),h+=2):(o.setDate(Number(t.substr(h,1))),h++);break;case"f":h+=6;break;case"H":o.setHours(Number(t.substr(h,2))),h+=2;break;case"h":case"I":o.setHours(Number(t.substr(h,2))),h+=2;break;case"i":o.setMinutes(Number(t.substr(h,2))),h+=2;break;case"k":l>h+1&&this.dAt(t,h+1)?(o.setHours(Number(t.substr(h,2))),h+=2):(o.setHours(Number(t.substr(h,1))),h++);break;case"l":l>h+1&&this.dAt(t,h+1)?(o.setHours(Number(t.substr(h,2))),h+=2):(o.setHours(Number(t.substr(h,1))),h++);break;case"M":for(i=!1,n=this._shortMon;l>=h+n&&!(n>this._longMon);n++){for(s=t.substr(h,n),e=0;12>e;e++)if(this.mNames[e]==s){o.setMonth(e),i=!0,h+=n;break}if(i)break}break;case"m":o.setMonth((Number(t.substr(h,2))-1)%12),h+=2;break;case"p":12==o.getHours()?"A"==t.charAt(h)&&o.setHours(0):"P"==t.charAt(h)&&o.setHours(o.getHours()+12),h+=2;break;case"r":o.setHours(Number(t.substr(h,2))),o.setMinutes(Number(t.substr(h+3,2))),o.setSeconds(Number(t.substr(h+6,2))),12==o.getHours()?"A"==t.charAt(h+8)&&o.setHours(0):"P"==t.charAt(h+8)&&o.setHours(o.getHours()+12),h+=10;break;case"S":case"s":o.setSeconds(Number(t.substr(h,2))),h+=2;break;case"T":o.setHours(Number(t.substr(h,2))),o.setMinutes(Number(t.substr(h+3,2))),o.setSeconds(Number(t.substr(h+6,2))),h+=8;break;case"W":for(i=!1,n=this._shortDay;l>=h+n&&!(n>this._longDay);n++){for(s=t.substr(h,n),e=0;7>e;e++)if(this.dNames[e]==s){i=!0,h+=n;break}if(i)break}break;case"w":h+=1;break;case"Y":e=4,"-"==t.substr(h,1)&&e++,o.setFullYear(Number(t.substr(h,e))),h+=e;break;case"y":e=2,"-"==t.substr(h,1)&&e++,a=Number(t.substr(h,e)),a+="number"==typeof this.baseYear?this.baseYear:70>a?2e3:1900,o.setFullYear(a),h+=e;break;case"Z":o.setFullYear(Number(t.substr(h,4))),h+=4;break;case"z":for(e=0;l>h&&this.dAt(t,h);)e=10*e+Number(t.charAt(h++));o.setFullYear(e);break;case"#":for("-"==t.charAt(h++)&&(d=-1),c=0;l>h&&String(e=Number(t.charAt(h)))==t.charAt(h);h++)c=10*c+e;c*=d;break;case"@":if(this._offPSI=-1,AnyTime.utcLabel){i=!1;for(c in AnyTime.utcLabel)if(!Array.prototype[c]){for(e=0;e<AnyTime.utcLabel[c].length;e++)if(s=AnyTime.utcLabel[c][e],n=s.length,l>=h+n&&t.substr(h,n)==s){h+=n,i=!0;break}if(i)break}if(i){this._offPSI=e,c=Number(c);break}}if(l>h+9||"UTC"!=t.substr(h,3))throw"unknown time zone: "+t.substr(h);h+=3,f=":";break;case"-":case"+":case":":case";":"-"==t.charAt(h++)&&(d=-1),c=Number(t.charAt(h)),("+"==f||":"==f||l>h+3&&String(Number(t.charAt(h+3)))!==t.charAt(h+3))&&(c=10*c+Number(t.charAt(++h))),c*=60,(":"==f||";"==f)&&h++,c=(c+Number(t.substr(++h,2)))*d,h+=2;break;case"j":case"U":case"u":case"V":case"v":case"X":case"x":throw"%"+this.fmt.charAt(u+1)+" not implemented by AnyTime.Converter";case"%":}u++}else{if(this.fmt.charAt(u)!=t.charAt(h))throw t+' is not in "'+this.fmt+'" format';h++}return 0>r&&o.setFullYear(0-o.getFullYear()),c!=Number.MIN_VALUE&&(this._captureOffset?this._offCap=c:o.setTime(o.getTime()-6e4*c-6e4*o.getTimezoneOffset())),o},setUtcFormatOffsetAlleged:function(t){var e=this._offAl;return this._offAl=t,e},setUtcFormatOffsetSubIndex:function(t){var e=this._offFSI;return this._offFSI=t,e},destroy:function(){}});this.Anytime=new t.Class({extend:T.UI.BaseControl},{defaults:i,attributeMap:s,init:function(t,i){this.element=$(t);var s=this;$(document).ready(function(){s.onReady(),a=!0}),this.id="AnyTime--"+t.id.replace(/[^-_.A-Za-z0-9]/g,"--AnyTime--");var o=$(t);if(this.initSettings(o,i),this.settings.utcParseOffsetCapture=!0,this.conv=new r(this.settings),this.settings.placement)if("inline"==this.settings.placement)this.pop=!1;else if("popup"!=this.settings.placement)throw"unknown placement: "+this.settings.placement;if(this.settings.earliest&&(this.earliest=this.makeDate(this.settings.earliest)),this.settings.firstDOW){if(this.settings.firstDOW<0||this.settings.firstDOW>6)throw"illegal firstDOW: "+this.settings.firstDOW;this.fDOW=this.settings.firstDOW}this.settings.latest&&(this.latest=this.makeDate(this.settings.latest)),this.lX=this.settings.labelDismiss||"X",this.lY=this.settings.labelYear||"年",this.lO=this.settings.labelTimeZone||"时区";var l,h,d,c=0,u=this.conv.fmt;"undefined"!=typeof this.settings.askEra?this.askEra=this.settings.askEra:this.askEra=u.indexOf("%B")>=0||u.indexOf("%C")>=0||u.indexOf("%E")>=0;var f=u.indexOf("%Y")>=0||u.indexOf("%y")>=0||u.indexOf("%Z")>=0||u.indexOf("%z")>=0,p=u.indexOf("%b")>=0||u.indexOf("%c")>=0||u.indexOf("%M")>=0||u.indexOf("%m")>=0,m=u.indexOf("%D")>=0||u.indexOf("%d")>=0||u.indexOf("%e")>=0,g=f||p||m;this.twelveHr=u.indexOf("%h")>=0||u.indexOf("%I")>=0||u.indexOf("%l")>=0||u.indexOf("%r")>=0;var v=this.twelveHr||u.indexOf("%H")>=0||u.indexOf("%k")>=0||u.indexOf("%T")>=0,b=u.indexOf("%i")>=0||u.indexOf("%r")>=0||u.indexOf("%T")>=0,y=u.indexOf("%r")>=0||u.indexOf("%S")>=0||u.indexOf("%s")>=0||u.indexOf("%T")>=0;y&&"undefined"!=typeof this.settings.askSecond&&(y=this.settings.askSecond);var w=u.indexOf("%#")>=0||u.indexOf("%+")>=0||u.indexOf("%-")>=0||u.indexOf("%:")>=0||u.indexOf("%;")>=0||u.indexOf("%<")>=0||u.indexOf("%>")>=0||u.indexOf("%@")>=0,T=v||b||y||w;w&&(this.oConv=new r({format:this.settings.formatUtcOffset||u.match(/\S*%[-+:;<>#@]\S*/g).join(" ")})),this.inp=$(document.getElementById(t.id)),this.ro=this.inp.prop("readonly"),this.inp.prop("readonly",!0),this.div=$('<div class="AnyTime-win AnyTime-pkr ui-widget ui-widget-content ui-corner-all" id="'+this.id+'" aria-live="off"></div>'),this.inp.after(this.div),this.hTitle=$('<h5 class="AnyTime-hdr ui-widget-header ui-corner-top"/>'),this.div.append(this.hTitle),this.dB=$('<div class="AnyTime-body"></div>'),this.div.append(this.dB),this.settings.hideInput&&this.inp.css({border:0,height:"1px",margin:0,padding:0,width:"1px"}),h=null;var S=null;if(this.pop&&(S=$('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>"),this.hTitle.append(S),S.click(function(t){s.dismiss(t)})),d="",g){if(this.dD=$('<div class="AnyTime-date"></div>'),this.dB.append(this.dD),f&&(this.yLab=$('<h6 class="AnyTime-lbl AnyTime-lbl-yr">'+this.lY+"</h6>"),this.dD.append(this.yLab),this.dY=$('<ul class="AnyTime-yrs ui-helper-reset" />'),this.dD.append(this.dY),this.yPast=this.btn(this.dY,"&lt;",this.newYear,["yrs-past"],"- "+this.lY),this.yPrior=this.btn(this.dY,"1",this.newYear,["yr-prior"],"-1 "+this.lY),this.yCur=this.btn(this.dY,"2",this.newYear,["yr-cur"],this.lY),this.yCur.removeClass("ui-state-default"),this.yCur.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight"),this.yNext=this.btn(this.dY,"3",this.newYear,["yr-next"],"+1 "+this.lY),this.yAhead=this.btn(this.dY,"&gt;",this.newYear,["yrs-ahead"],"+ "+this.lY),c++),p){for(d=this.settings.labelMonth||"月",this.hMo=$('<h6 class="AnyTime-lbl AnyTime-lbl-month">'+d+"</h6>"),this.dD.append(this.hMo),this.dMo=$('<ul class="AnyTime-mons" />'),this.dD.append(this.dMo),l=0;12>l;l++){var D=this.btn(this.dMo,this.conv.mAbbr[l],function(t){var e=$(t.target);if(!e.hasClass("AnyTime-out-btn")){var i=t.target.AnyTime_month,s=new Date(this.time.getTime());s.getDate()>n[i]&&s.setDate(n[i]),s.setMonth(i),this.set(s),this.upd(e)}},["mon","mon"+String(l+1)],d+" "+this.conv.mNames[l]);D[0].AnyTime_month=l}c++}if(m){d=this.settings.labelDayOfMonth||"日",this.hDoM=$('<h6 class="AnyTime-lbl AnyTime-lbl-dom">'+d+"</h6>"),this.dD.append(this.hDoM),this.dDoM=$('<table border="0" cellpadding="0" cellspacing="0" class="AnyTime-dom-table"/>'),this.dD.append(this.dDoM),h=$('<thead class="AnyTime-dom-head"/>'),this.dDoM.append(h);var C=$('<tr class="AnyTime-dow"/>');for(h.append(C),l=0;7>l;l++)C.append('<th class="AnyTime-dow AnyTime-dow'+String(l+1)+'">'+this.conv.dAbbr[(this.fDOW+l)%7]+"</th>");var x=$('<tbody class="AnyTime-dom-body" />');this.dDoM.append(x);for(var _=0;6>_;_++)for(C=$('<tr class="AnyTime-wk AnyTime-wk'+String(_+1)+'"/>'),x.append(C),l=0;7>l;l++)this.btn(C,"x",function(t){var e=$(t.target);if(!e.hasClass("AnyTime-out-btn")){var i=Number(e.html());if(i){var s=new Date(this.time.getTime());s.setDate(i),this.set(s),this.upd(e)}}},["dom"],d);c++}}if(T){var k,A;if(this.dT=$('<div class="AnyTime-time"></div>'),this.dB.append(this.dT),v){this.dH=$('<div class="AnyTime-hrs"></div>'),this.dT.append(this.dH),d=this.settings.labelHour||"时",this.dH.append($('<h6 class="AnyTime-lbl AnyTime-lbl-hr">'+d+"</h6>"));var M=$('<ul class="AnyTime-hrs-am"/>');this.dH.append(M);var I=$('<ul class="AnyTime-hrs-pm"/>');for(this.dH.append(I),l=0;12>l;l++)h=this.twelveHr?0===l?"12am":String(l)+"am":e(l,2),this.btn(M,h,this.newHour,["hr","hr"+String(l)],d+" "+h),h=this.twelveHr?0===l?"12pm":String(l)+"pm":l+12,this.btn(I,h,this.newHour,["hr","hr"+String(l+12)],d+" "+h);c++}if(b){for(this.dM=$('<div class="AnyTime-mins"></div>'),this.dT.append(this.dM),d=this.settings.labelMinute||"分",this.dM.append($('<h6 class="AnyTime-lbl AnyTime-lbl-min">'+d+"</h6>")),k=$('<ul class="AnyTime-mins-tens"/>'),this.dM.append(k),l=0;6>l;l++)this.btn(k,l,function(t){var e=$(t.target);if(!e.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setMinutes(10*Number(e.text())+this.time.getMinutes()%10),this.set(i),this.upd(e)}},["min-ten","min"+l+"0"],d+" "+l+"0");for(;12>l;l++)this.btn(k,"&#160;",$.noop,["min-ten","min"+l+"0"],d+" "+l+"0").addClass("AnyTime-min-ten-btn-empty ui-state-default ui-state-disabled");for(A=$('<ul class="AnyTime-mins-ones"/>'),this.dM.append(A),l=0;10>l;l++)this.btn(A,l,function(t){var e=$(t.target);if(!e.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setMinutes(10*Math.floor(this.time.getMinutes()/10)+Number(e.text())),this.set(i),this.upd(e)}},["min-one","min"+l],d+" "+l);for(;12>l;l++)this.btn(A,"&#160;",$.noop,["min-one","min"+l+"0"],d+" "+l).addClass("AnyTime-min-one-btn-empty ui-state-default ui-state-disabled");c++}if(y){for(this.dS=$('<div class="AnyTime-secs"></div>'),this.dT.append(this.dS),d=this.settings.labelSecond||"秒",this.dS.append($('<h6 class="AnyTime-lbl AnyTime-lbl-sec">'+d+"</h6>")),k=$('<ul class="AnyTime-secs-tens"/>'),this.dS.append(k),l=0;6>l;l++)this.btn(k,l,function(t){var e=$(t.target);if(!e.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setSeconds(10*Number(e.text())+this.time.getSeconds()%10),this.set(i),this.upd(e)}},["sec-ten","sec"+l+"0"],d+" "+l+"0");for(;12>l;l++)this.btn(k,"&#160;",$.noop,["sec-ten","sec"+l+"0"],d+" "+l+"0").addClass("AnyTime-sec-ten-btn-empty ui-state-default ui-state-disabled");for(A=$('<ul class="AnyTime-secs-ones"/>'),this.dS.append(A),l=0;10>l;l++)this.btn(A,l,function(t){var e=$(t.target);if(!e.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setSeconds(10*Math.floor(this.time.getSeconds()/10)+Number(e.text())),this.set(i),this.upd(e)}},["sec-one","sec"+l],d+" "+l);for(;12>l;l++)this.btn(A,"&#160;",$.noop,["sec-one","sec"+l+"0"],d+" "+l).addClass("AnyTime-sec-one-btn-empty ui-state-default ui-state-disabled");c++}w&&(this.dO=$('<div class="AnyTime-offs" ></div>'),this.dT.append("<br />"),this.dT.append(this.dO),this.oList=$('<ul class="AnyTime-off-list ui-helper-reset" />'),this.dO.append(this.oList),this.oCur=this.btn(this.oList,"",this.newOffset,["off","off-cur"],d),this.oCur.removeClass("ui-state-default"),this.oCur.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight"),this.oSel=this.btn(this.oList,"&#177;",this.newOffset,["off","off-select"],"+/- "+this.lO),this.oMinW=this.dO.outerWidth(!0),this.oLab=$('<h6 class="AnyTime-lbl AnyTime-lbl-off">'+this.lO+"</h6>"),this.dO.prepend(this.oLab),c++)}this.settings.labelTitle?this.hTitle.append(this.settings.labelTitle):c>1?this.hTitle.append("选择 "+(g?T?"日期时间":"日期":"时间")):this.hTitle.append("选择");try{this.time=this.conv.parse(this.inp.val()),this.offMin=this.conv.getUtcParseOffsetCaptured(),this.offSI=this.conv.getUtcParseOffsetSubIndex(),"init"in this.settings&&(this.time=this.makeDate(this.settings.init))}catch(O){this.time=new Date}this.pop&&(this.div.hide(),this.div.css("position","absolute")),this.inp.blur(this.hBlur=function(t){s.inpBlur(t)}),this.inp.click(this.hClick=function(t){s.showPkr(t)}),this.inp.focus(this.hFocus=function(t){s.lostFocus&&s.showPkr(t),s.lostFocus=!1}),this.inp.keydown(this.hKeydown=function(t){s.key(t)}),this.inp.keypress(this.hKeypress=function(t){}),this.div.click(function(t){s.lostFocus=!1,s.inp.focus()}),$(window).resize(this.hResize=function(t){s.pos(t)}),a&&this.onReady()},twelveHr:!1,denyTab:!0,askEra:!1,cloak:null,conv:null,div:null,dB:null,dD:null,dY:null,dMo:null,dDoM:null,hDoM:null,hMo:null,hTitle:null,hY:null,dT:null,dH:null,dM:null,dS:null,dO:null,earliest:null,fBtn:null,fDOW:0,hBlur:null,hClick:null,hFocus:null,hKeydown:null,hKeypress:null,hResize:null,id:null,inp:null,latest:null,lostFocus:!1,lX:"X",lY:"年",lO:"时区",oBody:null,oConv:null,oCur:null,oDiv:null,oLab:null,oList:null,oSel:null,offMin:Number.MIN_VALUE,offSI:-1,offStr:"",pop:!0,ro:!1,time:null,yAhead:null,y0XXX:null,yCur:null,yDiv:null,yLab:null,yNext:null,yPast:null,yPrior:null,askOffset:function(t){var e=this;if(this.oDiv)this.cloak.show(),this.oDiv.show();else{this.makeCloak(),this.oDiv=$('<div class="AnyTime-win AnyTime-off-selector ui-widget ui-widget-content ui-corner-all"></div>'),this.div.append(this.oDiv);var i=$('<h5 class="AnyTime-hdr AnyTime-hdr-off-selector ui-widget-header ui-corner-top" />');this.oDiv.append(i),this.oBody=$('<div class="AnyTime-body AnyTime-body-off-selector"></div>'),this.oDiv.append(this.oBody);
var s=$('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>");i.append(s),s.click(function(t){e.dismissODiv(t)}),i.append(this.lO);var n=$('<ul class="AnyTime-off-off" />'),a=null;this.oBody.append(n);var r=this.oConv.fmt.indexOf("%@")>=0;if(AnyTime.utcLabel)for(var o=-720;840>=o;o++)if(AnyTime.utcLabel[o]){this.oConv.setUtcFormatOffsetAlleged(o);for(var l=0;l<AnyTime.utcLabel[o].length&&(this.oConv.setUtcFormatOffsetSubIndex(l),a=this.btn(n,this.oConv.format(this.time),this.newOPos,["off-off"],o),a[0].AnyTime_offMin=o,a[0].AnyTime_offSI=l,r);l++);}if(a&&a.addClass("AnyTime-off-off-last-btn"),this.oDiv.outerHeight(!0)>this.div.height()){var h=this.oBody.width();this.oBody.css("height","0"),this.oBody.css({height:String(this.div.height()-(this.oDiv.outerHeight(!0)+this.oBody.outerHeight(!1)))+"px",width:String(h+20)+"px"})}this.oDiv.outerWidth(!0)>this.div.width()&&(this.oBody.css("width","0"),this.oBody.css("width",String(this.div.width()-(this.oDiv.outerWidth(!0)+this.oBody.outerWidth(!1)))+"px"))}this.pos(t),this.updODiv(null);var d=this.oDiv.find(".AnyTime-off-off-btn.AnyTime-cur-btn:first");d.length||(d=this.oDiv.find(".AnyTime-off-off-btn:first")),this.setFocus(d)},askYear:function(t){var e=this;if(this.yDiv)this.cloak.show(),this.yDiv.show();else{this.makeCloak(),this.yDiv=$('<div class="AnyTime-win AnyTime-yr-selector ui-widget ui-widget-content ui-corner-all"></div>'),this.div.append(this.yDiv);var i=$('<h5 class="AnyTime-hdr AnyTime-hdr-yr-selector ui-widget-header ui-corner-top" />');this.yDiv.append(i);var s=$('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>");i.append(s),s.click(function(t){e.dismissYDiv(t)}),i.append(this.lY);var n=$('<div class="AnyTime-body AnyTime-body-yr-selector" ></div>');this.yDiv.append(n);var a=$('<ul class="AnyTime-yr-mil" />');n.append(a),this.y0XXX=this.btn(a,0,this.newYPos,["mil","mil0"],this.lY+" 0000");for(var r=1;10>r;r++)this.btn(a,r,this.newYPos,["mil","mil"+r],this.lY+" "+r+"000");for(a=$('<ul class="AnyTime-yr-cent" />'),n.append(a),r=0;10>r;r++)this.btn(a,r,this.newYPos,["cent","cent"+r],this.lY+" "+r+"00");for(a=$('<ul class="AnyTime-yr-dec" />'),n.append(a),r=0;10>r;r++)this.btn(a,r,this.newYPos,["dec","dec"+r],this.lY+" "+r+"0");for(a=$('<ul class="AnyTime-yr-yr" />'),n.append(a),r=0;10>r;r++)this.btn(a,r,this.newYPos,["yr","yr"+r],this.lY+" "+r);this.askEra&&(a=$('<ul class="AnyTime-yr-era" />'),n.append(a),this.btn(a,this.conv.eAbbr[0],function(t){var e=new Date(this.time.getTime()),i=e.getFullYear();i>0&&e.setFullYear(0-i),this.set(e),this.updYDiv($(t.target))},["era","bce"],this.conv.eAbbr[0]),this.btn(a,this.conv.eAbbr[1],function(t){var e=new Date(this.time.getTime()),i=e.getFullYear();0>i&&e.setFullYear(0-i),this.set(e),this.updYDiv($(t.target))},["era","ce"],this.conv.eAbbr[1]))}this.pos(t),this.updYDiv(null),this.setFocus(this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn:first"))},inpBlur:function(t){var e=this;return this.oDiv&&this.oDiv.is(":visible")?void this.inp.focus():(this.lostFocus=!0,void setTimeout(function(){e.lostFocus&&(e.div.find(".AnyTime-focus-btn").removeClass("AnyTime-focus-btn ui-state-focus"),e.pop&&e.dismiss(t))},334))},btn:function(t,e,i,s,n){for(var a=this,r="ul"==t[0].nodeName.toLowerCase()?"li":"td",o="<"+r+' class="AnyTime-btn',l=0;l<s.length;l++)o+=" AnyTime-"+s[l]+"-btn";var h=$(o+' ui-state-default">'+e+"</"+r+">");return t.append(h),h.AnyTime_title=n,h.click(function(t){a.tempFunc=i,a.tempFunc(t)}),h.dblclick(function(t){var e=$(this);e.is(".AnyTime-off-off-btn")?a.dismissODiv(t):e.is(".AnyTime-mil-btn")||e.is(".AnyTime-cent-btn")||e.is(".AnyTime-dec-btn")||e.is(".AnyTime-yr-btn")||e.is(".AnyTime-era-btn")?a.dismissYDiv(t):a.pop&&a.dismiss(t)}),h},destroy:function(t){this.inp.prop("readonly",this.ro).off("blur",this.hBlur).off("click",this.hClick).off("focus",this.hFocus).off("keydown",this.hKeydown).off("keypress",this.hKeypress),$(window).off("resize",this.hResize),this.div.remove()},dismiss:function(t){this.yDiv&&this.dismissYDiv(),this.oDiv&&this.dismissODiv(),this.div.hide(),this.lostFocus=!0},dismissODiv:function(t){this.oDiv.hide(),this.cloak.hide(),this.setFocus(this.oCur)},dismissYDiv:function(t){this.yDiv.hide(),this.cloak.hide(),this.setFocus(this.yCur)},setFocus:function(t){if(t.hasClass("AnyTime-focus-btn")||(this.div.find(".AnyTime-focus-btn").removeClass("AnyTime-focus-btn ui-state-focus"),this.fBtn=t,t.removeClass("ui-state-default ui-state-highlight"),t.addClass("AnyTime-focus-btn ui-state-default ui-state-highlight ui-state-focus")),t.hasClass("AnyTime-off-off-btn")){var e=this.oBody.offset().top,i=t.offset().top,s=t.outerHeight(!0);e>i-s?this.oBody.scrollTop(i+this.oBody.scrollTop()-(this.oBody.innerHeight()+e)+2*s):i+s>e+this.oBody.innerHeight()&&this.oBody.scrollTop(i+this.oBody.scrollTop()-(e+s))}},key:function(t){var e,i=null,s=this,a=(this.div.find(".AnyTime-focus-btn"),t.keyCode||t.which);if(this.denyTab=!0,10==a||13==a||27==a)this.oDiv&&this.oDiv.is(":visible")?this.dismissODiv(t):this.yDiv&&this.yDiv.is(":visible")?this.dismissYDiv(t):this.pop&&this.dismiss(t);else if(33==a||9==a&&t.shiftKey){if(this.fBtn.hasClass("AnyTime-off-off-btn"))9==a&&this.dismissODiv(t);else if(this.fBtn.hasClass("AnyTime-mil-btn"))9==a&&this.dismissYDiv(t);else if(this.fBtn.hasClass("AnyTime-cent-btn"))this.yDiv.find(".AnyTime-mil-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-dec-btn"))this.yDiv.find(".AnyTime-cent-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-yr-btn"))this.yDiv.find(".AnyTime-dec-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-era-btn"))this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.parents(".AnyTime-yrs").length){if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-mon-btn")){if(this.dY)this.yCur.triggerHandler("click");else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-dom-btn")){if(9==a&&t.shiftKey)return void(this.denyTab=!1);i=new Date(this.time.getTime()),t.shiftKey?i.setFullYear(i.getFullYear()-1):(e=i.getMonth()-1,i.getDate()>n[e]&&i.setDate(n[e]),i.setMonth(e)),this.keyDateChange(i)}else if(this.fBtn.hasClass("AnyTime-hr-btn")){if(i=this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-ten-btn")){if(i=this.dH||this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-one-btn"))this.dM.AnyTime_clickCurrent();else if(this.fBtn.hasClass("AnyTime-sec-ten-btn")){if(i=this.dM?this.dM.find(".AnyTime-mins-ones"):this.dH||this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-sec-one-btn"))this.dS.AnyTime_clickCurrent();else if(this.fBtn.hasClass("AnyTime-off-btn"))if(i=this.dS?this.dS.find(".AnyTime-secs-ones"):this.dM?this.dM.find(".AnyTime-mins-ones"):this.dH||this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==a)return void(this.denyTab=!1)}else if(34==a||9==a){if(this.fBtn.hasClass("AnyTime-mil-btn"))this.yDiv.find(".AnyTime-cent-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-cent-btn"))this.yDiv.find(".AnyTime-dec-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-dec-btn"))this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-yr-btn"))i=this.yDiv.find(".AnyTime-era-btn.AnyTime-cur-btn"),i.length?i.triggerHandler("click"):9==a&&this.dismissYDiv(t);else if(this.fBtn.hasClass("AnyTime-era-btn"))9==a&&this.dismissYDiv(t);else if(this.fBtn.hasClass("AnyTime-off-off-btn"))9==a&&this.dismissODiv(t);else if(this.fBtn.parents(".AnyTime-yrs").length){if(i=this.dDoM||this.dMo||this.dH||this.dM||this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-mon-btn")){if(i=this.dDoM||this.dH||this.dM||this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-dom-btn"))if(9==a){if(i=this.dH||this.dM||this.dS||this.dO,!i)return void(this.denyTab=!1);i.AnyTime_clickCurrent()}else i=new Date(this.time.getTime()),t.shiftKey?i.setFullYear(i.getFullYear()+1):(e=i.getMonth()+1,i.getDate()>n[e]&&i.setDate(n[e]),i.setMonth(e)),this.keyDateChange(i);else if(this.fBtn.hasClass("AnyTime-hr-btn")){if(i=this.dM||this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-ten-btn"))this.dM.find(".AnyTime-mins-ones .AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-min-one-btn")){if(i=this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-sec-ten-btn"))this.dS.find(".AnyTime-secs-ones .AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-sec-one-btn")){if(this.dO)this.dO.AnyTime_clickCurrent();else if(9==a)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-off-btn")&&9==a)return void(this.denyTab=!1)}else if(35==a)this.fBtn.hasClass("AnyTime-mil-btn")||this.fBtn.hasClass("AnyTime-cent-btn")||this.fBtn.hasClass("AnyTime-dec-btn")||this.fBtn.hasClass("AnyTime-yr-btn")||this.fBtn.hasClass("AnyTime-era-btn")?(i=this.yDiv.find(".AnyTime-ce-btn"),i.length||(i=this.yDiv.find(".AnyTime-yr9-btn")),i.triggerHandler("click")):this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(1),i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t.ctrlKey&&i.setMonth(11),this.keyDateChange(i)):this.dS?this.dS.find(".AnyTime-sec9-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min9-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.find(".AnyTime-dom-btn-filled:last").triggerHandler("click"):this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yAhead.triggerHandler("click");else if(36==a)this.fBtn.hasClass("AnyTime-mil-btn")||this.fBtn.hasClass("AnyTime-cent-btn")||this.fBtn.hasClass("AnyTime-dec-btn")||this.fBtn.hasClass("AnyTime-yr-btn")||this.fBtn.hasClass("AnyTime-era-btn")?this.yDiv.find(".AnyTime-mil0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(1),t.ctrlKey&&i.setMonth(0),this.keyDateChange(i)):this.dY?this.yCur.triggerHandler("click"):this.dMo?this.dMo.find(".AnyTime-mon1-btn").triggerHandler("click"):this.dDoM?this.dDoM.find(".AnyTime-dom-btn-filled:first").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click");else if(37==a)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()-1),this.keyDateChange(i)):this.keyBack();else if(38==a)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()-7),this.keyDateChange(i)):this.keyBack();else if(39==a)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()+1),this.keyDateChange(i)):this.keyAhead();else if(40==a)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()+7),this.keyDateChange(i)):this.keyAhead();else{if((86==a||118==a)&&t.ctrlKey)return this.updVal(""),void setTimeout(function(){s.showPkr(null)},100);this.showPkr(null)}t.preventDefault()},keyAhead:function(){this.fBtn.hasClass("AnyTime-mil9-btn")?this.yDiv.find(".AnyTime-cent0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-cent9-btn")?this.yDiv.find(".AnyTime-dec0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dec9-btn")?this.yDiv.find(".AnyTime-yr0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr9-btn")?this.yDiv.find(".AnyTime-bce-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec50-btn")?this.dS.find(".AnyTime-sec0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min9-btn")?this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min50-btn")?this.dM.find(".AnyTime-min0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr23-btn")?this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr11-btn")?this.dH.find(".AnyTime-hr12-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-mon12-btn")?this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yrs-ahead-btn")?this.dMo?this.dMo.find(".AnyTime-mon1-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr-cur-btn")?this.yNext.triggerHandler("click"):this.fBtn.next().triggerHandler("click")},keyBack:function(){this.fBtn.hasClass("AnyTime-cent0-btn")?this.yDiv.find(".AnyTime-mil9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dec0-btn")?this.yDiv.find(".AnyTime-cent9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr0-btn")?this.yDiv.find(".AnyTime-dec9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-bce-btn")?this.yDiv.find(".AnyTime-yr9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr-cur-btn")?this.yPrior.triggerHandler("click"):this.fBtn.hasClass("AnyTime-mon1-btn")?this.dY&&this.yCur.triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr0-btn")?this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr12-btn")?this.dH.find(".AnyTime-hr11-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min00-btn")?this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-min0-btn")?this.dM.find(".AnyTime-min50-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec00-btn")?this.dM?this.dM.find(".AnyTime-min9-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec0-btn")?this.dS.find(".AnyTime-sec50-btn").triggerHandler("click"):this.fBtn.prev().triggerHandler("click")},keyDateChange:function(t){this.fBtn.hasClass("AnyTime-dom-btn")&&(this.set(t),this.upd(null),this.setFocus(this.dDoM.find(".AnyTime-cur-btn")))},makeCloak:function(){var t=this;this.cloak?this.cloak.show():(this.cloak=$('<div class="AnyTime-cloak"></div>'),this.div.append(this.cloak),this.cloak.click(function(e){t.oDiv&&t.oDiv.is(":visible")?t.dismissODiv(e):t.dismissYDiv(e)}))},makeDate:function(t){if("number"==typeof t?t=new Date(t):"string"==typeof t&&(t=this.conv.parse(t)),"getTime"in t)return t;throw"cannot make a Date from "+t},newHour:function(t){var e,i,s=$(t.target);if(!s.hasClass("AnyTime-out-btn")){if(this.twelveHr){var n=s.text();i=n.indexOf("a"),0>i?(i=Number(n.substr(0,n.indexOf("p"))),e=12==i?12:i+12):(i=Number(n.substr(0,i)),e=12==i?0:i)}else e=Number(s.text());i=new Date(this.time.getTime()),i.setHours(e),this.set(i),this.upd(s)}},newOffset:function(t){t.target==this.oSel[0]?this.askOffset(t):this.upd(this.oCur)},newOPos:function(t){var e=$(t.target);this.offMin=e[0].AnyTime_offMin,this.offSI=e[0].AnyTime_offSI;var i=new Date(this.time.getTime());this.set(i),this.updODiv(e)},newYear:function(t){var e=$(t.target);if(!e.hasClass("AnyTime-out-btn")){var i=e.text();if("<"==i||"&lt;"==i)this.askYear(t);else if(">"==i||"&gt;"==i)this.askYear(t);else{var s=new Date(this.time.getTime());s.setFullYear(Number(i)),this.set(s),this.upd(this.yCur)}}},newYPos:function(t){var i=$(t.target);if(!i.hasClass("AnyTime-out-btn")){var s=1,n=this.time.getFullYear();0>n&&(s=-1,n=0-n),n=e(n,4),n=i.hasClass("AnyTime-mil-btn")?i.html()+n.substring(1,4):i.hasClass("AnyTime-cent-btn")?n.substring(0,1)+i.html()+n.substring(2,4):i.hasClass("AnyTime-dec-btn")?n.substring(0,2)+i.html()+n.substring(3,4):n.substring(0,3)+i.html(),"0000"==n&&(n=1);var a=new Date(this.time.getTime());a.setFullYear(s*n),this.set(a),this.updYDiv(i)}},onReady:function(){this.lostFocus=!0,this.pop?this.div.parent()!=document.body&&this.div.appendTo(document.body):this.upd(null)},pos:function(t){if(this.pop){var e=this.inp.offset(),i=$(document.body).outerWidth(!0),s=this.div.outerWidth(!0),n=e.left;n+s>i-20&&(n=i-(s+20));var a=e.top-this.div.outerHeight(!0);0>a&&(a=e.top+this.inp.outerHeight(!0)),this.div.css({top:String(a)+"px",left:String(0>n?0:n)+"px"})}var r=this.div.offset();if(this.oDiv&&this.oDiv.is(":visible")){var o=this.oLab.offset();"absolute"==this.div.css("position")&&(o.top-=r.top,o.left=o.left-r.left,r={top:0,left:0});var l=this.oDiv.outerWidth(!0),h=this.div.outerWidth(!0);o.left+l>r.left+h&&(o.left=r.left+h-l,o.left<2&&(o.left=2));var d=this.oDiv.outerHeight(!0),c=this.div.outerHeight(!0);o.top+=this.oLab.outerHeight(!0),o.top+d>r.top+c&&(o.top=o.top-d),o.top<r.top&&(o.top=r.top),this.oDiv.css({top:o.top+"px",left:o.left+"px"})}else if(this.yDiv&&this.yDiv.is(":visible")){var u=this.yLab.offset();"absolute"==this.div.css("position")&&(u.top-=r.top,u.left=u.left-r.left,r={top:0,left:0}),u.left+=(this.yLab.outerWidth(!0)-this.yDiv.outerWidth(!0))/2,this.yDiv.css({top:u.top+"px",left:u.left+"px"})}this.cloak&&this.cloak.css({top:r.top+"px",left:r.left+"px",height:String(this.div.outerHeight(!0)-2)+"px",width:String(this.div.outerWidth(!0)-2)+"px"})},set:function(t){var e=t.getTime();this.earliest&&e<this.earliest.getTime()?this.time=new Date(this.earliest.getTime()):this.latest&&e>this.latest.getTime()?this.time=new Date(this.latest.getTime()):this.time=t},setCurrent:function(t){this.set(this.makeDate(t)),this.upd(null)},setEarliest:function(t){this.earliest=this.makeDate(t),this.set(this.time),this.upd(null)},setLatest:function(t){this.latest=this.makeDate(t),this.set(this.time),this.upd(null)},showPkr:function(t){try{this.time=this.conv.parse(this.inp.val()),this.offMin=this.conv.getUtcParseOffsetCaptured(),this.offSI=this.conv.getUtcParseOffsetSubIndex()}catch(e){this.time=new Date}this.set(this.time),this.upd(null);var i=null,s=".AnyTime-cur-btn:first";this.dDoM?i=this.dDoM.find(s):this.yCur?i=this.yCur:this.dMo?i=this.dMo.find(s):this.dH?i=this.dH.find(s):this.dM?i=this.dM.find(s):this.dS&&(i=this.dS.find(s)),this.setFocus(i),this.pos(t)},upd:function(t){var i=this,s=new Date(this.time.getTime());s.setMonth(0,1),s.setHours(0,0,0,0);var n=new Date(this.time.getTime());n.setMonth(11,31),n.setHours(23,59,59,999);var a=this.earliest&&this.earliest.getTime(),r=this.latest&&this.latest.getTime(),o=this.time.getFullYear();this.earliest&&this.yPast&&(n.setFullYear(o-2),n.getTime()<this.earliestTime?this.yPast.addClass("AnyTime-out-btn ui-state-disabled"):this.yPast.removeClass("AnyTime-out-btn ui-state-disabled")),this.yPrior&&(this.yPrior.text(e(1==o?-1:o-1,4)),this.earliest&&(n.setFullYear(o-1),n.getTime()<this.earliestTime?this.yPrior.addClass("AnyTime-out-btn ui-state-disabled"):this.yPrior.removeClass("AnyTime-out-btn ui-state-disabled"))),this.yCur&&this.yCur.text(e(o,4)),this.yNext&&(this.yNext.text(e(-1==o?1:o+1,4)),this.latest&&(s.setFullYear(o+1),s.getTime()>this.latestTime?this.yNext.addClass("AnyTime-out-btn ui-state-disabled"):this.yNext.removeClass("AnyTime-out-btn ui-state-disabled"))),this.latest&&this.yAhead&&(s.setFullYear(o+2),s.getTime()>this.latestTime?this.yAhead.addClass("AnyTime-out-btn ui-state-disabled"):this.yAhead.removeClass("AnyTime-out-btn ui-state-disabled")),s.setFullYear(this.time.getFullYear()),n.setFullYear(this.time.getFullYear());var l=0;o=this.time.getMonth(),$("#"+this.id+" .AnyTime-mon-btn").each(function(){s.setMonth(l),n.setDate(1),n.setMonth(l+1),n.setDate(0),$(this).AnyTime_current(l==o,(!i.earliest||n.getTime()>=a)&&(!i.latest||s.getTime()<=r)),l++}),s.setFullYear(this.time.getFullYear()),n.setFullYear(this.time.getFullYear()),s.setMonth(this.time.getMonth()),n.setMonth(this.time.getMonth(),1),o=this.time.getDate();var h=this.time.getMonth(),d=-1,c=s.getDay();this.fDOW>c&&(c+=7);var u=0,f=0;$("#"+this.id+" .AnyTime-wk").each(function(){f=i.fDOW,$(this).children().each(function(){if(f-i.fDOW<7){var t=$(this);0===u&&c>f||s.getMonth()!=h?(t.html("&#160;"),t.removeClass("AnyTime-dom-btn-filled AnyTime-cur-btn ui-state-default ui-state-highlight"),t.addClass("AnyTime-dom-btn-empty"),u?(1===s.getDate()&&0!==f?t.addClass("AnyTime-dom-btn-empty-after-filled"):t.removeClass("AnyTime-dom-btn-empty-after-filled"),s.getDate()<=7?t.addClass("AnyTime-dom-btn-empty-below-filled"):t.removeClass("AnyTime-dom-btn-empty-below-filled"),s.setDate(s.getDate()+1),n.setDate(n.getDate()+1)):(t.addClass("AnyTime-dom-btn-empty-above-filled"),f==c-1?t.addClass("AnyTime-dom-btn-empty-before-filled"):t.removeClass("AnyTime-dom-btn-empty-before-filled")),t.addClass("ui-state-default ui-state-disabled")):((l=s.getDate())==d&&s.setDate(++l),d=l,t.text(l),t.removeClass("AnyTime-dom-btn-empty AnyTime-dom-btn-empty-above-filled AnyTime-dom-btn-empty-before-filled AnyTime-dom-btn-empty-after-filled AnyTime-dom-btn-empty-below-filled ui-state-default ui-state-disabled"),t.addClass("AnyTime-dom-btn-filled ui-state-default"),t.AnyTime_current(l==o,(!i.earliest||n.getTime()>=a)&&(!i.latest||s.getTime()<=r)),s.setDate(l+1),n.setDate(l+1))}f++}),u++}),s.setFullYear(this.time.getFullYear()),n.setFullYear(this.time.getFullYear()),s.setMonth(this.time.getMonth(),this.time.getDate()),n.setMonth(this.time.getMonth(),this.time.getDate());var p=!this.twelveHr,m=this.time.getHours();$("#"+this.id+" .AnyTime-hr-btn").each(function(){var t,e=this.innerHTML;p?t=Number(e):(t=Number(e.substring(0,e.length-2)),"a"==e.charAt(e.length-2)?12==t&&(t=0):12>t&&(t+=12)),s.setHours(t),n.setHours(t),$(this).AnyTime_current(m==t,(!i.earliest||n.getTime()>=a)&&(!i.latest||s.getTime()<=r)),23>t&&s.setHours(s.getHours()+1)}),s.setHours(this.time.getHours()),n.setHours(this.time.getHours(),9);var g=this.time.getMinutes(),v=String(Math.floor(g/10)),b=String(g%10);if($("#"+this.id+" .AnyTime-min-ten-btn:not(.AnyTime-min-ten-btn-empty)").each(function(){$(this).AnyTime_current(this.innerHTML==v,(!i.earliest||n.getTime()>=a)&&(!i.latest||s.getTime()<=r)),s.getMinutes()<50&&(s.setMinutes(s.getMinutes()+10),n.setMinutes(n.getMinutes()+10))}),s.setMinutes(10*Math.floor(this.time.getMinutes()/10)),n.setMinutes(10*Math.floor(this.time.getMinutes()/10)),$("#"+this.id+" .AnyTime-min-one-btn:not(.AnyTime-min-one-btn-empty)").each(function(){$(this).AnyTime_current(this.innerHTML==b,(!i.earliest||n.getTime()>=a)&&(!i.latest||s.getTime()<=r)),s.setMinutes(s.getMinutes()+1),n.setMinutes(n.getMinutes()+1)}),s.setMinutes(this.time.getMinutes()),n.setMinutes(this.time.getMinutes(),9),g=this.time.getSeconds(),v=String(Math.floor(g/10)),b=String(g%10),$("#"+this.id+" .AnyTime-sec-ten-btn:not(.AnyTime-sec-ten-btn-empty)").each(function(){$(this).AnyTime_current(this.innerHTML==v,(!i.earliest||n.getTime()>=a)&&(!i.latest||s.getTime()<=r)),s.getSeconds()<50&&(s.setSeconds(s.getSeconds()+10),n.setSeconds(n.getSeconds()+10))}),s.setSeconds(10*Math.floor(this.time.getSeconds()/10)),n.setSeconds(10*Math.floor(this.time.getSeconds()/10)),$("#"+this.id+" .AnyTime-sec-one-btn:not(.AnyTime-sec-one-btn-empty)").each(function(){$(this).AnyTime_current(this.innerHTML==b,(!i.earliest||n.getTime()>=a)&&(!i.latest||s.getTime()<=r)),s.setSeconds(s.getSeconds()+1),n.setSeconds(n.getSeconds()+1)}),this.oConv){this.oConv.setUtcFormatOffsetAlleged(this.offMin),this.oConv.setUtcFormatOffsetSubIndex(this.offSI);var y=this.oConv.format(this.time);this.oCur.html(y)}if(t&&this.setFocus(t),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.div.show(),this.dO){this.oCur.css("width","0");var w=this.dT.width()-this.oMinW;40>w&&(w=40),this.oCur.css("width",String(w)+"px")}},updODiv:function(t){var e=this,i=!1,s=null;this.oDiv.find(".AnyTime-off-off-btn").each(function(){this.AnyTime_offMin==e.offMin?this.AnyTime_offSI==e.offSI?$(this).AnyTime_current(i=!0,!0):($(this).AnyTime_current(!1,!0),null==s&&(s=$(this))):$(this).AnyTime_current(!1,!0)}),i||null==s||s.AnyTime_current(!0,!0),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.upd(t)},updYDiv:function(t){var i,s,n=this,a=1,r=this.time.getFullYear();0>r&&(a=-1,r=0-r),r=e(r,4);var o=this.earliest&&this.earliest.getFullYear(),l=this.latest&&this.latest.getFullYear();i=0,this.yDiv.find(".AnyTime-mil-btn").each(function(){s=(!n.earliest||a*(i+(0>a?0:999))>=o)&&(!n.latest||l>=a*(i+(a>0?0:999))),$(this).AnyTime_current(this.innerHTML==r.substring(0,1),s),i+=1e3}),i=1e3*Math.floor(r/1e3),this.yDiv.find(".AnyTime-cent-btn").each(function(){s=(!n.earliest||a*(i+(0>a?0:99))>=o)&&(!n.latest||l>=a*(i+(a>0?0:99))),$(this).AnyTime_current(this.innerHTML==r.substring(1,2),s),i+=100}),i=100*Math.floor(r/100),this.yDiv.find(".AnyTime-dec-btn").each(function(){s=(!n.earliest||a*(i+(0>a?0:9))>=o)&&(!n.latest||l>=a*(i+(a>0?0:9))),$(this).AnyTime_current(this.innerHTML==r.substring(2,3),s),i+=10}),i=10*Math.floor(r/10),this.yDiv.find(".AnyTime-yr-btn").each(function(){s=(!n.earliest||a*i>=o)&&(!n.latest||l>=a*i),$(this).AnyTime_current(this.innerHTML==r.substring(3),s),i+=1}),this.yDiv.find(".AnyTime-bce-btn").each(function(){$(this).AnyTime_current(0>a,!n.earliest||n.earliest.getFullYear()<0)}),this.yDiv.find(".AnyTime-ce-btn").each(function(){$(this).AnyTime_current(a>0,!n.latest||n.latest.getFullYear()>0)}),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.upd(t)},updVal:function(t){this.inp.val()!=t&&(this.inp.val(t),this.inp.change())}}),$.fn.AnyTime_current=function(t,e){t?(this.removeClass("AnyTime-out-btn ui-state-default ui-state-disabled ui-state-highlight"),this.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight")):(this.removeClass("AnyTime-cur-btn ui-state-highlight"),e?this.removeClass("AnyTime-out-btn ui-state-disabled"):this.addClass("AnyTime-out-btn ui-state-disabled"))}}),+function(t){"use strict";var e=function(i,s){this.$element=t(i),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t.extend({},e.DEFAULTS,"object"==typeof s&&s),this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this)),s.interval&&data.pause().cycle();var n=this;this.$element.find("a[data-t-slide]").on("click",function(e){var i=t(this).attr("data-t-slide");n[i](),e.preventDefault()}),this.$element.find("li[data-t-slide-to]").on("click",function(e){var i=t(this).attr("data-t-slide-to");i&&(s.interval=!1,n.to(i))})};e.VERSION="3.3.5",e.TRANSITION_DURATION=600,e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},e.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},e.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),s="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(s&&!this.options.wrap)return e;var n="prev"==t?-1:1,a=(i+n)%this.$items.length;return this.$items.eq(a)},e.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(i,s){var n=this.$element.find(".item.active"),a=s||this.getItemForDirection(i,n),r=this.interval,o="next"==i?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var h=a[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:o});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(a)]);c&&c.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:h,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(i),a[0].offsetWidth,n.addClass(o),a.addClass(o),n.one("bsTransitionEnd",function(){a.removeClass([i,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var i="carousel";t.fn[i]=function(s){return this.each(function(){var n=t(this);n.data(i)&&n.data(i).destroy(),n.data(i,new e(this,t.extend(!0,{},s)))}),this}}(jQuery),Jx()["package"]("T.UI.Controls",function(t){"use strict";var e={},i={};this.Combobox=new t.Class({extend:T.UI.BaseControl},{defaults:e,attributeMap:i,settings:{},value:"",data:{},templates:{item:'<li><a href="#"></a></li>'},init:function(t,e){this.element=$(t);var i=$(t);this.initSettings(i,e),this.shown=!1,this.selected=!1,this.buildHtml(),this.initElements(),this.source=this.parse(),this.settings.items=this.source.length,this.transferAttributes(),this.bindEvents()},parse:function(){var t=this,e={},i=[],s=!1,n="";return this.element.find("option").each(function(){var a=$(this);return""===a.val()?void(t.settings.placeholder=a.text()):(e[a.text()]=a.val(),i.push(a.text()),void(a.prop("selected")&&(s=a.text(),n=a.val())))}),this.map=e,s&&(this.elements.input.val(s),this.elements.original.val(n),this.container.addClass("combobox-selected"),this.selected=!0),i},select:function(){var t=this.elements.menu.find(".active").attr("data-value");return this.elements.input.val(t).trigger("change"),this.element.val(this.map[t]).trigger("change"),this.container.addClass("combobox-selected"),this.selected=!0,this.hide()},show:function(){var t=$.extend({},this.elements.input.position(),{height:this.elements.input[0].offsetHeight
});return this.elements.menu.insertAfter(this.elements.input).css({top:t.top+t.height,left:t.left}).show(),$(".dropdown-menu").on("mousedown",$.proxy(this.scrollSafety,this)),this.shown=!0,this},hide:function(){return this.elements.menu.hide(),$(".dropdown-menu").off("mousedown",$.proxy(this.scrollSafety,this)),this.elements.input.on("blur",$.proxy(this.blur,this)),this.shown=!1,this},lookup:function(t){return this.query=this.elements.input.val(),this.process(this.source)},process:function(t){var e=this;return t=$.grep(t,function(t){return e.matcher(t)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.settings.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],s=[],n=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?s.push(e):n.push(e):i.push(e);return i.concat(s,n)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(t){var e=this;return t=$(t).map(function(t,i){return t=$(e.templates.item).attr("data-value",i),t.find("a").html(e.highlighter(i)),t[0]}),t.first().addClass("active"),this.elements.menu.html(t),this},next:function(t){var e=this.elements.menu.find(".active").removeClass("active"),i=e.next();i.length||(i=$(this.elements.menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.elements.menu.find(".active").removeClass("active"),i=e.prev();i.length||(i=this.elements.menu.find("li").last()),i.addClass("active")},toggle:function(){this.disabled||(this.container.hasClass("combobox-selected")?(this.clearTarget(),this.triggerChange(),this.clearElement()):this.shown?this.hide():(this.clearElement(),this.lookup()))},scrollSafety:function(t){"UL"==t.target.tagName&&this.elements.input.off("blur")},clearElement:function(){this.elements.input.val("").focus()},clearTarget:function(){this.element.val(""),this.container.removeClass("combobox-selected"),this.selected=!1},triggerChange:function(){this.element.trigger("change")},eventSupported:function(t){var e=t in this.elements.input;return e||(this.elements.input.setAttribute(t,"return;"),e="function"==typeof this.elements.input[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~$.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 39:case 38:case 37:case 36:case 35:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.clearTarget(),this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){var e=this;this.focused=!1;var i=this.elements.input.val();this.selected||""===i||(this.elements.input.val(""),this.element.val("").trigger("change")),!this.mousedover&&this.shown&&setTimeout(function(){e.hide()},200)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.elements.input.focus()},mouseenter:function(t){this.mousedover=!0,this.elements.menu.find(".active").removeClass("active"),$(t.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1},buildHtml:function(){var t='<div class="combobox-container">     <div class="input-group">       <input type="text" autocomplete="off" />       <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown">           <span class="caret" />            <span class="glyphicon glyphicon-remove" />       </span>     </div> </div>';this.container=$(t),this.element.before(this.container)},initElements:function(){var t='<ul class="typeahead typeahead-long dropdown-menu"></ul>',e=$(t).appendTo("body");this.elements={original:this.element,input:$("input[type=text]",this.container),button:$(".dropdown-toggle",this.container),menu:e},this.element.hide()},bindEvents:function(){this.element;this.elements.input.on("focus",$.proxy(this.focus,this)).on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.elements.input.on("keydown",$.proxy(this.keydown,this)),this.elements.menu.on("mousedown",!1).on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this)),this.elements.button.on("click",$.proxy(this.toggle,this))},transferAttributes:function(){this.settings.placeholder=this.element.attr("data-placeholder")||this.settings.placeholder,this.elements.input.attr("placeholder",this.settings.placeholder),this.element.removeAttr("name"),this.elements.input.attr("required",this.element.attr("required")),this.elements.input.attr("rel",this.element.attr("rel")),this.elements.input.attr("title",this.element.attr("title")),this.elements.input.attr("class",this.element.attr("class")),this.elements.input.attr("tabindex",this.element.attr("tabindex")),this.element.removeAttr("tabindex"),void 0!==this.element.attr("disabled")&&this.disable()},refresh:function(){var t=(this.elements.original.val(),this.elements.original.find("option:selected").text());return this.elements.input.val(t),this.container.addClass("combobox-selected"),this.selected=!0,this.hide()},enable:function(){this.elements.input.prop("disabled",!1),this.elements.button.attr("disabled",!1),this.disabled=!1,this.container.removeClass("combobox-disabled")},disable:function(){this.elements.input.prop("disabled",!0),this.elements.button.attr("disabled",!0),this.disabled=!0,this.container.addClass("combobox-disabled")},destroy:function(){}})}),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var s=i&&t(i);return s&&s.length?s:e.parent()}function i(i){i&&3===i.which||t(s).each(function(){var s=t(this),n=e(s),a={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",a)),i.isDefaultPrevented()||(s.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",a))))})}var s='[data-toggle="dropdown"]',n=function(e){t(e).on("click.bs.dropdown",this.toggle)};n.VERSION="3.3.5",n.prototype.toggle=function(s){var n=t(this);if(!n.is(".disabled, :disabled")){var a=e(n),r=a.hasClass("open");if(i(),!r){var o={relatedTarget:this};if(a.trigger(s=t.Event("show.bs.dropdown",o)),s.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},n.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var a=e(n),r=a.hasClass("open");if(!r&&27!=i.which||r&&27==i.which)return 27==i.which&&a.find(s).trigger("focus"),n.trigger("click");var o=" li:not(.disabled):visible a",l=a.find(".dropdown-menu"+o);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a="dropdown";t.fn[a]=function(e){return this.each(function(){var i=t(this);i.data(a)&&i.data(a).destroy(),i.data(a,new n(this,t.extend(!0,{},e)))}),this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,n.prototype.toggle).on("keydown.bs.dropdown.data-api",s,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),Jx()["package"]("T.UI.Controls",function(t){"use strict";function e(t,e){var i;return i=void 0===e||null===e?moment().startOf("d"):moment(e,t,!1)}function i(t,e){switch(e){case"y":return-1!==t.indexOf("Y");case"M":return-1!==t.indexOf("M");case"d":return-1!==t.toLowerCase().indexOf("d");case"h":case"H":return-1!==t.toLowerCase().indexOf("h");case"m":return-1!==t.indexOf("m");case"s":return-1!==t.indexOf("s");default:return!1}}function s(t){return i(t,"h")||i(t,"m")||i(t,"s")}function n(t){return i(t,"y")||i(t,"M")||i(t,"d")}function a(t,e,i){if(!e.isValid())return!1;if(t.disabledDates&&"d"===i&&t.disabledDates[e.format("YYYY-MM-DD")]===!0)return!1;if(t.enabledDates&&"d"===i&&t.enabledDates[e.format("YYYY-MM-DD")]!==!0)return!1;if(t.minDate&&e.isBefore(t.minDate,i))return!1;if(t.maxDate&&e.isAfter(t.maxDate,i))return!1;if(t.daysOfWeekDisabled&&"d"===i&&-1!==t.daysOfWeekDisabled.indexOf(e.day()))return!1;if(t.disabledHours&&("h"===i||"m"===i||"s"===i)&&t.disabledHours[e.format("H")]===!0)return!1;if(t.enabledHours&&("h"===i||"m"===i||"s"===i)&&t.enabledHours[e.format("H")]!==!0)return!1;if(t.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var s=!1;if($.each(t.disabledTimeIntervals,function(){return e.isBetween(this[0],this[1])?(s=!0,!1):void 0}),s)return!1}return!0}var r={timeZone:"Etc/UTC",format:"YYYY-MM-DD HH:mm:ss",dayViewHeaderFormat:"MMMM YYYY",stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"现在",clear:"清除",close:"关闭",selectMonth:"选择月份",prevMonth:"上一月",nextMonth:"下一月",selectYear:"选择年份",prevYear:"上一年",nextYear:"下一年",selectDecade:"选择年代",prevDecade:"上一年代",nextDecade:"下一年代",prevCentury:"上一世纪",nextCentury:"下一世纪",pickHour:"选择小时",incrementHour:"增加小时",decrementHour:"减少小时",pickMinute:"选择分钟",incrementMinute:"增加分钟",decrementMinute:"减少分钟",pickSecond:"选择秒",incrementSecond:"增加秒",decrementSecond:"减少秒",togglePeriod:"AM/PM",selectTime:"选择时间"},daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",showTodayButton:!0,showClear:!0,showClose:!0,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1},o={format:"format"},l=["days","months","years","decades"],h={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},d={},c=new t.Class({defaults:r,attributeMap:o,settings:{},value:null,use24Hours:!1,minViewModeNumber:0,currentViewMode:0,init:function(t,i){this.inputElements=t,this.settings=i,this.initFormatting();var s=e(this.settings.format);this.value=s,this.viewValue=this.value,this.buildHtml(),this.initElements(),this.buildObservers(),this.bindEvents(),this.refresh()},initFormatting:function(){this.use24Hours=this.settings.format.toLowerCase().indexOf("a")<1&&this.settings.format.replace(/\[.*?\]/g,"").indexOf("h")<1,i(this.settings.format,"y")&&(this.minViewModeNumber=2),i(this.settings.format,"M")&&(this.minViewModeNumber=1),i(this.settings.format,"d")&&(this.minViewModeNumber=0),this.currentViewMode=Math.max(this.minViewModeNumber,this.currentViewMode)},buildHtml:function(){for(var t=this.viewValue.clone().startOf("w").startOf("d"),e=this.settings.calendarWeeks===!0?'<th class="cw">#</th>':"";t.isBefore(this.viewValue.clone().endOf("w"));)e+='<th class="dow">'+t.format("dd")+"</th>",t.add(1,"d");e="<tr>"+e+"</tr>";for(var r=this.viewValue.clone().startOf("y").startOf("d"),o="";r.isSame(this.viewValue,"y");)o+='<span class="month" data-action="selectMonth">'+r.format("MMM")+"</span>",r.add(1,"M");var l='<div class="datepicker'+(n(this.settings.format)&&s(this.settings.format)?" col-md-6":"")+'">   <div class="datepicker-days">       <table class="table-condensed">           <thead>               <tr>                   <th class="prev" data-action="previous"><span class="'+this.settings.icons.previous+'" title="'+this.settings.tooltips.prevMonth+'"></span></th>                   <th class="picker-switch" data-action="pickerSwitch" colspan="'+(this.settings.calendarWeeks?"6":"5")+'" title="'+this.settings.tooltips.selectMonth+'"></th>                   <th class="next" data-action="next"><span class="'+this.settings.icons.next+'" title="'+this.settings.tooltips.nextMonth+'"></span></th>               </tr>'+e+'           </thead>           <tbody>           </tbody>       <table/>   </div>   <div class="datepicker-months">       <table class="table-condensed">           <thead>               <tr>                   <th class="prev" data-action="previous"><span class="'+this.settings.icons.previous+'" title="'+this.settings.tooltips.prevYear+'"></span></th>                   <th class="picker-switch" data-action="pickerSwitch" colspan="'+(this.settings.calendarWeeks?"6":"5")+'" title="'+this.settings.tooltips.selectYear+'"></th>                   <th class="next" data-action="next"><span class="'+this.settings.icons.next+'" title="'+this.settings.tooltips.nextYear+'"></span></th>               </tr>           </thead>           <tbody>               <tr><td colspan="'+(this.settings.calendarWeeks?"8":"7")+'">'+o+'</td></tr>           </tbody>       <table/>   </div>   <div class="datepicker-years">       <table class="table-condensed">           <thead>               <tr>                   <th class="prev" data-action="previous"><span class="'+this.settings.icons.previous+'" title="'+this.settings.tooltips.prevDecade+'"></span></th>                   <th class="picker-switch" data-action="pickerSwitch" colspan="'+(this.settings.calendarWeeks?"6":"5")+'" title="'+this.settings.tooltips.selectDecade+'"></th>                   <th class="next" data-action="next"><span class="'+this.settings.icons.next+'" title="'+this.settings.tooltips.nextDecade+'"></span></th>               </tr>           </thead>           <tbody>               <tr><td colspan="'+(this.settings.calendarWeeks?"8":"7")+'"></td></tr>           </tbody>       <table/>   </div>   <div class="datepicker-decades">       <table class="table-condensed">           <thead>               <tr>                   <th class="prev" data-action="previous"><span class="'+this.settings.icons.previous+'" title="'+this.settings.tooltips.prevCentury+'"></span></th>                   <th class="picker-switch" data-action="pickerSwitch" colspan="'+(this.settings.calendarWeeks?"6":"5")+'"></th>                   <th class="next" data-action="next"><span class="'+this.settings.icons.next+'" title="'+this.settings.tooltips.nextCentury+'"></span></th>               </tr>           </thead>           <tbody>               <tr><td colspan="'+(this.settings.calendarWeeks?"8":"7")+'"></td></tr>           </tbody>       <table/>   </div></div>',h="";if(i(this.settings.format,"h")){var d=this.viewValue.clone().startOf("d");for(this.viewValue.hour()>11&&!this.use24Hours&&d.hour(12);d.isSame(this.viewValue,"d")&&(this.use24Hours||this.viewValue.hour()<12&&d.hour()<12||this.viewValue.hour()>11);)d.hour()%4===0&&(h+="<tr>"),h+='<td data-action="selectHour" class="hour'+(a(this.settings,d,"h")?"":" disabled")+'">'+d.format(this.use24Hours?"HH":"hh")+"</td>",d.hour()%4===3&&(h+="</tr>"),d.add(1,"h")}var c="";if(i(this.settings.format,"m"))for(var u=this.viewValue.clone().startOf("h"),f=1===this.settings.stepping?5:this.settings.stepping;this.viewValue.isSame(u,"h");)u.minute()%(4*f)===0&&(c+="<tr>"),c+='<td data-action="selectMinute" class="minute'+(a(this.settings,u,"m")?"":" disabled")+'">'+u.format("mm")+"</td>",u.minute()%(4*f)===3*f&&(c+="</tr>"),u.add(f,"m");var p="";if(i(this.settings.format,"s"))for(var m=this.viewValue.clone().startOf("m");this.viewValue.isSame(m,"m");)m.second()%20===0&&(p+="<tr>"),p+='<td data-action="selectSecond" class="second'+(a(this.settings,m,"s")?"":" disabled")+'">'+m.format("ss")+"</td>",m.second()%20===15&&(p+="</tr>"),m.add(5,"s");var g='<div class="timepicker'+(n(this.settings.format)&&s(this.settings.format)?" col-md-6":"")+'">   <div class="timepicker-picker">       <table class="table-condensed">           <tr>'+(i(this.settings.format,"h")?'               <td>                   <a href="#" class="btn" data-action="incrementHours" tabindex="-1" title="'+this.settings.tooltips.incrementHour+'">                       <span class="'+this.settings.icons.up+'"></span>                   </a>               </td>':"")+(i(this.settings.format,"m")?(i(this.settings.format,"h")?'               <td class="separator"></td>':"")+'               <td>                   <a href="#" class="btn" data-action="incrementMinutes" tabindex="-1" title="'+this.settings.tooltips.incrementMinute+'">                       <span class="'+this.settings.icons.up+'"></span>                   </a>               </td>':"")+(i(this.settings.format,"s")?(i(this.settings.format,"m")?'               <td class="separator"></td>':"")+'               <td>                   <a href="#" class="btn" data-action="incrementSeconds" tabindex="-1" title="'+this.settings.tooltips.incrementSecond+'">                       <span class="'+this.settings.icons.up+'"></span>                   </a>               </td>':"")+(this.use24Hours?'               <td class="separator"></td>':"")+"           </tr>           <tr>"+(i(this.settings.format,"h")?'               <td>                   <span class="timepicker-hour" data-action="showHours" data-time-component="hours" title="'+this.settings.tooltips.pickHour+'"></span>               </td>':"")+(i(this.settings.format,"m")?(i(this.settings.format,"h")?'               <td class="separator">:</td>':"")+'               <td>                   <span class="timepicker-minute" data-action="showMinutes" data-time-component="minutes" title="'+this.settings.tooltips.pickMinute+'"></span>               </td>':"")+(i(this.settings.format,"s")?(i(this.settings.format,"m")?'               <td class="separator">:</td>':"")+'               <td>                   <span class="timepicker-second" data-action="showSeconds" data-time-component="seconds" title="'+this.settings.tooltips.pickSecond+'"></span>               </td>':"")+(this.use24Hours?'               <td class="separator">                   <button class="btn btn-primary" data-action="togglePeriod" tabindex="-1" title="'+this.settings.tooltips.togglePeriod+'"></button>               </td>':"")+'           </tr>           <tr>               <td>                   <a href="#" class="btn" data-action="decrementHours" tabindex="-1" title="'+this.settings.tooltips.decrementHour+'">                       <span class="'+this.settings.icons.down+'"></span>                   </a>               </td>'+(i(this.settings.format,"m")?(i(this.settings.format,"h")?'               <td class="separator"></td>':"")+'               <td>                   <a href="#" class="btn" data-action="decrementMinutes" tabindex="-1" title="'+this.settings.tooltips.decrementMinute+'">                       <span class="'+this.settings.icons.down+'"></span>                   </a>               </td>':"")+(i(this.settings.format,"s")?(i(this.settings.format,"m")?'               <td class="separator"></td>':"")+'               <td>                   <a href="#" class="btn" data-action="decrementSeconds" tabindex="-1" title="'+this.settings.tooltips.decrementSecond+'">                       <span class="'+this.settings.icons.down+'"></span>                   </a>               </td>':"")+(this.use24Hours?'               <td class="separator"></td>':"")+"           </tr>       </table>   </div>"+(i(this.settings.format,"h")?'   <div class="timepicker-hours">       <table class="table-condensed">'+h+"</table>   </div>":"")+(i(this.settings.format,"m")?'   <div class="timepicker-minutes">       <table class="table-condensed">'+c+"</table>   </div>":"")+(i(this.settings.format,"s")?'   <div class="timepicker-seconds">       <table class="table-condensed">'+p+"</table>   </div>":"")+"</div>",v='<table class="table-condensed">   <tbody>       <tr>'+(this.settings.showTodayButton?'           <td><a data-action="today" title="'+this.settings.tooltips.today+'"><span class="'+this.settings.icons.today+'"></span></a></td>':"")+(this.settings.showClear?'           <td><a data-action="clear" title="'+this.settings.tooltips.clear+'"><span class="'+this.settings.icons.clear+'"></span></a></td>':"")+(this.settings.showClose?'           <td><a data-action="close" title="'+this.settings.tooltips.close+'"><span class="'+this.settings.icons.close+'"></span></a></td>':"")+"       </tr>   </tbody></table>",b='<li class="picker-switch">'+v+"<li>",y="t-dtpicker-widget";this.settings.inline||(y+=" dropdown-menu"),this.use24Hours&&(y+=" usetwentyfour"),i(this.settings.format,"s")&&!this.use24Hours&&(y+=" wider");var w="";w=n(this.settings.format)&&s(this.settings.format)?'<div class="'+y+' timepicker-sbs">   <div class="row">'+l+g+b+"   </div></div>":'<div class="'+y+'">   <ul class="list-unstyled">'+(n(this.settings.format)?"       <li>"+l+"</li>":"")+(s(this.settings.format)?"       <li>"+l+"</li>":"")+"       <li>"+b+"</li>   </ul></div>",this.container=$(w),this.inputElements.view.after(this.container)},initElements:function(){this.elements={decades:$(".datepicker-decades",this.container),years:$(".datepicker-years",this.container),months:$(".datepicker-months",this.container),days:$(".datepicker-days",this.container),hour:$(".timepicker-hour",this.container),hours:$(".timepicker-hours",this.container),minute:$(".timepicker-minute",this.container),minutes:$(".timepicker-minutes",this.container),second:$(".timepicker-second",this.container),seconds:$(".timepicker-seconds",this.container)},this.settings.inline&&this.show(),this.elements.hours.hide(),this.elements.minutes.hide(),this.elements.seconds.hide()},buildObservers:function(){var t=this,i=[{navFnc:"M",navStep:1},{navFnc:"y",navStep:1},{navFnc:"y",navStep:10},{navFnc:"y",navStep:100}];this.observers={next:function(){var t=i[this.currentViewMode].navStep,e=i[this.currentViewMode].navFnc;this.viewValue.add(t,e),this.refreshDate()},previous:function(){var t=i[this.currentViewMode].navFnc,e=i[this.currentViewMode].navStep;this.viewValue.subtract(e,t),this.refreshDate()},pickerSwitch:function(){this.showMode(1)},selectMonth:function(t){var e=$(t.target).closest("tbody").find("span").index($(t.target));this.viewValue.month(e),this.currentViewMode===this.minViewModeNumber?(this.setValue(this.value.clone().year(this.viewValue.year()).month(this.viewValue.month())),this.settings.inline||this.hide()):(this.showMode(-1),this.refreshDays())},selectYear:function(t){var e=parseInt($(t.target).text(),10)||0;this.viewValue.year(e),this.currentViewMode===this.minViewModeNumber?(this.setValue(this.value.clone().year(this.viewValue.year())),this.settings.inline||this.hide()):(this.showMode(-1),this.refreshMonths())},selectDecade:function(t){var e=parseInt($(t.target).data("selection"),10)||0;this.viewValue.year(e),this.currentViewMode===this.minViewModeNumber?(this.setValue(this.value.clone().year(this.viewValue.year())),this.settings.inline||this.hide()):(this.showMode(-1),this.refreshYears())},selectDay:function(t){var e=this.viewValue.clone();$(t.target).is(".old")&&e.subtract(1,"M"),$(t.target).is(".new")&&e.add(1,"M"),this.setValue(e.date(parseInt($(t.target).text(),10))),s(this.settings.format)||this.settings.keepOpen||this.settings.inline||this.hide()},incrementHours:function(){var t=this.value.clone().add(1,"h");a(this.settings,t,"h")&&this.setValue(t)},incrementMinutes:function(){var t=this.value.clone().add(this.settings.stepping,"m");a(this.settings,t,"m")&&this.setValue(t)},incrementSeconds:function(){var t=this.value.clone().add(1,"s");a(this.settings,t,"s")&&this.setValue(t)},decrementHours:function(){var t=this.value.clone().subtract(1,"h");a(this.settings,t,"h")&&this.setValue(t)},decrementMinutes:function(){var t=this.value.clone().subtract(this.settings.stepping,"m");a(this.settings,t,"m")&&this.setValue(t)},decrementSeconds:function(){var t=this.value.clone().subtract(1,"s");a(this.settings,t,"s")&&this.setValue(t)},togglePeriod:function(){this.setValue(this.value.clone().add(this.value.hours()>=12?-12:12,"h"))},showPicker:function(){t.container.find(".timepicker > div:not(.timepicker-picker)").hide(),t.container.find(".timepicker .timepicker-picker").show()},showHours:function(){t.container.find(".timepicker .timepicker-picker").hide(),t.container.find(".timepicker .timepicker-hours").show()},showMinutes:function(){t.container.find(".timepicker .timepicker-picker").hide(),t.container.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){t.container.find(".timepicker .timepicker-picker").hide(),t.container.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var e=parseInt($(t.target).text(),10);this.use24Hours||(this.value.hours()>=12?12!==e&&(e+=12):12===e&&(e=0)),this.setValue(this.value.clone().hours(e)),this.observers.showPicker.call(this)},selectMinute:function(t){this.setValue(this.value.clone().minutes(parseInt($(t.target).text(),10))),this.observers.showPicker()},selectSecond:function(t){this.setValue(this.value.clone().seconds(parseInt($(t.target).text(),10))),this.observers.showPicker()},clear:function(){this.clear()},today:function(){var t=e();a(this.settings,t,"d")&&this.setValue(t)},close:function(){this.hide()}},this.keyBinds={up:function(t){if(t){var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")?this.date(i.clone().subtract(7,"d")):this.date(i.clone().add(this.stepping(),"m"))}},down:function(t){if(!t)return void this.show();var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")?this.date(i.clone().add(7,"d")):this.date(i.clone().subtract(this.stepping(),"m"))},"control up":function(t){if(t){var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")?this.date(i.clone().subtract(1,"y")):this.date(i.clone().add(1,"h"))}},"control down":function(t){if(t){var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")?this.date(i.clone().add(1,"y")):this.date(i.clone().subtract(1,"h"))}},left:function(t){if(t){var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")&&this.date(i.clone().subtract(1,"d"))}},right:function(t){if(t){var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")&&this.date(i.clone().add(1,"d"))}},pageUp:function(t){if(t){var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")&&this.date(i.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var i=this.date()||e(this.settings.format);t.find(".datepicker").is(":visible")&&this.date(i.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(e(this.settings.format))},"delete":function(){this.clear()}}},bindEvents:function(){this.element;this.inputElements.button.on("click",$.proxy(this.show,this)),this.container.on("click","[data-action]",$.proxy(this.doAction,this)),this.container.on("mousedown",!1),$(window).on("resize",$.proxy(this.place,this))},render:function(){},place:function(){var t,e,i,s=this.inputElements.view.position(),n=this.inputElements.view.offset();i=this.inputElements.view.parent(),t=n.top+1.5*this.container.height()>=$(window).height()+$(window).scrollTop()&&this.container.height()+this.inputElements.view.outerHeight()<n.top?"top":"bottom",e=i.width()<n.left+this.container.outerWidth()/2&&n.left+this.container.outerWidth()>$(window).width()?"right":"left","top"===t?this.container.addClass("top").removeClass("bottom"):this.container.addClass("bottom").removeClass("top"),"right"===e?this.container.addClass("pull-right"):this.container.removeClass("pull-right"),"relative"!==i.css("position")&&(i=i.parents().filter(function(){return"relative"===$(this).css("position")}).first()),this.container.css({top:"top"===t?"auto":s.top+this.inputElements.view.outerHeight(),bottom:"top"===t?s.top+this.inputElements.view.outerHeight():"auto",left:"left"===e?i===this.inputElements.view?0:s.left:"auto",right:"left"===e?"auto":i.outerWidth()-this.inputElements.view.outerWidth()-(i===this.inputElements.view?0:s.left)})},showMode:function(t){t&&(this.currentViewMode=Math.max(this.minViewModeNumber,Math.min(3,this.currentViewMode+t))),this.container.find(".datepicker > div").hide().filter(".datepicker-"+l[this.currentViewMode]).show()},fillDate:function(){},fillTime:function(){},hide:function(){this.inputElements.button.toggleClass("active"),this.container.hide(),$(window).off("resize",this.place),this.container.off("click","[data-action]"),this.container.off("mousedown",!1),this.inputElements.view.blur()},clear:function(){this.setValue(null),this.viewValue=e(this.settings.format)},doAction:function(t){var e=$(t.currentTarget);if(e.is(".disabled"))return!1;var i=e.data("action");return this.observers[i].apply(this,arguments),!1},show:function(){this.inputElements.original.prop("disabled")||(this.showMode(),this.place(),this.container.show())},toggle:function(){return widget?hide():show()},keydown:function(t){var e,i,s,n,a=null,r=[],o={},l=t.which,c="p";d[l]=c;for(e in d)d.hasOwnProperty(e)&&d[e]===c&&(r.push(e),parseInt(e,10)!==l&&(o[e]=!0));for(e in this.settings.keyBinds)if(this.settings.keyBinds.hasOwnProperty(e)&&"function"==typeof this.settings.keyBinds[e]&&(s=e.split(" "),s.length===r.length&&h[l]===s[s.length-1])){for(n=!0,i=s.length-2;i>=0;i--)if(!(h[s[i]]in o)){n=!1;break}if(n){a=this.settings.keyBinds[e];break}}a&&(a.call(picker,widget),t.stopPropagation(),t.preventDefault())},keyup:function(t){d[t.which]="r",t.stopPropagation(),t.preventDefault()},change:function(t){var e=$(t.target).val().trim(),i=e?this.parseInputDate(e):null;return setValue(i),t.stopImmediatePropagation(),!1},indexGivenDates:function(t){var e={};return $.each(t,function(){var t=this.parseInputDate(this);t.isValid()&&(e[t.format("YYYY-MM-DD")]=!0)}),Object.keys(e).length?e:!1},indexGivenHours:function(t){var e={};return $.each(t,function(){e[this]=!0}),Object.keys(e).length?e:!1},refresh:function(){this.refreshDate(),this.refreshTime()},refreshDate:function(){n(this.settings.format)&&(this.refreshDecades(),this.refreshYears(),this.refreshMonths(),this.refreshDays())},refreshDecades:function(){var t=this.elements.decades.find("th"),e=moment({y:this.viewValue.year()-this.viewValue.year()%100-1}),i=e.clone(),s=e.clone().add(100,"y");this.elements.decades.find(".disabled").removeClass("disabled"),(e.isSame(moment({y:1900}))||this.settings.minDate&&this.settings.minDate.isAfter(e,"y"))&&t.eq(0).addClass("disabled"),t.eq(1).text(e.year()+"-"+s.year()),(e.isSame(moment({y:2e3}))||this.settings.maxDate&&this.settings.maxDate.isBefore(s,"y"))&&t.eq(2).addClass("disabled");for(var n="";!e.isAfter(s,"y");)n+='<span    data-action="selectDecade"    class="decade'+(e.isSame(this.value,"y")?" active":"")+(a(this.settings,e,"y")?"":" disabled")+'"    data-selection="'+(e.year()+6)+'">'+(e.year()+1)+" - "+(e.year()+12)+"</span>",e.add(12,"y");n+="<span></span><span></span><span></span>",this.elements.decades.find("td").html(n),t.eq(1).text(i.year()+1+"-"+e.year())},refreshYears:function(){var t=this.elements.years.find("th"),e=this.viewValue.clone().subtract(5,"y"),i=this.viewValue.clone().add(6,"y");this.elements.years.find(".disabled").removeClass("disabled"),this.settings.minDate&&this.settings.minDate.isAfter(e,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(e.year()+"-"+i.year()),
this.settings.maxDate&&this.settings.maxDate.isBefore(i,"y")&&t.eq(2).addClass("disabled");for(var s="";!e.isAfter(i,"y");)s+='<span    data-action="selectYear"    class="year'+(e.isSame(this.value,"y")?" active":"")+(a(this.settings,e,"y")?"":" disabled")+'">'+e.year()+"</span>",e.add(1,"y");this.elements.years.find("td").html(s)},refreshMonths:function(){var t=this.elements.months.find("th"),e=this.elements.months.find("tbody").find("span");this.elements.months.find(".disabled").removeClass("disabled"),a(this.settings,this.viewValue.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled"),t.eq(1).text(this.viewValue.year()),a(this.settings,this.viewValue.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled"),e.removeClass("active"),this.value.isSame(this.viewValue,"y")&&e.eq(this.value.month()).addClass("active");var i=this;e.each(function(t){a(i.settings,i.viewValue.clone().month(t),"M")||$(this).addClass("disabled")})},refreshDays:function(){var t=this.elements.days.find("th");this.elements.days.find(".disabled").removeClass("disabled"),a(this.settings,this.viewValue.clone().subtract(1,"M"),"M")||t.eq(0).addClass("disabled"),t.eq(1).text(this.viewValue.format(this.settings.dayViewHeaderFormat)),a(this.settings,this.viewValue.clone().add(1,"M"),"M")||t.eq(2).addClass("disabled");for(var i=this.viewValue.clone().startOf("M").startOf("w").startOf("d"),s="",n=0;42>n;n++){var r="";i.isBefore(this.viewValue,"M")&&(r+=" old"),i.isAfter(this.viewValue,"M")&&(r+=" new"),i.isSame(this.value,"d")&&(r+=" active"),a(this.settings,i,"d")||(r+=" disabled"),i.isSame(e(),"d")&&(r+=" today"),(0===i.day()||6===i.day())&&(r+=" weekend"),s+=""+(0===i.weekday()?"<tr>":"")+(this.settings.calendarWeeks?'   <td class="cw">'+i.week()+"</td>":"")+'   <td        data-action="selectDay"        data-day="'+i.format("L")+'"        class="day'+r+'">'+i.date()+"   </td>"+(6===i.weekday()?"</tr>":""),i.add(1,"d")}this.elements.days.find("tbody").empty().append(s)},refreshTime:function(){if(s(this.settings.format)){if(!this.use24Hours){var t=this.container.find(".timepicker [data-action=togglePeriod]"),e=this.value.clone().add(this.value.hours()>=12?-12:12,"h");t.text(this.value.format("A")),a(this.settings,e,"h")?t.removeClass("disabled"):t.addClass("disabled")}this.refreshHours(),this.refreshMinutes(),this.refreshSeconds()}},refreshHours:function(){var t=this.viewValue.clone().startOf("d");this.elements.hour.text(t.format(this.use24Hours?"HH":"hh"))},refreshMinutes:function(){var t=this.viewValue.clone().startOf("h");this.elements.minute.text(t.format("mm"))},refreshSeconds:function(){var t=this.viewValue.clone().startOf("m");this.elements.second.text(t.format("ss"))},setValue:function(t){t&&a(this.settings,t)?(this.inputElements.original.val(t.format(this.settings.format)),this.inputElements.view.val(t.format(this.settings.format)),this.value=t):(this.inputElements.original.val(""),this.inputElements.view.val(""),this.value=null)},enable:function(){},disable:function(){},destroy:function(){}});this.DTPicker=new t.Class({extend:T.UI.BaseControl},{defaults:r,attributeMap:o,settings:{},templates:{},elements:{},init:function(t,e){var i=$(t);this.initSettings(i,e),this.initStates(i),this.buildHtml(i),this.initElements(),this.buildObservers(),this.bindEvents(),this.settings.inline&&this.show()},initStates:function(t){var e=this.parseInputDate(t.val().trim());e&&a(this.settings,e)?t.val(e.format(this.settings.format)):t.val("")},buildHtml:function(t){var e='<div class="t-dtpicker-container input-group">    <input type="text" class="form-control">    <div class="input-group-btn">        <button type="button" class="btn btn-default">            <span class="glyphicon glyphicon-calendar"></span>        </button>    </div></div>',i=$(e);this.elements={original:t,container:i,view:$("input[type=text]",i),button:$("button",i)}},initElements:function(){this.elements.original.before(this.elements.container),this.elements.original.hide(),this.elements.view.val(this.elements.original.val()),this.elements.original.prop("disabled")&&this.disable(),this.widget=new c(this.elements,this.settings)},transferAttributes:function(){this.elements.view.attr("required",this.elements.original.attr("required")),this.elements.view.attr("rel",this.elements.original.attr("rel")),this.elements.view.attr("title",this.elements.original.attr("title")),this.elements.view.attr("class",this.elements.original.attr("class")),this.elements.view.attr("tabindex",this.elements.original.attr("tabindex")),this.elements.original.removeAttr("tabindex"),void 0!==this.elements.original.attr("disabled")&&this.disable()},buildObservers:function(){},bindEvents:function(){this.elements.original;this.elements.view.on({change:$.proxy(this.change,this),blur:$.proxy(this.hide,this),keydown:$.proxy(this.keydown,this),keyup:$.proxy(this.keyup,this),focus:$.proxy(this.widget.show,this.widget),click:$.proxy(this.widget.show,this.widget)})},render:function(){},parseInputDate:function(t){return t=void 0===this.settings.parseInputDate?moment.isMoment(t)||t instanceof Date?moment(t):e(this.settings.format,t):this.settings.parseInputDate(t)},getValue:function(){var t=this.elements.original.val(),e=this.parseInputDate(t);return e},setValue:function(t){t&&a(this.settings,t)?this.elements.original.val(t.format(this.settings.format)):this.elements.original.val("")},refresh:function(){},enable:function(){this.elements.original.prop("disabled",!1),this.elements.button.removeClass("disabled")},disable:function(){this.hide(),this.elements.original.prop("disabled",!0),this.elements.button.addClass("disabled")},destroy:function(){this.hide(),this.elements.original.off({change:change,blur:blur,keydown:keydown,keyup:keyup,focus:this.settings.allowInputToggle?hide:""})}})}),Jx()["package"]("T.UI.Controls",function(t){"use strict";var e={levelNames:"一级名称,二级名称,三级名称",dataUrl:""},i={levelNames:"level-names",dataUrl:"data-url"},s=new t.Class({data:{},init:function(t,e,i){this.inputElements=t,this.settings=e,this.levels=this.settings.levelNames.split(","),this.data=i,this.activeLevelIndex=0,this.buildHtml(),this.initElements(),this.bindEvents(),this.bindEventsInterface(),this.refresh()},buildHtml:function(){for(var t="",e="",i=0;i<this.levels.length;i++){var s=this.levels[i];t+='<li data-t-level="'+i+'" class="t-level-tab-'+i+'"><a href="#">'+s+'<span class="caret"></span></a></li>',e+='<div class="t-level-'+i+' t-level-content"></div>'}var n='<div class="t-level-menu dropdown-menu">    <div class="t-level-path">        <ul class="t-level-tabs">'+t+"        </ul>    </div>"+e+'    <span class="t-level-close glyphicon glyphicon-remove"></span></div>';this.container=$(n),this.container.insertAfter(this.inputElements.view)},buildContainer:function(){},initElements:function(){var t=this;this.elements={tabs:$(".t-level-tabs li",this.container),contents:$(".t-level-content",this.container),close:$(".t-level-close",this.container),getTab:function(e){var i=".t-level-tab-"+e;return $(i,t.container)},getContent:function(e){var i=".t-level-"+e;return $(i,t.container)},getNodes:function(e){var i=".t-level-"+e+" li";return $(i,t.container)}}},grep:function(t,e){for(var i=0;i<t.length;i++)if(e===t[i].id){var s=t[i];return s}},_buildNodes:function(t,e){for(var i='<ul class="t-level-nodes">',s=0;s<t.length;s++){var n=t[s];i+='<li data-t-id="'+n.id+'">'+n.name+"</li>"}i+="</ul>",this.elements.getContent(e).empty().append(i)},bindEvents:function(){var t=this,e=this.elements;this.inputElements.view.on("click",$.proxy(this.show,this)).on("blur",$.proxy(this.blur,this)),this.container.on("mouseenter",$.proxy(this.mouseenter,this)).on("mouseleave",$.proxy(this.mouseleave,this)),e.tabs.on("click",function(e){var i=$(this).data("t-level");t.activeLevelIndex=parseInt(i),t._activeTab(),e.preventDefault()}),e.close.on("click",function(e){t.hide()});for(var i=this.getPath(),s=0;s<=i.length;s++)this._bindEventsNodes(s)},bindEventsInterface:function(){},_bindEventsNodes:function(t){var e=this,i=this.elements.getNodes(t);i.on("click",function(t){var i=$(this).data("t-id");e.change(i,e.activeLevelIndex),e.refresh();var s=e.getPath();if(s.length<e.levels.length){for(var n=s.length;n<e.levels.length;n++)e._setTab(n,e.levels[n]);for(var n=s.length+1;n<e.levels.length;n++)e.elements.getContent(n).empty()}else e.hide()})},refresh:function(){var t=this.getPath();this._refreshInputView(t),this._refreshTabs(t),this._refreshTabContents(t),this.activeLevelIndex=this.getLastestTabIndex(t),this._activeTab()},_refreshTabs:function(t){for(var e,i=this.data,s=0;s<t.length;s++){var n=t[s];e=this.grep(i,n),i=e.childs,this._setTab(s,e.name)}},_setTab:function(t,e){var i=this.elements.getTab(t);i.html('<a href="#">'+e+'<span class="caret"></span>')},_activeTab:function(){this.elements.tabs.removeClass("active"),this.elements.getTab(this.activeLevelIndex).addClass("active"),this.elements.contents.hide(),this.elements.getContent(this.activeLevelIndex).show()},_refreshTabContents:function(t){for(var e,i=this.data,s=this.getLastestTabIndex(t),n=0;s+1>n;n++){this._buildNodes(i,n),this._bindEventsNodes(n);var a=t[n];if(!a)break;e=this.grep(i,a),i=e.childs}},_refreshInputView:function(t){for(var e,i=[],s=this.data,n=0;n<t.length;n++){var a=t[n];e=this.grep(s,a),s=e.childs,i.push(e.name)}var r=i.join(" / ");this.inputElements.view.val(r)},getPath:function(){var t=this.inputElements.original.val(),e=""===t?[]:t.split(",");return e},getLastestTabIndex:function(t){var e=t.length===this.levels.length?t.length-1:t.length;return e},change:function(t,e){for(var i=this.getPath();i.length>e;)i.pop();i.push(t),this.inputElements.original.val(i.join(",")),this.inputElements.original.trigger("change")},blur:function(t){var e=this;this.mousedover||setTimeout(function(){e.hide()},200)},mouseenter:function(t){this.mousedover=!0},mouseleave:function(t){var e=this;this.mousedover||setTimeout(function(){e.hide()},200),this.mousedover=!1},show:function(){var t=$.extend({},this.inputElements.view.position(),{height:this.inputElements.view[0].offsetHeight});this.container.css({top:t.top+t.height,left:t.left}).show()},hide:function(){this.container.hide()}});this.Level=new t.Class({extend:T.UI.BaseControl},{defaults:e,attributeMap:i,init:function(t,e){this.element=$(t),this.container,this.elements,this.value=this.element.val();var i=$(t);this.initSettings(i,e);var s=this;this.d=$.Deferred(),$.when(this.getData(this.d)).done(function(){s.render()}),this.buildHtml(),this.initElements(),this.transferAttributes(),this.bindEvents(),this.bindEventsInterface()},buildHtml:function(){var t='<div class="t-level-container">    <input type="text" autocomplete="off" /></div>';this.container=$(t),this.element.before(this.container)},getData:function(t){if(this.settings.data)return this.data=$.extend(!0,[],this.settings.data),delete this.settings.data,t.resolve(),t.promise();var e=this;return $.ajax({dataType:"json",url:this.settings.dataUrl,data:{},success:function(i){e.data=i,t.resolve()},error:function(i,s,n){alert("控件id："+e.element.attr("id")+"，ajax获取数据失败!"),t.resolve()}}),t.promise()},render:function(){this.menu=new s(this.elements,this.settings,this.data)},initElements:function(){this.elements={original:this.element,view:$("input[type=text]",this.container)},this.elements.original.hide(),this.elements.view.attr("readonly","readonly")},bindEvents:function(){this.element,this.elements},bindEventsInterface:function(){this.element},transferAttributes:function(){this.elements.view.attr("required",this.element.attr("required")),this.elements.view.attr("rel",this.element.attr("rel")),this.elements.view.attr("title",this.element.attr("title")),this.elements.view.attr("class",this.element.attr("class")),this.elements.view.attr("tabindex",this.element.attr("tabindex")),this.element.removeAttr("tabindex"),void 0!==this.element.attr("disabled")&&this.disable()},refresh:function(){var t=this;$.when(this.d.promise()).done(function(){t.menu.refresh()})},enable:function(){this.element.prop("disabled",!1),this.elements.view.prop("disabled",!1),this.disabled=!1},disable:function(){this.element.prop("disabled",!0),this.elements.view.prop("disabled",!0),this.disabled=!0}})}),Jx()["package"]("T.UI.Controls",function(t){"use strict";var e={liked:!1,dataUrl:""},i={liked:"liked",dataUrl:"data-url"};this.LikeIt=new t.Class({extend:T.UI.BaseControl},{defaults:e,attributeMap:i,init:function(t,e){this.element=$(t),this.value=parseInt(this.element.text());var i=$(t);this.initSettings(i,e),this.bindEvents(),this.refresh()},bindEvents:function(){this.element.on("click",$.proxy(this.toggle,this))},getValue:function(){return this.value},toggle:function(){this.value=this.settings.liked?this.value-1:this.value+1,this.settings.liked=!this.settings.liked,this.postback()},postback:function(){if(this.settings.dataUrl){var t=this;$.ajax({dataType:"json",url:this.settings.dataUrl,data:{},success:function(e){t.refresh()},error:function(e,i,s){alert("控件id: "+t.element.attr("id")+" , ajax发送数据失败！")}})}},refresh:function(){this.element.text(this.value),this.settings.liked?this.element.addClass("liked"):this.element.removeClass("liked")}})}),Jx()["package"]("T.UI.Controls",function(t){"use strict";function e(t,e){var i,s=document.createElement(t||"div");for(i in e)s[i]=e[i];return s}function i(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function s(t,e){var i,s,n=["webkit","Moz","ms","O"],a=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==a[e])return e;for(s=0;s<n.length;s++)if(i=n[s]+e,void 0!==a[i])return i}function n(t,e){for(var i in e)t.style[s(t,i)||i]=e[i];return t}function a(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)void 0===t[s]&&(t[s]=i[s])}return t}function r(t,e){return"string"==typeof t?t:t[e%t.length]}function o(){function t(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}c.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(e,s){function a(){return n(t("group",{coordsize:d+" "+d,coordorigin:-h+" "+-h}),{width:d,height:d})}function o(e,o,l){i(u,i(n(a(),{rotation:360/s.lines*e+"deg",left:~~o}),i(n(t("roundrect",{arcsize:s.corners}),{width:h,height:s.scale*s.width,left:s.scale*s.radius,top:-s.scale*s.width>>1,filter:l}),t("fill",{color:r(s.color,e),opacity:s.opacity}),t("stroke",{opacity:0}))))}var l,h=s.scale*(s.length+s.width),d=2*s.scale*h,c=-(s.width+s.length)*s.scale*2+"px",u=n(a(),{position:"absolute",top:c,left:c});if(s.shadow)for(l=1;l<=s.lines;l++)o(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=s.lines;l++)o(l);return i(e,u)},m.prototype.opacity=function(t,e,i,s){var n=t.firstChild;s=s.shadow&&s.lines||0,n&&e+s<n.childNodes.length&&(n=n.childNodes[e+s],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=i))}}function l(t,e){this.element=t,this.options=$.extend({},u,e),this._defaults=u,this._loader=null,this.init()}function h(){$[v]||($.isLoading=function(t){$("body").isLoading(t)})}var d,c,u={},f={},p={},m=new t.Class({defaults:{lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},attributeMap:f,init:function(t){this.opts=a(t||{},this.defaults)},spin:function(t){this.stop();var i=this,s=i.opts,a=i.el=e(null,{className:s.className});if(n(a,{position:s.position,width:0,zIndex:s.zIndex,left:s.left,top:s.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),i.lines(a,i.opts),!d){var r,o=0,l=(s.lines-1)*(1-s.direction)/2,h=s.fps,c=h/s.speed,u=(1-s.opacity)/(c*s.trail/100),f=c/s.lines;!function p(){o++;for(var t=0;t<s.lines;t++)r=Math.max(1-(o+(s.lines-t)*f)%c*u,s.opacity),i.opacity(a,t*s.direction+l,r,s);i.timeout=i.el&&setTimeout(p,~~(1e3/h))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},addAnimation:function(t,e,i,s){var n=["opacity",e,~~(100*t),i,s].join("-"),a=.01+i/s*100,r=Math.max(1-(1-t)/e*(100-a),t),o=d.substring(0,d.indexOf("Animation")).toLowerCase(),l=o&&"-"+o+"-"||"";return p[n]||(c.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+r+"}"+a+"%{opacity:"+t+"}"+(a+.01)+"%{opacity:1}"+(a+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",c.cssRules.length),p[n]=1),n},lines:function(t,s){function a(t,i){return n(e(),{position:"absolute",width:s.scale*(s.length+s.width)+"px",height:s.scale*s.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*l+s.rotate)+"deg) translate("+s.scale*s.radius+"px,0)",borderRadius:(s.corners*s.scale*s.width>>1)+"px"})}for(var o,l=0,h=(s.lines-1)*(1-s.direction)/2;l<s.lines;l++)o=n(e(),{position:"absolute",top:1+~(s.scale*s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:d&&this.addAnimation(s.opacity,s.trail,h+l*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&i(o,n(a("#000","0 0 4px #000"),{top:"2px"})),i(t,i(o,a(r(s.color,l),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)},destroy:function(){}});if("undefined"!=typeof document){c=function(){var t=e("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}();var g=n(e("group"),{behavior:"url(#default#VML)"});!s(g,"transform")&&g.adj?o():d=s(g,"animation")}var v="loadmask",u={position:"right",text:"",className:"icon-refresh",tpl:'<span class="isloading-wrapper %wrapper%">%text%</span>'+(new m).spin().el.outerHTML,disableSource:!0,disableOthers:[]};l.prototype={init:function(){$(this.element).is("body")&&(this.options.position="overlay"),this.show()},show:function(){var t=this,e=t.options.tpl.replace("%wrapper%"," isloading-show  isloading-"+t.options.position);switch(e=e.replace("%class%",t.options.className),e=e.replace("%text%",""!==t.options.text?t.options.text+" ":""),t._loader=$(e),$(t.element).is("input, textarea")&&!0===t.options.disableSource?$(t.element).attr("disabled","disabled"):!0===t.options.disableSource&&$(t.element).addClass("disabled"),t.options.position){case"inside":$(t.element).html(t._loader);break;case"overlay":var i=null;if($(t.element).is("body"))i=$('<div class="isloading-overlay" style="position:fixed; left:0; top:0; z-index: 10000; background: rgba(0,0,0,0.5); width: 100%; height: '+$(window).height()+'px;" />'),$("body").prepend(i),$(window).on("resize",function(){i.height($(window).height()+"px"),t._loader.css({top:$(window).height()/2-t._loader.outerHeight()/2+"px"})});else{var s=$(t.element).css("position"),n={},a=$(t.element).outerHeight()+"px",r="100%";n="relative"===s||"absolute"===s?{top:0,left:0}:$(t.element).position(),i=$('<div class="isloading-overlay" style="position:absolute; top: '+n.top+"px; left: "+n.left+"px; z-index: 10000; background: rgba(0,0,0,0.5); width: "+r+"; height: "+a+';" />'),$(t.element).prepend(i),$(window).on("resize",function(){i.height($(t.element).outerHeight()+"px"),t._loader.css({top:i.outerHeight()/2-t._loader.outerHeight()/2+"px"})})}i.html(t._loader),t._loader.css({top:i.outerHeight()/2-t._loader.outerHeight()/2+"px"});break;default:$(t.element).after(t._loader)}t.disableOthers()},hide:function(){"overlay"===this.options.position?$(this.element).find(".isloading-overlay").first().remove():($(this._loader).remove(),$(this.element).text($(this.element).attr("data-isloading-label"))),$(this.element).removeAttr("disabled").removeClass("disabled"),this.enableOthers()},disableOthers:function(){$.each(this.options.disableOthers,function(t,e){var i=$(e);i.is("button, input, textarea")?i.attr("disabled","disabled"):i.addClass("disabled")})},enableOthers:function(){$.each(this.options.disableOthers,function(t,e){var i=$(e);i.is("button, input, textarea")?i.removeAttr("disabled"):i.removeClass("disabled")})}},$.fn[v]=function(t){return this.each(function(){if(t&&"hide"!==t||!$.data(this,"plugin_"+v))$.data(this,"plugin_"+v,new l(this,t));else{var e=$.data(this,"plugin_"+v);"hide"===t?e.hide():e.show()}})},h()}),Jx()["package"]("T.UI.Controls",function(t){"use strict";var e={buttonWidth:"auto",dropRight:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllNumber:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,placeholder:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,delimiterText:", ",buttonText:function(t,e){if(0===t.length)return this.placeholder;if(this.allSelectedText&&t.length===$("option",$(e)).length&&1!==$("option",$(e)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+t.length+")":this.allSelectedText;if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var i="",s=this.delimiterText;return t.each(function(){var t=void 0!==$(this).attr("label")?$(this).attr("label"):$(this).text();i+=t+s}),i.substr(0,i.length-2)},buttonTitle:function(t,e){if(0===t.length)return this.placeholder;var i="",s=this.delimiterText;return t.each(function(){var t=void 0!==$(this).attr("label")?$(this).attr("label"):$(this).text();i+=t+s}),i.substr(0,i.length-2)},onChange:void 0,onDropdownShow:void 0,onDropdownHide:void 0,onDropdownShown:void 0,onDropdownHidden:void 0,onSelectAll:void 0},i={placeholder:"placeholder",includeSelectAllOption:"include-select-all-option",enableClickableOptGroups:"enable-clickable-optgroups",enableFiltering:"enable-filtering"};this.Multiselect=new t.Class({extend:T.UI.BaseControl},{defaults:e,attributeMap:i,templates:{filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',divider:'<li class="multiselect-item divider"></li>'},init:function(t,e){this.element=$(t);var i=$(t);this.initSettings(i,e),this.settings.multiple="multiple"===this.element.attr("multiple"),this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.buildHtml(),this.initElements(),this.transferAttributes(),this.bindEvents(),this.bindEventsInterface(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.settings.disableIfEmpty&&$("option",this.element).length<=0&&this.disable()},transferAttributes:function(){this.settings.inheritClass&&this.elements.view.attr("class",this.element.attr("class")),this.elements.view.attr("tabindex",this.element.attr("tabindex")),this.elements.orginal.removeAttr("tabindex"),void 0!==this.element.attr("disabled")&&this.disable()},buildHtml:function(){"number"==typeof this.settings.selectAllValue&&(this.settings.selectAllValue=this.settings.selectAllValue.toString());var t='<ul class="multiselect-container dropdown-menu">';this.settings.includeSelectAllOption&&this.settings.multiple&&(t+='<li class="multiselect-item multiselect-all">    <a tabindex="0" class="multiselect-all">       <label class="checkbox"><input type="checkbox" value="'+this.settings.selectAllValue+'">'+this.settings.selectAllText+"</label>    </a></li>",t+=this.templates.divider);for(var e=this.element.children(),i=0;i<e.length;i++){var s=e[i],n=$(s),a=n.prop("tagName").toLowerCase();"optgroup"!==a?"option"===a&&("divider"===n.data("role")?(this.createDivider(),t+=this.templates.divider):t+=this.createOptionValue(s)):t+=this.createOptgroup(s)}t+="</ul>";var r='<div class="t-multiselect-container btn-group">    <button type="button" class="multiselect dropdown-toggle btn btn-default" data-toggle="dropdown">       <span class="multiselect-selected-text"></span><b class="caret"></b>    </button>'+t+"</div>";this.container=$(r),this.element.before(this.container)},initElements:function(){this.elements={orginal:this.element,view:$("button",this.container),menu:$("ul",this.container),groups:$("li.multiselect-group",this.container),inputs:$("li input",this.container),links:$("li a",this.container),getItemSelectAll:function(){return $("li.multiselect-all",this.container)}},this.element.hide(),this.settings.buttonWidth&&"auto"!==this.settings.buttonWidth&&(this.elements.view.css({width:this.settings.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.container.css({width:this.settings.buttonWidth})),this.elements.view.dropdown(),this.settings.dropRight&&this.elements.menu.addClass("pull-right"),this.settings.maxHeight&&this.elements.menu.css({"max-height":this.settings.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"})},unbindEvents:function(){this.container.off("show.bs.dropdown"),this.container.off("hide.bs.dropdown"),this.container.off("shown.bs.dropdown"),this.container.off("hidden.bs.dropdown")},bindEvents:function(){this.unbindEvents(),this.settings.enableClickableOptGroups&&this.settings.multiple&&this.elements.groups.on("click",$.proxy(this.onGroupClick,this)),this.elements.links.on("touchstart click",$.proxy(this.onLinkClick,this)),this.elements.links.on("mousedown",this.onLinkMousedown),this.elements.inputs.on("change",$.proxy(this.onCheck,this)),this.container.off("keydown.multiselect"),this.container.on("keydown.multiselect",$.proxy(this.onKeydown,this))},bindEventsInterface:function(){"function"==typeof this.settings.onChange&&this.container.on("onchange.bs.dropdown",this.settings.onChange),"function"==typeof this.settings.onDropdownShow&&this.container.on("show.bs.dropdown",this.settings.onDropdownShow),"function"==typeof this.settings.onDropdownHide&&this.container.on("hide.bs.dropdown",this.settings.onDropdownHide),"function"==typeof this.settings.onDropdownShown&&this.container.on("shown.bs.dropdown",this.settings.onDropdownShown),"function"==typeof this.settings.onDropdownHidden&&this.container.on("hidden.bs.dropdown",this.settings.onDropdownHidden),"function"==typeof this.settings.onSelectAll&&this.container.on("selectall.bs.dropdown",this.settings.onSelectAll)},onGroupClick:function(t){t.stopPropagation();var e=$(t.target).parent(),i=e.nextUntil("li.multiselect-group"),s=i.filter(":visible:not(.disabled)"),n=!0,a=s.find("input");a.each(function(){n=n&&$(this).prop("checked")}),a.prop("checked",!n).trigger("change")},onCheck:function(t){t.stopPropagation();var e=$(t.target),i=e.prop("checked")||!1,s=e.val()===this.settings.selectAllValue;this.settings.selectedClass&&(i?e.closest("li").addClass(this.settings.selectedClass):e.closest("li").removeClass(this.settings.selectedClass));var n=e.val(),a=this.getOptionByValue(n),r=$("option",this.element).not(a),o=$("input",this.container).not(e);return s?i?this.selectAll():this.deselectAll():i?(a.prop("selected",!0),this.settings.multiple?a.prop("selected",!0):(this.settings.selectedClass&&$(o).closest("li").removeClass(this.settings.selectedClass),$(o).prop("checked",!1),r.prop("selected",!1),this.elements.view.click()),"active"===this.settings.selectedClass&&r.closest("a").css("outline","")):a.prop("selected",!1),this.element.change(),this.updateButtonText(),this.updateSelectAll(),this.container.trigger("onchange",{option:a,checked:i}),this.settings.preventInputChangeEvent?!1:void 0},onLinkClick:function(t){t.stopPropagation();var e=$(t.target);if(t.shiftKey&&this.settings.multiple){e.is("label")&&(t.preventDefault(),e=e.find("input"),e.prop("checked",!e.prop("checked")));var i=e.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==e){var s=e.closest("li").index(),n=this.lastToggledInput.closest("li").index();if(s>n){var a=n;n=s,s=a}++n;var r=this.elements.menu.find("li").slice(s,n).find("input");r.prop("checked",i),this.settings.selectedClass&&r.closest("li").toggleClass(this.settings.selectedClass,i);for(var o=0,l=r.length;l>o;o++){var h=$(r[o]),d=this.getOptionByValue(h.val());d.prop("selected",i)}}e.trigger("change")}e.is("input")&&!e.closest("li").is(".multiselect-item")&&(this.lastToggledInput=e),e.blur()},onLinkMousedown:function(t){return t.shiftKey?!1:void 0},onKeydown:function(t){if(!$('input[type="text"]',this.container).is(":focus"))if(9===t.keyCode&&this.container.hasClass("open"))this.elements.view.click();else{var e=$(this.container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!e.length)return;var i=e.index(e.filter(":focus"));38===t.keyCode&&i>0?i--:40===t.keyCode&&i<e.length-1?i++:~i||(i=0);var s=e.eq(i);if(s.focus(),32===t.keyCode||13===t.keyCode){var n=s.find("input");n.prop("checked",!n.prop("checked")),n.change()}t.stopPropagation(),t.preventDefault()}},createOptionValue:function(t){var e=$(t);e.is(":selected")&&e.prop("selected",!0);var i=e.attr("label")||e.text(),s=e.attr("title")||"",n=e.val(),a=this.settings.multiple?"checkbox":"radio",r=e.prop("selected")||!1,o=e.is(":disabled"),l="",h="";r&&this.settings.selectedClass&&(l=+this.settings.selectedClass),o&&(l+=" disabled"),n===this.settings.selectAllValue&&(l+=" multiselect-item multiselect-all",h=' class="'+multiselect-all+'"');var d='<li class="'+l+'" '+(o?'tabindex="-1"':"")+'>   <a tabindex="0"'+(o?' tabindex="-1"':"")+h+'>       <label class="'+a+'" title="'+s+'">       <input            type="'+a+'"            value="'+n+'" '+(r?'checked="checked"':"")+(o?'disabled="disabled"':"")+'" />'+i+"       </label>   </a></li>";return d},createOptgroup:function(t){var e=$(t).prop("label"),i="";this.settings.enableClickableOptGroups&&(i+=" multiselect-group-clickable"),$(t).is(":disabled")&&(i+=" disabled");for(var s='<li class="multiselect-item multiselect-group'+i+'"><label>'+e+"</label></li>",n=$("option",t),a=0;a<n.length;a++){var r=n[a];s+=this.createOptionValue(r)}return s},buildFilter:function(){if(this.settings.enableFiltering||this.settings.enableCaseInsensitiveFiltering){var t=Math.max(this.settings.enableFiltering,this.settings.enableCaseInsensitiveFiltering);if(!(this.element.find("option").length<t)){if(this.$filter=$(this.templates.filter),$("input",this.$filter).attr("placeholder",this.settings.filterPlaceholder),this.settings.includeFilterClearBtn){var e=$(this.templates.filterClearBtn);e.on("click",$.proxy(function(t){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),$("li",this.elements.menu).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(e)}this.elements.menu.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",$.proxy(function(t){13===t.which&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction($.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var e,i;$.each($("li",this.elements.menu),$.proxy(function(t,s){var n=$("input",s).length>0?$("input",s).val():"",a=$("label",s).text(),r="";if("text"===this.settings.filterBehavior?r=a:"value"===this.settings.filterBehavior?r=n:"both"===this.settings.filterBehavior&&(r=a+"\n"+n),n!==this.settings.selectAllValue&&a){var o=!1;this.settings.enableCaseInsensitiveFiltering&&r.toLowerCase().indexOf(this.query.toLowerCase())>-1?o=!0:r.indexOf(this.query)>-1&&(o=!0),$(s).toggle(o).toggleClass("filter-hidden",!o),$(s).hasClass("multiselect-group")?(e=s,i=o):(o&&$(e).show().removeClass("filter-hidden"),!o&&i&&$(s).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.container.remove(),this.element.show(),this.element.data("multiselect",null)},refresh:function(){$("option",this.element).each($.proxy(function(t,e){var i=$("li input",this.elements.menu).filter(function(){return $(this).val()===$(e).val()});$(e).is(":selected")?(i.prop("checked",!0),
this.settings.selectedClass&&i.closest("li").addClass(this.settings.selectedClass)):(i.prop("checked",!1),this.settings.selectedClass&&i.closest("li").removeClass(this.settings.selectedClass)),$(e).is(":disabled")?i.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):i.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(t,e){$.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i];if(null!==s&&void 0!==s){var n=this.getOptionByValue(s),a=this.getInputByValue(s);void 0!==n&&void 0!==a&&(this.settings.multiple||this.deselectAll(!1),this.settings.selectedClass&&a.closest("li").addClass(this.settings.selectedClass),a.prop("checked",!0),n.prop("selected",!0),e&&this.container.trigger("onchange",{option:n,checked:!0}))}}this.updateButtonText(),this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(t,e){$.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i];if(null!==s&&void 0!==s){var n=this.getOptionByValue(s),a=this.getInputByValue(s);void 0!==n&&void 0!==a&&(this.settings.selectedClass&&a.closest("li").removeClass(this.settings.selectedClass),a.prop("checked",!1),n.prop("selected",!1),e&&this.container.trigger("onchange",{option:n,checked:!1}))}}this.updateButtonText(),this.updateSelectAll()},selectAll:function(t,e){var t="undefined"==typeof t?!0:t,i=$("li input[type='checkbox']:enabled",this.elements.menu),s=i.filter(":visible"),n=i.length,a=s.length;if(t?(s.prop("checked",!0),$("li:not(.divider):not(.disabled)",this.elements.menu).filter(":visible").addClass(this.settings.selectedClass)):(i.prop("checked",!0),$("li:not(.divider):not(.disabled)",this.elements.menu).addClass(this.settings.selectedClass)),n===a||t===!1)$("option:enabled",this.element).prop("selected",!0);else{var r=s.map(function(){return $(this).val()}).get();$("option:enabled",this.element).filter(function(t){return-1!==$.inArray($(this).val(),r)}).prop("selected",!0)}e&&this.container.trigger("selectall")},deselectAll:function(t){var t="undefined"==typeof t?!0:t;if(t){var e=$("li input[type='checkbox']:not(:disabled)",this.elements.menu).filter(":visible");e.prop("checked",!1);var i=e.map(function(){return $(this).val()}).get();$("option:enabled",this.element).filter(function(t){return-1!==$.inArray($(this).val(),i)}).prop("selected",!1),this.settings.selectedClass&&$("li:not(.divider):not(.disabled)",this.elements.menu).filter(":visible").removeClass(this.settings.selectedClass)}else $("li input[type='checkbox']:enabled",this.elements.menu).prop("checked",!1),$("option:enabled",this.element).prop("selected",!1),this.settings.selectedClass&&$("li:not(.divider):not(.disabled)",this.elements.menu).removeClass(this.settings.selectedClass)},rebuild:function(){this.elements.menu.html(""),this.settings.multiple="multiple"===this.element.attr("multiple"),this.buildHtml(),this.settings.disableIfEmpty&&$("option",this.element).length<=0?this.disable():this.enable(),this.settings.dropRight&&this.elements.menu.addClass("pull-right")},dataprovider:function(t){var e=0,i=this.element.empty();$.each(t,function(t,s){var n;if($.isArray(s.children)){e++,n=$("<optgroup/>").attr({label:s.label||"Group "+e,disabled:!!s.disabled});for(var a=0;a<s.children.length;a++)subOption=s.children[a],n.append($("<option/>").attr({value:subOption.value,label:subOption.label||subOption.value,title:subOption.title,selected:!!subOption.selected,disabled:!!subOption.disabled}))}else n=$("<option/>").attr({value:s.value,label:s.label||s.value,title:s.title,selected:!!s.selected,disabled:!!s.disabled});i.append(n)}),this.rebuild()},enable:function(){this.element.prop("disabled",!1),this.elements.view.prop("disabled",!1).removeClass("disabled")},disable:function(){this.element.prop("disabled",!0),this.elements.view.prop("disabled",!0).addClass("disabled")},hasSelectAll:function(){return this.elements.getItemSelectAll()},updateSelectAll:function(){if(this.hasSelectAll()){var t=$("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.elements.menu),e=t.length,i=t.filter(":checked").length,s=$("li.multiselect-all",this.elements.menu),n=s.find("input");i>0&&i===e?(n.prop("checked",!0),s.addClass(this.settings.selectedClass),this.container.trigger("selectall")):(n.prop("checked",!1),s.removeClass(this.settings.selectedClass))}},updateButtonText:function(){var t=this.getSelected();$(".multiselect .multiselect-selected-text",this.container).text(this.settings.buttonText(t,this.element)),$(".multiselect",this.container).attr("title",this.settings.buttonTitle(t,this.element))},getSelected:function(){return $("option",this.element).filter(":selected")},getOptionByValue:function(t){for(var e=$("option",this.element),i=t.toString(),s=0;s<e.length;s+=1){var n=e[s];if(n.value===i)return $(n)}},getInputByValue:function(t){for(var e=$("li input",this.elements.menu),i=t.toString(),s=0;s<e.length;s+=1){var n=e[s];if(n.value===i)return $(n)}},asyncFunction:function(t,e,i){var s=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(i||window,s)},e)},setAllSelectedText:function(t){this.settings.allSelectedText=t,this.updateButtonText()}})}),+function(t){"use strict";function e(i,s){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,s),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var s=t(this),n=s.data("bs.scrollspy"),a="object"==typeof i&&i;n||s.data("bs.scrollspy",n=new e(this,a)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",s=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",s=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),a=/^#./.test(n)&&t(n);return a&&a.length&&a.is(":visible")&&[[a[i]().top+s,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),s=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=s)return r!=(t=a[a.length-1])&&this.activate(t);if(r&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)r!=a[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',s=t(i).parents("li").addClass("active");s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),s.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e}(jQuery),Jx()["package"]("T.UI.Controls",function(t){"use strict";function e(t,e){return t+".spinner"+e}function i(t,i){return $.map(t,function(t){return e(t,i)})}var s={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default"},n={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class"};this.Spinner=new t.Class({extend:T.UI.BaseControl},{defaults:s,attributeMap:n,init:function(t,e){if(this.element=$(t),this.container,this.elements,this.value,this.downSpinTimer,this.upSpinTimer,this.downDelayTimeout,this.upDelayTimeout,this.spincount=0,this.spinning=!1,!this.element.is("input"))return void console.log("Must be an input.");var i=$(t);this.initSettings(i,e),""!==this.settings.initval&&""===this.element.val()&&this.element.val(this.settings.initval),this._checkValue(),this.buildHtml(),this.initElements(),this._hideEmptyPrefixPostfix(),this.bindEvents(),this.bindEventsInterface()},changeSettings:function(t){this._updateSettings(t),this._checkValue();var e=elements.input.val();""!==e&&(e=Number(elements.input.val()),elements.input.val(e.toFixed(this.settings.decimals)))},_updateSettings:function(t){this.settings=$.extend({},settings,t)},buildHtml:function(){var t=this.element.val(),e=this.element.parent();""!==t&&(t=Number(t).toFixed(this.settings.decimals)),this.element.data("initvalue",t).val(t),this.element.addClass("form-control"),e.hasClass("input-group")?this._advanceInputGroup(e):this._buildInputGroup()},_advanceInputGroup:function(t){t.addClass("bootstrap-spinner");var e,i,s=this.element.prev(),n=this.element.next(),a='<span class="input-group-addon bootstrap-spinner-prefix">'+this.settings.prefix+"</span>",r='<span class="input-group-addon bootstrap-spinner-postfix">'+this.settings.postfix+"</span>";s.hasClass("input-group-btn")?(e='<button class="'+this.settings.buttondown_class+' bootstrap-spinner-down" type="button">-</button>',s.append(e)):(e='<span class="input-group-btn"><button class="'+this.settings.buttondown_class+' bootstrap-spinner-down" type="button">-</button></span>',$(e).insertBefore(this.element)),n.hasClass("input-group-btn")?(i='<button class="'+this.settings.buttonup_class+' bootstrap-spinner-up" type="button">+</button>',n.prepend(i)):(i='<span class="input-group-btn"><button class="'+this.settings.buttonup_class+' bootstrap-spinner-up" type="button">+</button></span>',$(i).insertAfter(this.element)),$(a).insertBefore(this.element),$(r).insertAfter(this.element),this.container=t},_buildInputGroup:function(){var t;t=this.settings.verticalbuttons?'<div class="input-group bootstrap-spinner"><span class="input-group-addon bootstrap-spinner-prefix">'+this.settings.prefix+'</span><span class="input-group-addon bootstrap-spinner-postfix">'+this.settings.postfix+'</span><span class="input-group-btn-vertical"><button class="'+this.settings.buttondown_class+' bootstrap-spinner-up" type="button"><i class="'+this.settings.verticalupclass+'"></i></button><button class="'+this.settings.buttonup_class+' bootstrap-spinner-down" type="button"><i class="'+this.settings.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-spinner"><span class="input-group-btn"><button class="'+this.settings.buttondown_class+' bootstrap-spinner-down" type="button">-</button></span><span class="input-group-addon bootstrap-spinner-prefix">'+this.settings.prefix+'</span><span class="input-group-addon bootstrap-spinner-postfix">'+this.settings.postfix+'</span><span class="input-group-btn"><button class="'+this.settings.buttonup_class+' bootstrap-spinner-up" type="button">+</button></span></div>',this.container=$(t).insertBefore(this.element),$(".bootstrap-spinner-prefix",this.container).after(this.element),this.element.hasClass("input-sm")?this.container.addClass("input-group-sm"):this.element.hasClass("input-lg")&&this.container.addClass("input-group-lg")},initElements:function(){this.elements={down:$(".bootstrap-spinner-down",this.container),up:$(".bootstrap-spinner-up",this.container),input:$("input",this.container),prefix:$(".bootstrap-spinner-prefix",this.container).addClass(this.settings.prefix_extraclass),postfix:$(".bootstrap-spinner-postfix",this.container).addClass(this.settings.postfix_extraclass)},this.elements.input.css("display","block")},_hideEmptyPrefixPostfix:function(){""===this.settings.prefix&&this.elements.prefix.hide(),""===this.settings.postfix&&this.elements.postfix.hide()},bindEvents:function(){var t=this,e=this.element,s=this.elements;e.on("keydown",function(e){var i=e.keyCode||e.which;38===i?("up"!==t.spinning&&(upOnce(),startUpSpin()),e.preventDefault()):40===i&&("down"!==t.spinning&&(downOnce(),startDownSpin()),e.preventDefault())}),e.on("keyup",function(e){var i=e.keyCode||e.which;38===i?t.stopSpin():40===i&&t.stopSpin()}),e.on("blur",function(){t._checkValue()}),s.down.on("keydown",function(e){var i=e.keyCode||e.which;(32===i||13===i)&&("down"!==t.spinning&&(t.downOnce(),t.startDownSpin()),e.preventDefault())}),s.down.on("keyup",function(e){var i=e.keyCode||e.which;(32===i||13===i)&&t.stopSpin()}),s.up.on("keydown",function(e){var i=e.keyCode||e.which;(32===i||13===i)&&("up"!==t.spinning&&(t.upOnce(),t.startUpSpin()),e.preventDefault())}),s.up.on("keyup",function(e){var i=e.keyCode||e.which;(32===i||13===i)&&t.stopSpin()}),s.down.on("mousedown.spinner",function(i){s.down.off("touchstart.spinner"),e.is(":disabled")||(t.downOnce(),t.startDownSpin(),i.preventDefault(),i.stopPropagation())}),s.down.on("touchstart.spinner",function(i){s.down.off("mousedown.spinner"),e.is(":disabled")||(t.downOnce(),t.startDownSpin(),i.preventDefault(),i.stopPropagation())}),s.up.on("mousedown.spinner",function(i){s.up.off("touchstart.spinner"),e.is(":disabled")||(t.upOnce(),t.startUpSpin(),i.preventDefault(),i.stopPropagation())}),s.up.on("touchstart.spinner",function(i){s.up.off("mousedown.spinner"),e.is(":disabled")||(t.upOnce(),t.startUpSpin(),i.preventDefault(),i.stopPropagation())}),s.up.on("mouseout touchleave touchend touchcancel",function(e){t.spinning&&(e.stopPropagation(),t.stopSpin())}),s.down.on("mouseout touchleave touchend touchcancel",function(e){t.spinning&&(e.stopPropagation(),t.stopSpin())}),s.down.on("mousemove touchmove",function(e){t.spinning&&(e.stopPropagation(),e.preventDefault())}),s.up.on("mousemove touchmove",function(e){t.spinning&&(e.stopPropagation(),e.preventDefault())}),$(document).on(i(["mouseup","touchend","touchcancel"],this.element.data("plugin-id")).join(" "),function(e){t.spinning&&(e.preventDefault(),t.stopSpin())}),$(document).on(i(["mousemove","touchmove","scroll","scrollstart"],this.element.data("plugin-id")).join(" "),function(e){t.spinning&&(e.preventDefault(),t.stopSpin())}),e.on("mousewheel DOMMouseScroll",function(e){if(t.settings.mousewheel&&t.element.is(":focus")){var i=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),0>i?t.downOnce():t.upOnce()}})},bindEventsInterface:function(){var t=this,e=this.element;e.on("spinner.uponce",function(){t.stopSpin(),t.upOnce()}),e.on("spinner.downonce",function(){t.stopSpin(),t.downOnce()}),e.on("spinner.startupspin",function(){t.startUpSpin()}),e.on("spinner.startdownspin",function(){t.startDownSpin()}),e.on("spinner.stopspin",function(){t.stopSpin()}),e.on("spinner.updatesettings",function(e,i){t.changeSettings(i)})},unbindEvents:function(){$(document).off(i(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],this.element.data("pluginId")).join(" "))},_forcestepdivisibility:function(t){var e=this.settings;switch(e.forcestepdivisibility){case"round":return(Math.round(t/e.step)*e.step).toFixed(e.decimals);case"floor":return(Math.floor(t/e.step)*e.step).toFixed(e.decimals);case"ceil":return(Math.ceil(t/e.step)*e.step).toFixed(e.decimals);default:return t}},_checkValue:function(){var t,e,i;t=this.element.val(),""!==t&&(this.settings.decimals>0&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=0),i=e,e.toString()!==t&&(i=e),e<this.settings.min&&(i=this.settings.min),e>this.settings.max&&(i=this.settings.max),i=this._forcestepdivisibility(i),Number(t).toString()!==i.toString()&&(this.element.val(i),this.element.trigger("change"))))},_getBoostedStep:function(){if(this.settings.booster){var t=Math.pow(2,Math.floor(this.spincount/this.settings.boostat))*this.settings.step;return this.settings.maxboostedstep&&t>this.settings.maxboostedstep&&(t=this.settings.maxboostedstep,this.value=Math.round(this.value/t)*t),Math.max(this.settings.step,t)}return this.settings.step},upOnce:function(){this._checkValue();var t=parseFloat(this.elements.input.val());isNaN(t)&&(t=0);var e=t,i=this._getBoostedStep();t+=i,t>this.settings.max&&(t=this.settings.max,this.element.trigger("spinner.on.max"),this.stopSpin()),this.elements.input.val(Number(t).toFixed(this.settings.decimals)),e!==t&&this.element.trigger("change")},downOnce:function(){this._checkValue();var t=parseFloat(this.elements.input.val());isNaN(t)&&(t=0);var e=t,i=this._getBoostedStep();t-=i,t<this.settings.min&&(t=this.settings.min,this.element.trigger("spinner.on.min"),this.stopSpin()),this.elements.input.val(t.toFixed(this.settings.decimals)),e!==t&&this.element.trigger("change")},startDownSpin:function(){var t=this;this.stopSpin(),this.spincount=0,this.spinning="down",this.element.trigger("spinner.on.startspin"),this.element.trigger("spinner.on.startdownspin"),this.downDelayTimeout=setTimeout(function(){t.downSpinTimer=setInterval(function(){t.spincount++,t.downOnce()},t.settings.stepinterval)},this.settings.stepintervaldelay)},startUpSpin:function(){var t=this;this.stopSpin(),this.spincount=0,this.spinning="up",this.element.trigger("spinner.on.startspin"),this.element.trigger("spinner.on.startupspin"),this.upDelayTimeout=setTimeout(function(){t.upSpinTimer=setInterval(function(){t.spincount++,t.upOnce()},t.settings.stepinterval)},this.settings.stepintervaldelay)},stopSpin:function(){switch(clearTimeout(this.downDelayTimeout),clearTimeout(this.upDelayTimeout),clearInterval(this.downSpinTimer),clearInterval(this.upSpinTimer),this.spinning){case"up":this.element.trigger("spinner.on.stopupspin"),this.element.trigger("spinner.on.stopspin");break;case"down":this.element.trigger("spinner.on.stopdownspin"),this.element.trigger("spinner.on.stopspin")}this.spincount=0,this.spinning=!1}})}),Jx()["package"]("T.UI.Controls",function(t){"use strict";var e={},i={},s=150;this.Tabs=new t.Class({extend:T.UI.BaseControl},{defaults:e,attributeMap:i,settings:{},value:"",data:{},templates:{},init:function(t,e){this.element=$(t),this.container=this.element;var i=$(t);this.initSettings(i,e),this.initElements(),this.bindEvents()},initElements:function(){this.elements={original:this.element,tabsContainer:$("ul.nav-tabs",this.container),tabs:$("ul.nav-tabs .tab",this.container),tabPanes:$("div.tab-pane",this.container)}},show:function(t){t.preventDefault();var e=$(t.target),i=e.data("s-target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=this.elements.tabsContainer.find(".active:last a"),n=$.Event("hide.bs.tab",{relatedTarget:e[0]}),a=$.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(n),e.trigger(a),!a.isDefaultPrevented()&&!n.isDefaultPrevented()){var r=$(i);this.activate(e.closest("li"),this.elements.tabsContainer),this.activate(r,r.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},activate:function(t,e,i){function n(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=e.find("> .active"),r=i&&$.support.transition&&(a.length&&a.hasClass("fade")||!!e.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",n).emulateTransitionEnd(s):n(),a.removeClass("in")},bindEvents:function(){this.elements.tabs.on("click",$.proxy(this.show,this))},refresh:function(){},enable:function(){},disable:function(){},destroy:function(){}})}),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.tooltip"),a="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||s.data("bs.tooltip",n=new i(this,a)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,s){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),a=n.length;a--;){var r=n[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var o="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,s){i[t]!=s&&(e[t]=s)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var s=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!s)return;var n=this,a=this.tip(),r=this.getUID(this.type);this.setContent(),a.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&a.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(o);h&&(o=o.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),c=a[0].offsetWidth,u=a[0].offsetHeight;if(h){var f=o,p=this.getPosition(this.$viewport);o="bottom"==o&&d.bottom+u>p.bottom?"top":"top"==o&&d.top-u<p.top?"bottom":"right"==o&&d.right+c>p.width?"left":"left"==o&&d.left-c<p.left?"right":o,a.removeClass(f).addClass(o)}var m=this.getCalculatedOffset(o,d,c,u);this.applyPlacement(m,o);var g=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var s=this.tip(),n=s[0].offsetWidth,a=s[0].offsetHeight,r=parseInt(s.css("margin-top"),10),o=parseInt(s.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(o)&&(o=0),e.top+=r,e.left+=o,t.offset.setOffset(s[0],t.extend({using:function(t){s.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),s.addClass("in");var l=s[0].offsetWidth,h=s[0].offsetHeight;"top"==i&&h!=a&&(e.top=e.top+a-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var c=/top|bottom/.test(i),u=c?2*d.left-n+l:2*d.top-a+h,f=c?"offsetWidth":"offsetHeight";s.offset(e),this.replaceArrow(u,s[0][f],c)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function s(){"in"!=n.hoverState&&a.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,a=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],s="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var a=s?{top:0,left:0}:e.offset(),r={scroll:s?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},o=s?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,r,o,a)},i.prototype.getCalculatedOffset=function(t,e,i,s){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-s,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-s/2,left:e.left-i}:{top:e.top+e.height/2-s/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,s){var n={top:0,left:0};if(!this.$viewport)return n;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var o=e.top-a-r.scroll,l=e.top+a-r.scroll+s;o<r.top?n.top=r.top-o:l>r.top+r.height&&(n.top=r.top+r.height-l)}else{var h=e.left-a,d=e.left+a+i;h<r.left?n.left=r.left-h:d>r.right&&(n.left=r.left+r.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i}(jQuery),Jx()["package"]("T.UI.Controls",function(t){"use strict";var e=0,i={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:$.noop,addItem:!1,delay:0},s={source:"source",dataUrl:"data-url"};this.Typeahead=new t.Class({extend:T.UI.BaseControl},{defaults:i,attributeMap:s,init:function(t,i){this.element=$(t),e+=1,this.element.data("plugin-id",e);var s=$(t);this.initSettings(s,i),this.matcher=this.settings.matcher||this.matcher,this.sorter=this.settings.sorter||this.sorter,this.select=this.settings.select||this.select,this.autoSelect="boolean"==typeof this.settings.autoSelect?this.settings.autoSelect:!0,this.highlighter=this.settings.highlighter||this.highlighter,this.render=this.settings.render||this.render,this.updater=this.settings.updater||this.updater,this.displayText=this.settings.displayText||this.displayText,this.source=this.settings.source,this.delay=this.settings.delay,this.menu=$(this.settings.menu),this.appendTo=this.settings.appendTo?$(this.settings.appendTo):null,this.shown=!1,this.bindEvents(),this.showHintOnFocus="boolean"==typeof this.settings.showHintOnFocus?this.settings.showHintOnFocus:!1,this.afterSelect=this.settings.afterSelect,this.addItem=!1},postback:function(){if(0!==this.settings.dataUrl.length){var t=this;$.ajax({dataType:"json",url:t.settings.dataUrl,data:{keyword:t.element.val()},success:function(e){t.setSource(e)},error:function(e,i,s){alert("控件id："+t.element.attr("id")+"，ajax获取数据失败!")}})}},select:function(){var t=this.menu.find(".active").data("value");if(this.element.data("active",t),this.autoSelect||t){var e=this.updater(t);this.element.val(this.displayText(e)||e).change(),this.afterSelect(e)}return this.hide()},updater:function(t){return t},setSource:function(t){this.source=t},show:function(){var t,e=$.extend({},this.element.position(),{height:this.element[0].offsetHeight});return t="function"==typeof this.settings.scrollHeight?this.settings.scrollHeight.call():this.settings.scrollHeight,(this.appendTo?this.menu.appendTo(this.appendTo):this.menu.insertAfter(this.element)).css({top:e.top+e.height+t,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.menu.hide(),this.shown=!1,this},lookup:function(t){if("undefined"!=typeof t&&null!==t?this.query=t:this.query=this.element.val()||"",this.query.length<this.settings.minLength)return this.shown?this.hide():this;this.postback();var e=$.proxy(function(){$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source&&this.process(this.source);
},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(e,this.delay)},process:function(t){var e=this;return t=$.grep(t,function(t){return e.matcher(t)}),t=this.sorter(t),t.length||this.settings.addItem?(t.length>0?this.element.data("active",t[0]):this.element.data("active",null),this.settings.addItem&&t.push(this.settings.addItem),"all"==this.settings.items?this.render(t).show():this.render(t.slice(0,this.settings.items)).show()):this.shown?this.hide():this},matcher:function(t){var e=this.displayText(t);return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],s=[],n=[];e=t.shift();){var a=this.displayText(e);a.toLowerCase().indexOf(this.query.toLowerCase())?~a.indexOf(this.query)?s.push(e):n.push(e):i.push(e)}return i.concat(s,n)},highlighter:function(t){var e,i,s,n,a,r=$("<div></div>"),o=this.query,l=t.toLowerCase().indexOf(o.toLowerCase());if(e=o.length,0===e)return r.text(t).html();for(;l>-1;)i=t.substr(0,l),s=t.substr(l,e),n=t.substr(l+e),a=$("<strong></strong>").text(s),r.append(document.createTextNode(i)).append(a),t=n,l=t.toLowerCase().indexOf(o.toLowerCase());return r.append(document.createTextNode(t)).html()},render:function(t){var e=this,i=this,s=!1;return t=$(t).map(function(t,n){var a=i.displayText(n);return t=$(e.settings.item).data("value",n),t.find("a").html(e.highlighter(a)),a==i.element.val()&&(t.addClass("active"),i.element.data("active",n),s=!0),t[0]}),this.autoSelect&&!s&&(t.first().addClass("active"),this.element.data("active",t.first().data("value"))),this.menu.html(t),this},displayText:function(t){return t.name||t},next:function(t){var e=this.menu.find(".active").removeClass("active"),i=e.next();i.length||(i=$(this.menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.menu.find(".active").removeClass("active"),i=e.prev();i.length||(i=this.menu.find("li").last()),i.addClass("active")},bindEvents:function(){this.element.on("focus",$.proxy(this.focus,this)).on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.element.on("keydown",$.proxy(this.keydown,this)),this.menu.on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this))},destroy:function(){this.element.data("typeahead",null),this.element.data("active",null),this.element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.element.off("keydown"),this.menu.remove()},eventSupported:function(t){var e=t in this.element;return e||(this.element.setAttribute(t,"return;"),e="function"==typeof this.element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.shiftKey)return;t.preventDefault(),this.prev();break;case 40:if(t.shiftKey)return;t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~$.inArray(t.keyCode,[40,38,9,13,27]),this.shown||40!=t.keyCode?this.move(t):this.lookup()},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused||(this.focused=!0,this.settings.showHintOnFocus&&this.lookup(""))},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.element.focus()},mouseenter:function(t){this.mousedover=!0,this.menu.find(".active").removeClass("active"),$(t.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},refresh:function(){var t=this.element.val();if(this.element.data("active",t),this.autoSelect||t){var e=this.updater(t);this.element.val(this.displayText(e)||e).change(),this.afterSelect(e)}return this.hide()}})}),function(t,e,i,s){"use strict";function n(e){var i,s,a="a aa ai ao as b fn i m o s ",r={};t.each(e,function(t,o){i=t.match(/^([^A-Z]+?)([A-Z])/),i&&-1!==a.indexOf(i[1]+" ")&&(s=t.replace(i[0],i[2].toLowerCase()),r[s]=t,"o"===i[1]&&n(e[t]))}),e._hungarianMap=r}function a(e,i,r){e._hungarianMap||n(e);var o;t.each(i,function(n,l){o=e._hungarianMap[n],o===s||!r&&i[o]!==s||("o"===o.charAt(0)?(i[o]||(i[o]={}),t.extend(!0,i[o],i[n]),a(e[o],i[o],r)):i[o]=i[n])})}function r(t){var e=Gt.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Ft(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Ft(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var s=t.sDecimal;s&&Wt(s)}function o(t){ge(t,"ordering","bSort"),ge(t,"orderMulti","bSortMulti"),ge(t,"orderClasses","bSortClasses"),ge(t,"orderCellsTop","bSortCellsTop"),ge(t,"order","aaSorting"),ge(t,"orderFixed","aaSortingFixed"),ge(t,"paging","bPaginate"),ge(t,"pagingType","sPaginationType"),ge(t,"pageLength","iDisplayLength"),ge(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,s=e.length;s>i;i++)e[i]&&a(Gt.models.oSearch,e[i])}function l(e){ge(e,"orderable","bSortable"),ge(e,"orderData","aDataSort"),ge(e,"orderSequence","asSorting"),ge(e,"orderDataType","sortDataType");var i=e.aDataSort;i&&!t.isArray(i)&&(e.aDataSort=[i])}function h(e){if(!Gt.__browser){var i={};Gt.__browser=i;var s=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=s.children(),a=n.children();i.barWidth=n[0].offsetWidth-n[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==n[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=s[0].getBoundingClientRect().width?!0:!1,s.remove()}t.extend(e.oBrowser,Gt.__browser),e.oScroll.iBarWidth=Gt.__browser.barWidth}function d(t,e,i,n,a,r){var o,l=n,h=!1;for(i!==s&&(o=i,h=!0);l!==a;)t.hasOwnProperty(l)&&(o=h?e(o,t[l],l,t):t[l],h=!0,l+=r);return o}function c(e,s){var n=Gt.defaults.column,a=e.aoColumns.length,r=t.extend({},Gt.models.oColumn,n,{nTh:s?s:i.createElement("th"),sTitle:n.sTitle?n.sTitle:s?s.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[a],mData:n.mData?n.mData:a,idx:a});e.aoColumns.push(r);var o=e.aoPreSearchCols;o[a]=t.extend({},Gt.models.oSearch,o[a]),u(e,a,t(s).data())}function u(e,i,n){var r=e.aoColumns[i],o=e.oClasses,h=t(r.nTh);if(!r.sWidthOrig){r.sWidthOrig=h.attr("width")||null;var d=(h.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);d&&(r.sWidthOrig=d[1])}n!==s&&null!==n&&(l(n),a(Gt.defaults.column,n),n.mDataProp===s||n.mData||(n.mData=n.mDataProp),n.sType&&(r._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),t.extend(r,n),Ft(r,n,"sWidth","sWidthOrig"),n.iDataSort!==s&&(r.aDataSort=[n.iDataSort]),Ft(r,n,"aDataSort"));var c=r.mData,u=k(c),f=r.mRender?k(r.mRender):null,p=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};r._bAttrSrc=t.isPlainObject(c)&&(p(c.sort)||p(c.type)||p(c.filter)),r.fnGetData=function(t,e,i){var n=u(t,e,s,i);return f&&e?f(n,e,t,i):n},r.fnSetData=function(t,e,i){return A(c)(t,e,i)},"number"!=typeof c&&(e._rowReadObject=!0),e.oFeatures.bSort||(r.bSortable=!1,h.addClass(o.sSortableNone));var m=-1!==t.inArray("asc",r.asSorting),g=-1!==t.inArray("desc",r.asSorting);r.bSortable&&(m||g)?m&&!g?(r.sSortingClass=o.sSortableAsc,r.sSortingClassJUI=o.sSortJUIAscAllowed):!m&&g?(r.sSortingClass=o.sSortableDesc,r.sSortingClassJUI=o.sSortJUIDescAllowed):(r.sSortingClass=o.sSortable,r.sSortingClassJUI=o.sSortJUI):(r.sSortingClass=o.sSortableNone,r.sSortingClassJUI="")}function f(t){if(t.oFeatures.bAutoWidth!==!1){var e=t.aoColumns;bt(t);for(var i=0,s=e.length;s>i;i++)e[i].nTh.style.width=e[i].sWidth}var n=t.oScroll;(""!==n.sY||""!==n.sX)&&gt(t),Yt(t,null,"column-sizing",[t])}function p(t,e){var i=v(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function m(e,i){var s=v(e,"bVisible"),n=t.inArray(i,s);return-1!==n?n:null}function g(t){return v(t,"bVisible").length}function v(e,i){var s=[];return t.map(e.aoColumns,function(t,e){t[i]&&s.push(e)}),s}function b(t){var e,i,n,a,r,o,l,h,d,c=t.aoColumns,u=t.aoData,f=Gt.ext.type.detect;for(e=0,i=c.length;i>e;e++)if(l=c[e],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(n=0,a=f.length;a>n;n++){for(r=0,o=u.length;o>r&&(d[r]===s&&(d[r]=C(t,r,e,"type")),h=f[n](d[r],t),h||n===f.length-1)&&"html"!==h;r++);if(h){l.sType=h;break}}l.sType||(l.sType="string")}}function y(e,i,n,a){var r,o,l,h,d,u,f,p=e.aoColumns;if(i)for(r=i.length-1;r>=0;r--){f=i[r];var m=f.targets!==s?f.targets:f.aTargets;for(t.isArray(m)||(m=[m]),l=0,h=m.length;h>l;l++)if("number"==typeof m[l]&&m[l]>=0){for(;p.length<=m[l];)c(e);a(m[l],f)}else if("number"==typeof m[l]&&m[l]<0)a(p.length+m[l],f);else if("string"==typeof m[l])for(d=0,u=p.length;u>d;d++)("_all"==m[l]||t(p[d].nTh).hasClass(m[l]))&&a(d,f)}if(n)for(r=0,o=n.length;o>r;r++)a(r,n[r])}function w(e,i,n,a){var r=e.aoData.length,o=t.extend(!0,{},Gt.models.oRow,{src:n?"dom":"data",idx:r});o._aData=i,e.aoData.push(o);for(var l=e.aoColumns,h=0,d=l.length;d>h;h++)l[h].sType=null;e.aiDisplayMaster.push(r);var c=e.rowIdFn(i);return c!==s&&(e.aIds[c]=o),(n||!e.oFeatures.bDeferRender)&&H(e,r,n,a),r}function T(e,i){var s;return i instanceof t||(i=t(i)),i.map(function(t,i){return s=E(e,i),w(e,s.data,i,s.cells)})}function S(t,e){return e._DT_RowIndex!==s?e._DT_RowIndex:null}function D(e,i,s){return t.inArray(s,e.aoData[i].anCells)}function C(t,e,i,n){var a=t.iDraw,r=t.aoColumns[i],o=t.aoData[e]._aData,l=r.sDefaultContent,h=r.fnGetData(o,n,{settings:t,row:e,col:i});if(h===s)return t.iDrawError!=a&&null===l&&(Ht(t,0,"Requested unknown parameter "+("function"==typeof r.mData?"{function}":"'"+r.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=a),l;if(h!==o&&null!==h||null===l){if("function"==typeof h)return h.call(o)}else h=l;return null===h&&"display"==n?"":h}function x(t,e,i,s){var n=t.aoColumns[i],a=t.aoData[e]._aData;n.fnSetData(a,s,{settings:t,row:e,col:i})}function _(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function k(e){if(t.isPlainObject(e)){var i={};return t.each(e,function(t,e){e&&(i[t]=k(e))}),function(t,e,n,a){var r=i[e]||i._;return r!==s?r(t,e,n,a):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,s,n){return e(t,i,s,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){return t[e]};var n=function(e,i,a){var r,o,l,h;if(""!==a)for(var d=_(a),c=0,u=d.length;u>c;c++){if(r=d[c].match(ve),o=d[c].match(be),r){if(d[c]=d[c].replace(ve,""),""!==d[c]&&(e=e[d[c]]),l=[],d.splice(0,c+1),h=d.join("."),t.isArray(e))for(var f=0,p=e.length;p>f;f++)l.push(n(e[f],i,h));var m=r[0].substring(1,r[0].length-1);e=""===m?l:l.join(m);break}if(o)d[c]=d[c].replace(be,""),e=e[d[c]]();else{if(null===e||e[d[c]]===s)return s;e=e[d[c]]}}return e};return function(t,i){return n(t,i,e)}}function A(e){if(t.isPlainObject(e))return A(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,s){e(t,"set",i,s)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var i=function(e,n,a){for(var r,o,l,h,d,c=_(a),u=c[c.length-1],f=0,p=c.length-1;p>f;f++){if(o=c[f].match(ve),l=c[f].match(be),o){if(c[f]=c[f].replace(ve,""),e[c[f]]=[],r=c.slice(),r.splice(0,f+1),d=r.join("."),t.isArray(n))for(var m=0,g=n.length;g>m;m++)h={},i(h,n[m],d),e[c[f]].push(h);else e[c[f]]=n;return}l&&(c[f]=c[f].replace(be,""),e=e[c[f]](n)),(null===e[c[f]]||e[c[f]]===s)&&(e[c[f]]={}),e=e[c[f]]}u.match(be)?e=e[u.replace(be,"")](n):e[u.replace(ve,"")]=n};return function(t,s){return i(t,s,e)}}function $(t){return de(t.aoData,"_aData")}function M(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function I(t,e,i){for(var n=-1,a=0,r=t.length;r>a;a++)t[a]==e?n=a:t[a]>e&&t[a]--;-1!=n&&i===s&&t.splice(n,1)}function O(t,e,i,n){var a,r,o=t.aoData[e],l=function(i,s){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=C(t,e,s,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==o.src)){var h=o.anCells;if(h)if(n!==s)l(h[n],n);else for(a=0,r=h.length;r>a;a++)l(h[a],a)}else o._aData=E(t,o,n,n===s?s:o._aData).data;o._aSortData=null,o._aFilterData=null;var d=t.aoColumns;if(n!==s)d[n].sType=null;else{for(a=0,r=d.length;r>a;a++)d[a].sType=null;F(t,o)}}function E(e,i,n,a){var r,o,l,h=[],d=i.firstChild,c=0,u=e.aoColumns,f=e._rowReadObject;a=a!==s?a:f?{}:[];var p=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var s=t.substring(i+1),n=A(t);n(a,e.getAttribute(s))}}},m=function(e){if(n===s||n===c)if(o=u[c],l=t.trim(e.innerHTML),o&&o._bAttrSrc){var i=A(o.mData._);i(a,l),p(o.mData.sort,e),p(o.mData.type,e),p(o.mData.filter,e)}else f?(o._setter||(o._setter=A(o.mData)),o._setter(a,l)):a[c]=l;c++};if(d)for(;d;)r=d.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&(m(d),h.push(d)),d=d.nextSibling;else{h=i.anCells;for(var g=0,v=h.length;v>g;g++)m(h[g])}var b=i.firstChild?i:i.nTr;if(b){var y=b.getAttribute("id");y&&A(e.rowId)(a,y)}return{data:a,cells:h}}function H(t,e,s,n){var a,r,o,l,h,d=t.aoData[e],c=d._aData,u=[];if(null===d.nTr){for(a=s||i.createElement("tr"),d.nTr=a,d.anCells=u,a._DT_RowIndex=e,F(t,d),l=0,h=t.aoColumns.length;h>l;l++)o=t.aoColumns[l],r=s?n[l]:i.createElement(o.sCellType),r._DT_CellIndex={row:e,column:l},u.push(r),(!s||o.mRender||o.mData!==l)&&(r.innerHTML=C(t,e,l,"display")),o.sClass&&(r.className+=" "+o.sClass),o.bVisible&&!s?a.appendChild(r):!o.bVisible&&s&&r.parentNode.removeChild(r),o.fnCreatedCell&&o.fnCreatedCell.call(t.oInstance,r,C(t,e,l),c,e,l);Yt(t,"aoRowCreatedCallback",null,[a,c,e])}d.nTr.setAttribute("role","row")}function F(e,i){var s=i.nTr,n=i._aData;if(s){var a=e.rowIdFn(n);if(a&&(s.id=a),n.DT_RowClass){var r=n.DT_RowClass.split(" ");i.__rowc=i.__rowc?me(i.__rowc.concat(r)):r,t(s).removeClass(i.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&t(s).attr(n.DT_RowAttr),n.DT_RowData&&t(s).data(n.DT_RowData)}}function L(e){var i,s,n,a,r,o=e.nTHead,l=e.nTFoot,h=0===t("th, td",o).length,d=e.oClasses,c=e.aoColumns;for(h&&(a=t("<tr/>").appendTo(o)),i=0,s=c.length;s>i;i++)r=c[i],n=t(r.nTh).addClass(r.sClass),h&&n.appendTo(a),e.oFeatures.bSort&&(n.addClass(r.sSortingClass),r.bSortable!==!1&&(n.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),At(e,r.nTh,i))),r.sTitle!=n[0].innerHTML&&n.html(r.sTitle),Ut(e,"header")(e,n,r,d);if(h&&U(e.aoHeader,o),t(o).find(">tr").attr("role","row"),t(o).find(">tr>th, >tr>td").addClass(d.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l){var u=e.aoFooter[0];for(i=0,s=u.length;s>i;i++)r=c[i],r.nTf=u[i].cell,r.sClass&&t(r.nTf).addClass(r.sClass)}}function N(e,i,n){var a,r,o,l,h,d,c,u,f,p=[],m=[],g=e.aoColumns.length;if(i){for(n===s&&(n=!1),a=0,r=i.length;r>a;a++){for(p[a]=i[a].slice(),p[a].nTr=i[a].nTr,o=g-1;o>=0;o--)e.aoColumns[o].bVisible||n||p[a].splice(o,1);m.push([])}for(a=0,r=p.length;r>a;a++){if(c=p[a].nTr)for(;d=c.firstChild;)c.removeChild(d);for(o=0,l=p[a].length;l>o;o++)if(u=1,f=1,m[a][o]===s){for(c.appendChild(p[a][o].cell),m[a][o]=1;p[a+u]!==s&&p[a][o].cell==p[a+u][o].cell;)m[a+u][o]=1,u++;for(;p[a][o+f]!==s&&p[a][o].cell==p[a][o+f].cell;){for(h=0;u>h;h++)m[a+h][o+f]=1;f++}t(p[a][o].cell).attr("rowspan",u).attr("colspan",f)}}}}function P(e){var i=Yt(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,i))return void pt(e,!1);var n=[],a=0,r=e.asStripeClasses,o=r.length,l=(e.aoOpenRows.length,e.oLanguage),h=e.iInitDisplayStart,d="ssp"==Rt(e),c=e.aiDisplay;e.bDrawing=!0,h!==s&&-1!==h&&(e._iDisplayStart=d?h:h>=e.fnRecordsDisplay()?0:h,e.iInitDisplayStart=-1);var u=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,pt(e,!1);else if(d){if(!e.bDestroying&&!W(e))return}else e.iDraw++;if(0!==c.length)for(var p=d?0:u,m=d?e.aoData.length:f,v=p;m>v;v++){var b=c[v],y=e.aoData[b];null===y.nTr&&H(e,b);var w=y.nTr;if(0!==o){var T=r[a%o];y._sRowStripe!=T&&(t(w).removeClass(y._sRowStripe).addClass(T),y._sRowStripe=T)}Yt(e,"aoRowCallback",null,[w,y._aData,a,v]),n.push(w),a++}else{var S=l.sZeroRecords;1==e.iDraw&&"ajax"==Rt(e)?S=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(S=l.sEmptyTable),n[0]=t("<tr/>",{"class":o?r[0]:""}).append(t("<td />",{valign:"top",colSpan:g(e),"class":e.oClasses.sRowEmpty}).html(S))[0]}Yt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],$(e),u,f,c]),Yt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],$(e),u,f,c]);var D=t(e.nTBody);D.children().detach(),D.append(t(n)),Yt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function Y(t,e){var i=t.oFeatures,s=i.bSort,n=i.bFilter;s&&xt(t),n?q(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,P(t),t._drawHold=!1}function B(e){var i=e.oClasses,s=t(e.nTable),n=t("<div/>").insertBefore(s),a=e.oFeatures,r=t("<div/>",{id:e.sTableId+"_wrapper","class":i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o,l,h,d,c,u,f=e.sDom.split(""),p=0;p<f.length;p++){if(o=null,l=f[p],"<"==l){if(h=t("<div/>")[0],d=f[p+1],"'"==d||'"'==d){for(c="",u=2;f[p+u]!=d;)c+=f[p+u],u++;if("H"==c?c=i.sJUIHeader:"F"==c&&(c=i.sJUIFooter),-1!=c.indexOf(".")){var m=c.split(".");h.id=m[0].substr(1,m[0].length-1),h.className=m[1]}else"#"==c.charAt(0)?h.id=c.substr(1,c.length-1):h.className=c;p+=u}r.append(h),r=t(h)}else if(">"==l)r=r.parent();else if("l"==l&&a.bPaginate&&a.bLengthChange)o=dt(e);else if("f"==l&&a.bFilter)o=z(e);else if("r"==l&&a.bProcessing)o=ft(e);else if("t"==l)o=mt(e);else if("i"==l&&a.bInfo)o=nt(e);else if("p"==l&&a.bPaginate)o=ct(e);else if(0!==Gt.ext.feature.length)for(var g=Gt.ext.feature,v=0,b=g.length;b>v;v++)if(l==g[v].cFeature){o=g[v].fnInit(e);break}if(o){var y=e.aanFeatures;y[l]||(y[l]=[]),y[l].push(o),r.append(o)}}n.replaceWith(r),e.nHolding=null}function U(e,i){var s,n,a,r,o,l,h,d,c,u,f,p=t(i).children("tr"),m=function(t,e,i){for(var s=t[e];s[i];)i++;return i};for(e.splice(0,e.length),a=0,l=p.length;l>a;a++)e.push([]);for(a=0,l=p.length;l>a;a++)for(s=p[a],d=0,n=s.firstChild;n;){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase())for(c=1*n.getAttribute("colspan"),u=1*n.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,u=u&&0!==u&&1!==u?u:1,h=m(e,a,d),f=1===c?!0:!1,o=0;c>o;o++)for(r=0;u>r;r++)e[a+r][h+o]={cell:n,unique:f},e[a+r].nTr=s;n=n.nextSibling}}function R(t,e,i){var s=[];i||(i=t.aoHeader,e&&(i=[],U(i,e)));for(var n=0,a=i.length;a>n;n++)for(var r=0,o=i[n].length;o>r;r++)!i[n][r].unique||s[r]&&t.bSortCellsTop||(s[r]=i[n][r].cell);return s}function V(e,i,s){if(Yt(e,"aoServerParams","serverParams",[i]),i&&t.isArray(i)){var n={},a=/(.*?)\[\]$/;t.each(i,function(t,e){var i=e.name.match(a);if(i){var s=i[0];n[s]||(n[s]=[]),n[s].push(e.value)}else n[e.name]=e.value}),i=n}var r,o=e.ajax,l=e.oInstance,h=function(t){Yt(e,null,"xhr",[e,t,e.jqXHR]),s(t)};if(t.isPlainObject(o)&&o.data){r=o.data;var d=t.isFunction(r)?r(i,e):r;i=t.isFunction(r)&&d?d:t.extend(!0,i,d),delete o.data}var c={data:i,success:function(t){var i=t.error||t.sError;i&&Ht(e,0,i),e.json=t,h(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,s,n){var a=Yt(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,a)&&("parsererror"==s?Ht(e,0,"Invalid JSON response",1):4===i.readyState&&Ht(e,0,"Ajax error",7)),pt(e,!1)}};e.oAjaxData=i,Yt(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,function(t,e){return{name:e,value:t}}),h,e):e.sAjaxSource||"string"==typeof o?e.jqXHR=t.ajax(t.extend(c,{url:o||e.sAjaxSource})):t.isFunction(o)?e.jqXHR=o.call(l,i,h,e):(e.jqXHR=t.ajax(t.extend(c,o)),o.data=r)}function W(t){return t.bAjaxDataGet?(t.iDraw++,pt(t,!0),V(t,j(t),function(e){G(t,e)}),!1):!0}function j(e){var i,s,n,a,r=e.aoColumns,o=r.length,l=e.oFeatures,h=e.oPreviousSearch,d=e.aoPreSearchCols,c=[],u=Ct(e),f=e._iDisplayStart,p=l.bPaginate!==!1?e._iDisplayLength:-1,m=function(t,e){c.push({name:t,value:e})};m("sEcho",e.iDraw),m("iColumns",o),m("sColumns",de(r,"sName").join(",")),m("iDisplayStart",f),m("iDisplayLength",p);var g={draw:e.iDraw,columns:[],order:[],start:f,length:p,search:{value:h.sSearch,regex:h.bRegex}};for(i=0;o>i;i++)n=r[i],a=d[i],s="function"==typeof n.mData?"function":n.mData,g.columns.push({data:s,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),m("mDataProp_"+i,s),l.bFilter&&(m("sSearch_"+i,a.sSearch),m("bRegex_"+i,a.bRegex),m("bSearchable_"+i,n.bSearchable)),l.bSort&&m("bSortable_"+i,n.bSortable);l.bFilter&&(m("sSearch",h.sSearch),m("bRegex",h.bRegex)),l.bSort&&(t.each(u,function(t,e){g.order.push({column:e.col,dir:e.dir}),m("iSortCol_"+t,e.col),m("sSortDir_"+t,e.dir)}),m("iSortingCols",u.length));var v=Gt.ext.legacy.ajax;return null===v?e.sAjaxSource?c:g:v?c:g}function G(t,e){var i=function(t,i){return e[t]!==s?e[t]:e[i]},n=J(t,e),a=i("sEcho","draw"),r=i("iTotalRecords","recordsTotal"),o=i("iTotalDisplayRecords","recordsFiltered");if(a){if(1*a<t.iDraw)return;t.iDraw=1*a}M(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(o,10);for(var l=0,h=n.length;h>l;l++)w(t,n[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,P(t),t._bInitComplete||lt(t,e),t.bAjaxDataGet=!0,pt(t,!1)}function J(e,i){var n=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==s?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===n?i.aaData||i[n]:""!==n?k(n)(i):i}function z(e){var s=e.oClasses,n=e.sTableId,a=e.oLanguage,r=e.oPreviousSearch,o=e.aanFeatures,l='<input type="search" class="'+s.sFilterInput+'"/>',h=a.sSearch;h=h.match(/_INPUT_/)?h.replace("_INPUT_",l):h+l;var d=t("<div/>",{id:o.f?null:n+"_filter","class":s.sFilter}).append(t("<label/>").append(h)),c=function(){var t=(o.f,this.value?this.value:"");t!=r.sSearch&&(q(e,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),e._iDisplayStart=0,P(e))},u=null!==e.searchDelay?e.searchDelay:"ssp"===Rt(e)?400:0,f=t("input",d).val(r.sSearch).attr("placeholder",a.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",u?yt(c,u):c).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}).attr("aria-controls",n);return t(e.nTable).on("search.dt.DT",function(t,s){if(e===s)try{f[0]!==i.activeElement&&f.val(r.sSearch)}catch(n){}}),d[0]}function q(t,e,i){var n=t.oPreviousSearch,a=t.aoPreSearchCols,r=function(t){n.sSearch=t.sSearch,n.bRegex=t.bRegex,n.bSmart=t.bSmart,n.bCaseInsensitive=t.bCaseInsensitive},o=function(t){return t.bEscapeRegex!==s?!t.bEscapeRegex:t.bRegex};if(b(t),"ssp"!=Rt(t)){K(t,e.sSearch,i,o(e),e.bSmart,e.bCaseInsensitive),r(e);for(var l=0;l<a.length;l++)Z(t,a[l].sSearch,l,o(a[l]),a[l].bSmart,a[l].bCaseInsensitive);X(t)}else r(e);t.bFiltered=!0,Yt(t,null,"search",[t])}function X(e){for(var i,s,n=Gt.ext.search,a=e.aiDisplay,r=0,o=n.length;o>r;r++){for(var l=[],h=0,d=a.length;d>h;h++)s=a[h],i=e.aoData[s],n[r](e,i._aFilterData,s,i._aData,h)&&l.push(s);a.length=0,t.merge(a,l)}}function Z(t,e,i,s,n,a){if(""!==e)for(var r,o=t.aiDisplay,l=Q(e,s,n,a),h=o.length-1;h>=0;h--)r=t.aoData[o[h]]._aFilterData[i],l.test(r)||o.splice(h,1)}function K(t,e,i,s,n,a){var r,o,l,h=Q(e,s,n,a),d=t.oPreviousSearch.sSearch,c=t.aiDisplayMaster;if(0!==Gt.ext.search.length&&(i=!0),o=et(t),e.length<=0)t.aiDisplay=c.slice();else for((o||i||d.length>e.length||0!==e.indexOf(d)||t.bSorted)&&(t.aiDisplay=c.slice()),r=t.aiDisplay,l=r.length-1;l>=0;l--)h.test(t.aoData[r[l]]._sFilterRow)||r.splice(l,1)}function Q(e,i,s,n){if(e=i?e:tt(e),s){var a=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")});e="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(e,n?"i":"")}function tt(t){return t.replace(ie,"\\$1")}function et(t){var e,i,s,n,a,r,o,l,h=t.aoColumns,d=Gt.ext.type.search,c=!1;for(i=0,n=t.aoData.length;n>i;i++)if(l=t.aoData[i],!l._aFilterData){for(r=[],s=0,a=h.length;a>s;s++)e=h[s],e.bSearchable?(o=C(t,i,s,"filter"),d[e.sType]&&(o=d[e.sType](o)),null===o&&(o=""),"string"!=typeof o&&o.toString&&(o=o.toString())):o="",o.indexOf&&-1!==o.indexOf("&")&&(ye.innerHTML=o,o=we?ye.textContent:ye.innerText),o.replace&&(o=o.replace(/[\r\n]/g,"")),r.push(o);l._aFilterData=r,l._sFilterRow=r.join("  "),c=!0}return c}function it(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function st(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(e){var i=e.sTableId,s=e.aanFeatures.i,n=t("<div/>",{"class":e.oClasses.sInfo,id:s?null:i+"_info"});return s||(e.aoDrawCallback.push({fn:at,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),n[0]}function at(e){var i=e.aanFeatures.i;if(0!==i.length){var s=e.oLanguage,n=e._iDisplayStart+1,a=e.fnDisplayEnd(),r=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),l=o?s.sInfo:s.sInfoEmpty;o!==r&&(l+=" "+s.sInfoFiltered),l+=s.sInfoPostFix,l=rt(e,l);var h=s.fnInfoCallback;null!==h&&(l=h.call(e.oInstance,e,n,a,r,o,l)),t(i).html(l)}}function rt(t,e){var i=t.fnFormatNumber,s=t._iDisplayStart+1,n=t._iDisplayLength,a=t.fnRecordsDisplay(),r=-1===n;return e.replace(/_START_/g,i.call(t,s)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,a)).replace(/_PAGE_/g,i.call(t,r?1:Math.ceil(s/n))).replace(/_PAGES_/g,i.call(t,r?1:Math.ceil(a/n)))}function ot(t){var e,i,s,n=t.iInitDisplayStart,a=t.aoColumns,r=t.oFeatures,o=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){ot(t)},200);for(B(t),L(t),N(t,t.aoHeader),N(t,t.aoFooter),pt(t,!0),r.bAutoWidth&&bt(t),e=0,i=a.length;i>e;e++)s=a[e],s.sWidth&&(s.nTh.style.width=Dt(s.sWidth));Yt(t,null,"preInit",[t]),Y(t);var l=Rt(t);("ssp"!=l||o)&&("ajax"==l?V(t,[],function(i){var s=J(t,i);for(e=0;e<s.length;e++)w(t,s[e]);t.iInitDisplayStart=n,Y(t),pt(t,!1),lt(t,i)},t):(pt(t,!1),lt(t)))}function lt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&f(t),Yt(t,null,"plugin-init",[t,e]),Yt(t,"aoInitComplete","init",[t,e])}function ht(t,e){var i=parseInt(e,10);t._iDisplayLength=i,Bt(t),Yt(t,null,"length",[t,i])}function dt(e){for(var i=e.oClasses,s=e.sTableId,n=e.aLengthMenu,a=t.isArray(n[0]),r=a?n[0]:n,o=a?n[1]:n,l=t("<select/>",{name:s+"_length","aria-controls":s,"class":i.sLengthSelect}),h=0,d=r.length;d>h;h++)l[0][h]=new Option(o[h],r[h]);var c=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(c[0].id=s+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",c).val(e._iDisplayLength).bind("change.DT",function(i){ht(e,t(this).val()),P(e)}),t(e.nTable).bind("length.dt.DT",function(i,s,n){e===s&&t("select",c).val(n)}),c[0]}function ct(e){var i=e.sPaginationType,s=Gt.ext.pager[i],n="function"==typeof s,a=function(t){P(t)},r=t("<div/>").addClass(e.oClasses.sPaging+i)[0],o=e.aanFeatures;return n||s.fnInit(e,r,a),o.p||(r.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(n){var e,i,r=t._iDisplayStart,l=t._iDisplayLength,h=t.fnRecordsDisplay(),d=-1===l,c=d?0:Math.ceil(r/l),u=d?1:Math.ceil(h/l),f=s(c,u);for(e=0,i=o.p.length;i>e;e++)Ut(t,"pageButton")(t,o.p[e],e,f,c,u)}else s.fnUpdate(t,a)},sName:"pagination"})),r}function ut(t,e,i){var s=t._iDisplayStart,n=t._iDisplayLength,a=t.fnRecordsDisplay();0===a||-1===n?s=0:"number"==typeof e?(s=e*n,s>a&&(s=0)):"first"==e?s=0:"previous"==e?(s=n>=0?s-n:0,0>s&&(s=0)):"next"==e?a>s+n&&(s+=n):"last"==e?s=Math.floor((a-1)/n)*n:Ht(t,0,"Unknown paging action: "+e,5);var r=t._iDisplayStart!==s;return t._iDisplayStart=s,r&&(Yt(t,null,"page",[t]),i&&P(t)),r}function ft(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function pt(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),Yt(e,null,"processing",[e,i])}function mt(e){var i=t(e.nTable);i.attr("role","grid");var s=e.oScroll;if(""===s.sX&&""===s.sY)return e.nTable;var n=s.sX,a=s.sY,r=e.oClasses,o=i.children("caption"),l=o.length?o[0]._captionSide:null,h=t(i[0].cloneNode(!1)),d=t(i[0].cloneNode(!1)),c=i.children("tfoot"),u="<div/>",f=function(t){return t?Dt(t):null};c.length||(c=null);var p=t(u,{"class":r.sScrollWrapper}).append(t(u,{"class":r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?f(n):"100%"}).append(t(u,{"class":r.sScrollHeadInner}).css({"box-sizing":"content-box",width:s.sXInner||"100%"}).append(h.removeAttr("id").css("margin-left",0).append("top"===l?o:null).append(i.children("thead"))))).append(t(u,{"class":r.sScrollBody}).css({position:"relative",overflow:"auto",width:f(n)}).append(i));c&&p.append(t(u,{"class":r.sScrollFoot}).css({overflow:"hidden",border:0,width:n?f(n):"100%"}).append(t(u,{"class":r.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?o:null).append(i.children("tfoot")))));var m=p.children(),g=m[0],v=m[1],b=c?m[2]:null;return n&&t(v).on("scroll.DT",function(t){var e=this.scrollLeft;g.scrollLeft=e,c&&(b.scrollLeft=e)}),t(v).css(a&&s.bCollapse?"max-height":"height",a),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=b,e.aoDrawCallback.push({fn:gt,sName:"scrolling"}),p[0]}function gt(e){var i,n,a,r,o,l,h,d,c,u=e.oScroll,m=u.sX,g=u.sXInner,v=u.sY,b=u.iBarWidth,y=t(e.nScrollHead),w=y[0].style,T=y.children("div"),S=T[0].style,D=T.children("table"),C=e.nScrollBody,x=t(C),_=C.style,k=t(e.nScrollFoot),A=k.children("div"),$=A.children("table"),M=t(e.nTHead),I=t(e.nTable),O=I[0],E=O.style,H=e.nTFoot?t(e.nTFoot):null,F=e.oBrowser,L=F.bScrollOversize,N=[],P=[],Y=[],B=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},U=C.scrollHeight>C.clientHeight;if(e.scrollBarVis!==U&&e.scrollBarVis!==s)return e.scrollBarVis=U,void f(e);e.scrollBarVis=U,I.children("thead, tfoot").remove(),o=M.clone().prependTo(I),i=M.find("tr"),a=o.find("tr"),o.find("th, td").removeAttr("tabindex"),H&&(l=H.clone().prependTo(I),n=H.find("tr"),r=l.find("tr")),m||(_.width="100%",y[0].style.width="100%"),t.each(R(e,o),function(t,i){h=p(e,t),i.style.width=e.aoColumns[h].sWidth}),H&&vt(function(t){t.style.width=""},r),c=I.outerWidth(),""===m?(E.width="100%",L&&(I.find("tbody").height()>C.offsetHeight||"scroll"==x.css("overflow-y"))&&(E.width=Dt(I.outerWidth()-b)),c=I.outerWidth()):""!==g&&(E.width=Dt(g),c=I.outerWidth()),vt(B,a),vt(function(e){Y.push(e.innerHTML),N.push(Dt(t(e).css("width")))},a),vt(function(t,e){t.style.width=N[e]},i),t(a).height(0),H&&(vt(B,r),vt(function(e){P.push(Dt(t(e).css("width")))},r),vt(function(t,e){t.style.width=P[e]},n),t(r).height(0)),vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+Y[e]+"</div>",t.style.width=N[e]},a),H&&vt(function(t,e){t.innerHTML="",t.style.width=P[e]},r),I.outerWidth()<c?(d=C.scrollHeight>C.offsetHeight||"scroll"==x.css("overflow-y")?c+b:c,L&&(C.scrollHeight>C.offsetHeight||"scroll"==x.css("overflow-y"))&&(E.width=Dt(d-b)),(""===m||""!==g)&&Ht(e,1,"Possible column misalignment",6)):d="100%",_.width=Dt(d),w.width=Dt(d),H&&(e.nScrollFoot.style.width=Dt(d)),v||L&&(_.height=Dt(O.offsetHeight+b));var V=I.outerWidth();D[0].style.width=Dt(V),S.width=Dt(V);var W=I.height()>C.clientHeight||"scroll"==x.css("overflow-y"),j="padding"+(F.bScrollbarLeft?"Left":"Right");S[j]=W?b+"px":"0px",H&&($[0].style.width=Dt(V),A[0].style.width=Dt(V),
A[0].style[j]=W?b+"px":"0px"),x.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(C.scrollTop=0)}function vt(t,e,i){for(var s,n,a=0,r=0,o=e.length;o>r;){for(s=e[r].firstChild,n=i?i[r].firstChild:null;s;)1===s.nodeType&&(i?t(s,n,a):t(s,a),a++),s=s.nextSibling,n=i?n.nextSibling:null;r++}}function bt(i){var s,n,a,r=i.nTable,o=i.aoColumns,l=i.oScroll,h=l.sY,d=l.sX,c=l.sXInner,u=o.length,m=v(i,"bVisible"),b=t("th",i.nTHead),y=r.getAttribute("width"),w=r.parentNode,T=!1,S=i.oBrowser,D=S.bScrollOversize,C=r.style.width;for(C&&-1!==C.indexOf("%")&&(y=C),s=0;s<m.length;s++)n=o[m[s]],null!==n.sWidth&&(n.sWidth=wt(n.sWidthOrig,w),T=!0);if(D||!T&&!d&&!h&&u==g(i)&&u==b.length)for(s=0;u>s;s++){var x=p(i,s);null!==x&&(o[x].sWidth=Dt(b.eq(s).width()))}else{var _=t(r).clone().css("visibility","hidden").removeAttr("id");_.find("tbody tr").remove();var k=t("<tr/>").appendTo(_.find("tbody"));for(_.find("thead, tfoot").remove(),_.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),_.find("tfoot th, tfoot td").css("width",""),b=R(i,_.find("thead")[0]),s=0;s<m.length;s++)n=o[m[s]],b[s].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?Dt(n.sWidthOrig):"",n.sWidthOrig&&d&&t(b[s]).append(t("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(s=0;s<m.length;s++)a=m[s],n=o[a],t(Tt(i,a)).clone(!1).append(n.sContentPadding).appendTo(k);var A=t("<div/>").css(d||h?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(_).appendTo(w);d&&c?_.width(c):d?(_.css("width","auto"),_.removeAttr("width"),_.width()<w.clientWidth&&y&&_.width(w.clientWidth)):h?_.width(w.clientWidth):y&&_.width(y);var $=0;for(s=0;s<m.length;s++){var M=t(b[s]),I=M.outerWidth()-M.width(),O=S.bBounding?Math.ceil(b[s].getBoundingClientRect().width):M.outerWidth();$+=O,o[m[s]].sWidth=Dt(O-I)}r.style.width=Dt($),A.remove()}if(y&&(r.style.width=Dt(y)),(y||d)&&!i._reszEvt){var E=function(){t(e).bind("resize.DT-"+i.sInstance,yt(function(){f(i)}))};D?setTimeout(E,1e3):E(),i._reszEvt=!0}}function yt(t,e){var i,n,a=e!==s?e:200;return function(){var e=this,r=+new Date,o=arguments;i&&i+a>r?(clearTimeout(n),n=setTimeout(function(){i=s,t.apply(e,o)},a)):(i=r,t.apply(e,o))}}function wt(e,s){if(!e)return 0;var n=t("<div/>").css("width",Dt(e)).appendTo(s||i.body),a=n[0].offsetWidth;return n.remove(),a}function Tt(e,i){var s=St(e,i);if(0>s)return null;var n=e.aoData[s];return n.nTr?n.anCells[i]:t("<td/>").html(C(e,s,i,"display"))[0]}function St(t,e){for(var i,s=-1,n=-1,a=0,r=t.aoData.length;r>a;a++)i=C(t,a,e,"display")+"",i=i.replace(Te,""),i=i.replace(/&nbsp;/g," "),i.length>s&&(s=i.length,n=a);return n}function Dt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Ct(e){var i,n,a,r,o,l,h,d=[],c=e.aoColumns,u=e.aaSortingFixed,f=t.isPlainObject(u),p=[],m=function(e){e.length&&!t.isArray(e[0])?p.push(e):t.merge(p,e)};for(t.isArray(u)&&m(u),f&&u.pre&&m(u.pre),m(e.aaSorting),f&&u.post&&m(u.post),i=0;i<p.length;i++)for(h=p[i][0],r=c[h].aDataSort,n=0,a=r.length;a>n;n++)o=r[n],l=c[o].sType||"string",p[i]._idx===s&&(p[i]._idx=t.inArray(p[i][1],c[o].asSorting)),d.push({src:h,col:o,dir:p[i][1],index:p[i]._idx,type:l,formatter:Gt.ext.type.order[l+"-pre"]});return d}function xt(t){var e,i,s,n,a,r=[],o=Gt.ext.type.order,l=t.aoData,h=(t.aoColumns,0),d=t.aiDisplayMaster;for(b(t),a=Ct(t),e=0,i=a.length;i>e;e++)n=a[e],n.formatter&&h++,Mt(t,n.col);if("ssp"!=Rt(t)&&0!==a.length){for(e=0,s=d.length;s>e;e++)r[d[e]]=e;h===a.length?d.sort(function(t,e){var i,s,n,o,h,d=a.length,c=l[t]._aSortData,u=l[e]._aSortData;for(n=0;d>n;n++)if(h=a[n],i=c[h.col],s=u[h.col],o=s>i?-1:i>s?1:0,0!==o)return"asc"===h.dir?o:-o;return i=r[t],s=r[e],s>i?-1:i>s?1:0}):d.sort(function(t,e){var i,s,n,h,d,c,u=a.length,f=l[t]._aSortData,p=l[e]._aSortData;for(n=0;u>n;n++)if(d=a[n],i=f[d.col],s=p[d.col],c=o[d.type+"-"+d.dir]||o["string-"+d.dir],h=c(i,s),0!==h)return h;return i=r[t],s=r[e],s>i?-1:i>s?1:0})}t.bSorted=!0}function _t(t){for(var e,i,s=t.aoColumns,n=Ct(t),a=t.oLanguage.oAria,r=0,o=s.length;o>r;r++){var l=s[r],h=l.asSorting,d=l.sTitle.replace(/<.*?>/g,""),c=l.nTh;c.removeAttribute("aria-sort"),l.bSortable?(n.length>0&&n[0].col==r?(c.setAttribute("aria-sort","asc"==n[0].dir?"ascending":"descending"),i=h[n[0].index+1]||h[0]):i=h[0],e=d+("asc"===i?a.sSortAscending:a.sSortDescending)):e=d,c.setAttribute("aria-label",e)}}function kt(e,i,n,a){var r,o=e.aoColumns[i],l=e.aaSorting,h=o.asSorting,d=function(e,i){var n=e._idx;return n===s&&(n=t.inArray(e[1],h)),n+1<h.length?n+1:i?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),n&&e.oFeatures.bSortMulti){var c=t.inArray(i,de(l,"0"));-1!==c?(r=d(l[c],!0),null===r&&1===l.length&&(r=0),null===r?l.splice(c,1):(l[c][1]=h[r],l[c]._idx=r)):(l.push([i,h[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(r=d(l[0]),l.length=1,l[0][1]=h[r],l[0]._idx=r):(l.length=0,l.push([i,h[0]]),l[0]._idx=0);Y(e),"function"==typeof a&&a(e)}function At(t,e,i,s){var n=t.aoColumns[i];Nt(e,{},function(e){n.bSortable!==!1&&(t.oFeatures.bProcessing?(pt(t,!0),setTimeout(function(){kt(t,i,e.shiftKey,s),"ssp"!==Rt(t)&&pt(t,!1)},0)):kt(t,i,e.shiftKey,s))})}function $t(e){var i,s,n,a=e.aLastSort,r=e.oClasses.sSortColumn,o=Ct(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,s=a.length;s>i;i++)n=a[i].src,t(de(e.aoData,"anCells",n)).removeClass(r+(2>i?i+1:3));for(i=0,s=o.length;s>i;i++)n=o[i].src,t(de(e.aoData,"anCells",n)).addClass(r+(2>i?i+1:3))}e.aLastSort=o}function Mt(t,e){var i,s=t.aoColumns[e],n=Gt.ext.order[s.sSortDataType];n&&(i=n.call(t.oInstance,t,e,m(t,e)));for(var a,r,o=Gt.ext.type.order[s.sType+"-pre"],l=0,h=t.aoData.length;h>l;l++)a=t.aoData[l],a._aSortData||(a._aSortData=[]),(!a._aSortData[e]||n)&&(r=n?i[l]:C(t,l,e,"sort"),a._aSortData[e]=o?o(r):r)}function It(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:it(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:it(e.aoPreSearchCols[i])}})};Yt(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function Ot(e,i){var n,a,r=e.aoColumns;if(e.oFeatures.bStateSave){var o=e.fnStateLoadCallback.call(e.oInstance,e);if(o&&o.time){var l=Yt(e,"aoStateLoadParams","stateLoadParams",[e,o]);if(-1===t.inArray(!1,l)){var h=e.iStateDuration;if(!(h>0&&o.time<+new Date-1e3*h)&&r.length===o.columns.length){for(e.oLoadedState=t.extend(!0,{},o),o.start!==s&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==s&&(e._iDisplayLength=o.length),o.order!==s&&(e.aaSorting=[],t.each(o.order,function(t,i){e.aaSorting.push(i[0]>=r.length?[0,i[1]]:i)})),o.search!==s&&t.extend(e.oPreviousSearch,st(o.search)),n=0,a=o.columns.length;a>n;n++){var d=o.columns[n];d.visible!==s&&(r[n].bVisible=d.visible),d.search!==s&&t.extend(e.aoPreSearchCols[n],st(d.search))}Yt(e,"aoStateLoaded","stateLoaded",[e,o])}}}}}function Et(e){var i=Gt.settings,s=t.inArray(e,de(i,"nTable"));return-1!==s?i[s]:null}function Ht(t,i,s,n){if(s="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+s,n&&(s+=". For more information about this error, please see http://datatables.net/tn/"+n),i)e.console&&console.log&&console.log(s);else{var a=Gt.ext,r=a.sErrMode||a.errMode;if(t&&Yt(t,null,"error",[t,n,s]),"alert"==r)alert(s);else{if("throw"==r)throw new Error(s);"function"==typeof r&&r(t,n,s)}}}function Ft(e,i,n,a){return t.isArray(n)?void t.each(n,function(s,n){t.isArray(n)?Ft(e,i,n[0],n[1]):Ft(e,i,n)}):(a===s&&(a=n),void(i[n]!==s&&(e[a]=i[n])))}function Lt(e,i,s){var n;for(var a in i)i.hasOwnProperty(a)&&(n=i[a],t.isPlainObject(n)?(t.isPlainObject(e[a])||(e[a]={}),t.extend(!0,e[a],n)):s&&"data"!==a&&"aaData"!==a&&t.isArray(n)?e[a]=n.slice():e[a]=n);return e}function Nt(e,i,s){t(e).bind("click.DT",i,function(t){e.blur(),s(t)}).bind("keypress.DT",i,function(t){13===t.which&&(t.preventDefault(),s(t))}).bind("selectstart.DT",function(){return!1})}function Pt(t,e,i,s){i&&t[e].push({fn:i,sName:s})}function Yt(e,i,s,n){var a=[];if(i&&(a=t.map(e[i].slice().reverse(),function(t,i){return t.fn.apply(e.oInstance,n)})),null!==s){var r=t.Event(s+".dt");t(e.nTable).trigger(r,n),a.push(r.result)}return a}function Bt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),s=t._iDisplayLength;e>=i&&(e=i-s),e-=e%s,(-1===s||0>e)&&(e=0),t._iDisplayStart=e}function Ut(e,i){var s=e.renderer,n=Gt.ext.renderer[i];return t.isPlainObject(s)&&s[i]?n[s[i]]||n._:"string"==typeof s?n[s]||n._:n._}function Rt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Vt(t,e){var i=[],s=We.numbers_length,n=Math.floor(s/2);return s>=e?i=ue(0,e):n>=t?(i=ue(0,s-2),i.push("ellipsis"),i.push(e-1)):t>=e-1-n?(i=ue(e-(s-2),e),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=ue(t-n+2,t+n-1),i.push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Wt(e){t.each({num:function(t){return je(t,e)},"num-fmt":function(t){return je(t,e,se)},"html-num":function(t){return je(t,e,Qt)},"html-num-fmt":function(t){return je(t,e,Qt,se)}},function(t,i){Jt.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Jt.type.search[t+e]=Jt.type.search.html)})}function jt(t){return function(){var e=[Et(this[Gt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Gt.ext.internal[t].apply(this,e)}}var Gt,Jt,zt,qt,Xt,Zt={},Kt=/[\r\n]/g,Qt=/<.*?>/g,te=/^[\w\+\-]/,ee=/[\w\+\-]$/,ie=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),se=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ne=function(t){return t&&t!==!0&&"-"!==t?!1:!0},ae=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},re=function(t,e){return Zt[e]||(Zt[e]=new RegExp(tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Zt[e],"."):t},oe=function(t,e,i){var s="string"==typeof t;return ne(t)?!0:(e&&s&&(t=re(t,e)),i&&s&&(t=t.replace(se,"")),!isNaN(parseFloat(t))&&isFinite(t))},le=function(t){return ne(t)||"string"==typeof t},he=function(t,e,i){if(ne(t))return!0;var s=le(t);return s&&oe(pe(t),e,i)?!0:null},de=function(t,e,i){var n=[],a=0,r=t.length;if(i!==s)for(;r>a;a++)t[a]&&t[a][e]&&n.push(t[a][e][i]);else for(;r>a;a++)t[a]&&n.push(t[a][e]);return n},ce=function(t,e,i,n){var a=[],r=0,o=e.length;if(n!==s)for(;o>r;r++)t[e[r]][i]&&a.push(t[e[r]][i][n]);else for(;o>r;r++)a.push(t[e[r]][i]);return a},ue=function(t,e){var i,n=[];e===s?(e=0,i=t):(i=e,e=t);for(var a=e;i>a;a++)n.push(a);return n},fe=function(t){for(var e=[],i=0,s=t.length;s>i;i++)t[i]&&e.push(t[i]);return e},pe=function(t){return t.replace(Qt,"")},me=function(t){var e,i,s,n=[],a=t.length,r=0;t:for(i=0;a>i;i++){for(e=t[i],s=0;r>s;s++)if(n[s]===e)continue t;n.push(e),r++}return n},ge=function(t,e,i){t[e]!==s&&(t[i]=t[e])},ve=/\[.*?\]$/,be=/\(\)$/,ye=t("<div>")[0],we=ye.textContent!==s,Te=/<.*?>/g;Gt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new zt(t?Et(this[Jt.iApiIndex]):this)},this.fnAddData=function(e,i){var n=this.api(!0),a=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?n.rows.add(e):n.row.add(e);return(i===s||i)&&n.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],n=i.oScroll;t===s||t?e.draw(!1):(""!==n.sX||""!==n.sY)&&gt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===s||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var n=this.api(!0),a=n.rows(t),r=a.settings()[0],o=r.aoData[a[0][0]];return a.remove(),e&&e.call(this,r,o),(i===s||i)&&n.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,n,a,r){var o=this.api(!0);null===e||e===s?o.search(t,i,n,r):o.column(e).search(t,i,n,r),o.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==s){var n=t.nodeName?t.nodeName.toLowerCase():"";return e!==s||"td"==n||"th"==n?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==s?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var s=e.cell(t).index();return[s.row,s.columnVisible,s.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===s||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var n=this.api(!0).column(t).visible(e);(i===s||i)&&n.columns.adjust().draw()},this.fnSettings=function(){return Et(this[Jt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,n,a){var r=this.api(!0);return i===s||null===i?r.row(e).data(t):r.cell(e,i).data(t),(a===s||a)&&r.columns.adjust(),(n===s||n)&&r.draw(),0},this.fnVersionCheck=Jt.fnVersionCheck;var i=this,n=e===s,d=this.length;n&&(e={}),this.oApi=this.internal=Jt.internal;for(var f in Gt.ext.internal)f&&(this[f]=jt(f));return this.each(function(){var f,p={},m=d>1?Lt(p,e,!0):e,g=0,v=this.getAttribute("id"),b=!1,S=Gt.defaults,D=t(this);if("table"!=this.nodeName.toLowerCase())return void Ht(null,0,"Non-table node initialisation ("+this.nodeName+")",2);o(S),l(S.column),a(S,S,!0),a(S.column,S.column,!0),a(S,t.extend(m,D.data()));var C=Gt.settings;for(g=0,f=C.length;f>g;g++){var x=C[g];if(x.nTable==this||x.nTHead.parentNode==this||x.nTFoot&&x.nTFoot.parentNode==this){var _=m.bRetrieve!==s?m.bRetrieve:S.bRetrieve,A=m.bDestroy!==s?m.bDestroy:S.bDestroy;if(n||_)return x.oInstance;if(A){x.oInstance.fnDestroy();break}return void Ht(x,0,"Cannot reinitialise DataTable",3)}if(x.sTableId==this.id){C.splice(g,1);break}}(null===v||""===v)&&(v="DataTables_Table_"+Gt.ext._unique++,this.id=v);var $=t.extend(!0,{},Gt.models.oSettings,{sDestroyWidth:D[0].style.width,sInstance:v,sTableId:v});$.nTable=this,$.oApi=i.internal,$.oInit=m,C.push($),$.oInstance=1===i.length?i:D.dataTable(),o(m),m.oLanguage&&r(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=t.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Lt(t.extend(!0,{},S),m),Ft($.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ft($,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ft($.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ft($.oLanguage,m,"fnInfoCallback"),Pt($,"aoDrawCallback",m.fnDrawCallback,"user"),Pt($,"aoServerParams",m.fnServerParams,"user"),Pt($,"aoStateSaveParams",m.fnStateSaveParams,"user"),Pt($,"aoStateLoadParams",m.fnStateLoadParams,"user"),Pt($,"aoStateLoaded",m.fnStateLoaded,"user"),Pt($,"aoRowCallback",m.fnRowCallback,"user"),Pt($,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Pt($,"aoHeaderCallback",m.fnHeaderCallback,"user"),Pt($,"aoFooterCallback",m.fnFooterCallback,"user"),Pt($,"aoInitComplete",m.fnInitComplete,"user"),Pt($,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),$.rowIdFn=k(m.rowId),h($);var M=$.oClasses;if(m.bJQueryUI?(t.extend(M,Gt.ext.oJUIClasses,m.oClasses),m.sDom===S.sDom&&"lfrtip"===S.sDom&&($.sDom='<"H"lfr>t<"F"ip>'),$.renderer?t.isPlainObject($.renderer)&&!$.renderer.header&&($.renderer.header="jqueryui"):$.renderer="jqueryui"):t.extend(M,Gt.ext.classes,m.oClasses),D.addClass(M.sTable),$.iInitDisplayStart===s&&($.iInitDisplayStart=m.iDisplayStart,$._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){$.bDeferLoading=!0;var I=t.isArray(m.iDeferLoading);$._iRecordsDisplay=I?m.iDeferLoading[0]:m.iDeferLoading,$._iRecordsTotal=I?m.iDeferLoading[1]:m.iDeferLoading}var O=$.oLanguage;t.extend(!0,O,m.oLanguage),""!==O.sUrl&&(t.ajax({dataType:"json",url:O.sUrl,success:function(e){r(e),a(S.oLanguage,e),t.extend(!0,O,e),ot($)},error:function(){ot($)}}),b=!0),null===m.asStripeClasses&&($.asStripeClasses=[M.sStripeOdd,M.sStripeEven]);var E=$.asStripeClasses,H=D.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(E,function(t,e){return H.hasClass(t)}))&&(t("tbody tr",this).removeClass(E.join(" ")),$.asDestroyStripes=E.slice());var F,L=[],N=this.getElementsByTagName("thead");if(0!==N.length&&(U($.aoHeader,N[0]),L=R($)),null===m.aoColumns)for(F=[],g=0,f=L.length;f>g;g++)F.push(null);else F=m.aoColumns;for(g=0,f=F.length;f>g;g++)c($,L?L[g]:null);if(y($,m.aoColumnDefs,F,function(t,e){u($,t,e)}),H.length){var P=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(H[0]).children("th, td").each(function(t,e){var i=$.aoColumns[t];if(i.mData===t){var n=P(e,"sort")||P(e,"order"),a=P(e,"filter")||P(e,"search");(null!==n||null!==a)&&(i.mData={_:t+".display",sort:null!==n?t+".@data-"+n:s,type:null!==n?t+".@data-"+n:s,filter:null!==a?t+".@data-"+a:s},u($,t))}})}var Y=$.oFeatures;if(m.bStateSave&&(Y.bStateSave=!0,Ot($,m),Pt($,"aoDrawCallback",It,"state_save")),m.aaSorting===s){var B=$.aaSorting;for(g=0,f=B.length;f>g;g++)B[g][1]=$.aoColumns[g].asSorting[0]}$t($),Y.bSort&&Pt($,"aoDrawCallback",function(){if($.bSorted){var e=Ct($),i={};t.each(e,function(t,e){i[e.src]=e.dir}),Yt($,null,"order",[$,e,i]),_t($)}}),Pt($,"aoDrawCallback",function(){($.bSorted||"ssp"===Rt($)||Y.bDeferRender)&&$t($)},"sc");var V=D.children("caption").each(function(){this._captionSide=D.css("caption-side")}),W=D.children("thead");0===W.length&&(W=t("<thead/>").appendTo(this)),$.nTHead=W[0];var j=D.children("tbody");0===j.length&&(j=t("<tbody/>").appendTo(this)),$.nTBody=j[0];var G=D.children("tfoot");if(0===G.length&&V.length>0&&(""!==$.oScroll.sX||""!==$.oScroll.sY)&&(G=t("<tfoot/>").appendTo(this)),0===G.length||0===G.children().length?D.addClass(M.sNoFooter):G.length>0&&($.nTFoot=G[0],U($.aoFooter,$.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)w($,m.aaData[g]);else($.bDeferLoading||"dom"==Rt($))&&T($,t($.nTBody).children("tr"));$.aiDisplay=$.aiDisplayMaster.slice(),$.bInitialised=!0,b===!1&&ot($)}),i=null,this};var Se=[],De=Array.prototype,Ce=function(e){var i,s,n=Gt.settings,a=t.map(n,function(t,e){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(i=t.inArray(e,a),-1!==i?[n[i]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?s=t(e):e instanceof t&&(s=e),s?s.map(function(e){return i=t.inArray(this,a),-1!==i?n[i]:null}).toArray():void 0):[]};zt=function(e,i){if(!(this instanceof zt))return new zt(e,i);var s=[],n=function(t){var e=Ce(t);e&&(s=s.concat(e))};if(t.isArray(e))for(var a=0,r=e.length;r>a;a++)n(e[a]);else n(e);this.context=me(s),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},zt.extend(this,this,Se)},Gt.Api=zt,t.extend(zt.prototype,{any:function(){return 0!==this.count()},concat:De.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;i>e;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new zt(e[t],this[t]):null},filter:function(t){var e=[];if(De.filter)e=De.filter.call(this,t,this);else for(var i=0,s=this.length;s>i;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new zt(this.context,e)},flatten:function(){var t=[];return new zt(this.context,t.concat.apply(t,this.toArray()))},join:De.join,indexOf:De.indexOf||function(t,e){for(var i=e||0,s=this.length;s>i;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,n){var a,r,o,l,h,d,c,u,f=[],p=this.context,m=this.selector;for("string"==typeof t&&(n=i,i=e,e=t,t=!1),r=0,o=p.length;o>r;r++){var g=new zt(p[r]);if("table"===e)a=i.call(g,p[r],r),a!==s&&f.push(a);else if("columns"===e||"rows"===e)a=i.call(g,p[r],this[r],r),a!==s&&f.push(a);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(c=this[r],"column-rows"===e&&(d=Me(p[r],m.opts)),l=0,h=c.length;h>l;l++)u=c[l],a="cell"===e?i.call(g,p[r],u.row,u.column,r,l):i.call(g,p[r],u,r,l,d),a!==s&&f.push(a)}if(f.length||n){var v=new zt(p,t?f.concat.apply([],f):f),b=v.selector;return b.rows=m.rows,b.cols=m.cols,b.opts=m.opts,v}return this},lastIndexOf:De.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(De.map)e=De.map.call(this,t,this);else for(var i=0,s=this.length;s>i;i++)e.push(t.call(this,this[i],i));return new zt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:De.pop,push:De.push,reduce:De.reduce||function(t,e){return d(this,t,e,0,this.length,1)},reduceRight:De.reduceRight||function(t,e){return d(this,t,e,this.length-1,-1,-1)},reverse:De.reverse,selector:null,shift:De.shift,sort:De.sort,splice:De.splice,toArray:function(){return De.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new zt(this.context,me(this))},unshift:De.unshift}),zt.extend=function(e,i,s){if(s.length&&i&&(i instanceof zt||i.__dt_wrapper)){var n,a,r,o=function(t,e,i){return function(){var s=e.apply(t,arguments);return zt.extend(s,s,i.methodExt),s}};for(n=0,a=s.length;a>n;n++)r=s[n],i[r.name]="function"==typeof r.val?o(e,r.val,r):t.isPlainObject(r.val)?{}:r.val,i[r.name].__dt_wrapper=!0,zt.extend(e,i[r.name],r.propExt)}},zt.register=qt=function(e,i){if(t.isArray(e))for(var s=0,n=e.length;n>s;s++)zt.register(e[s],i);else{var a,r,o,l,h=e.split("."),d=Se,c=function(t,e){for(var i=0,s=t.length;s>i;i++)if(t[i].name===e)return t[i];return null};for(a=0,r=h.length;r>a;a++){l=-1!==h[a].indexOf("()"),o=l?h[a].replace("()",""):h[a];var u=c(d,o);u||(u={name:o,val:{},methodExt:[],propExt:[]},d.push(u)),a===r-1?u.val=i:d=l?u.methodExt:u.propExt}}},zt.registerPlural=Xt=function(e,i,n){zt.register(e,n),zt.register(i,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof zt?e.length?t.isArray(e[0])?new zt(e.context,e[0]):e[0]:s:e})};var xe=function(e,i){if("number"==typeof e)return[i[e]];var s=t.map(i,function(t,e){return t.nTable});return t(s).filter(e).map(function(e){var n=t.inArray(this,s);return i[n]}).toArray()};qt("tables()",function(t){return t?new zt(xe(t,this.context)):this}),qt("table()",function(t){var e=this.tables(t),i=e.context;return i.length?new zt(i[0]):e}),Xt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Xt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Xt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Xt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Xt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),qt("draw()",function(t){return this.iterator("table",function(e){"page"===t?P(e):("string"==typeof t&&(t="full-hold"===t?!1:!0),Y(e,t===!1))})}),qt("page()",function(t){return t===s?this.page.info().page:this.iterator("table",function(e){ut(e,t)})}),qt("page.info()",function(t){if(0===this.context.length)return s;var e=this.context[0],i=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,a=e.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(i/n),pages:r?1:Math.ceil(a/n),start:i,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:a,serverSide:"ssp"===Rt(e)}}),qt("page.len()",function(t){return t===s?0!==this.context.length?this.context[0]._iDisplayLength:s:this.iterator("table",function(e){ht(e,t)})});var _e=function(t,e,i){if(i){var s=new zt(t);s.one("draw",function(){i(s.ajax.json())})}if("ssp"==Rt(t))Y(t,e);else{pt(t,!0);var n=t.jqXHR;n&&4!==n.readyState&&n.abort(),V(t,[],function(i){M(t);for(var s=J(t,i),n=0,a=s.length;a>n;n++)w(t,s[n]);Y(t,e),pt(t,!1)})}};qt("ajax.json()",function(){var t=this.context;return t.length>0?t[0].json:void 0}),qt("ajax.params()",function(){var t=this.context;return t.length>0?t[0].oAjaxData:void 0}),qt("ajax.reload()",function(t,e){return this.iterator("table",function(i){_e(i,e===!1,t)})}),qt("ajax.url()",function(e){var i=this.context;return e===s?0===i.length?s:(i=i[0],i.ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e})}),qt("ajax.url().load()",function(t,e){return this.iterator("table",function(i){_e(i,e===!1,t)})});var ke=function(e,i,n,a,r){var o,l,h,d,c,u,f=[],p=typeof i;for(i&&"string"!==p&&"function"!==p&&i.length!==s||(i=[i]),h=0,d=i.length;d>h;h++)for(l=i[h]&&i[h].split?i[h].split(","):[i[h]],c=0,u=l.length;u>c;c++)o=n("string"==typeof l[c]?t.trim(l[c]):l[c]),o&&o.length&&(f=f.concat(o));var m=Jt.selector[e];if(m.length)for(h=0,d=m.length;d>h;h++)f=m[h](a,r,f);return me(f)},Ae=function(e){return e||(e={}),e.filter&&e.search===s&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},$e=function(t){for(var e=0,i=t.length;i>e;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Me=function(e,i){var s,n,a,r=[],o=e.aiDisplay,l=e.aiDisplayMaster,h=i.search,d=i.order,c=i.page;if("ssp"==Rt(e))return"removed"===h?[]:ue(0,l.length);if("current"==c)for(s=e._iDisplayStart,n=e.fnDisplayEnd();n>s;s++)r.push(o[s]);else if("current"==d||"applied"==d)r="none"==h?l.slice():"applied"==h?o.slice():t.map(l,function(e,i){return-1===t.inArray(e,o)?e:null});else if("index"==d||"original"==d)for(s=0,n=e.aoData.length;n>s;s++)"none"==h?r.push(s):(a=t.inArray(s,o),(-1===a&&"removed"==h||a>=0&&"applied"==h)&&r.push(s));return r},Ie=function(e,i,n){var a=function(i){var a=ae(i);if(null!==a&&!n)return[a];var r=Me(e,n);if(null!==a&&-1!==t.inArray(a,r))return[a];if(!i)return r;if("function"==typeof i)return t.map(r,function(t){var s=e.aoData[t];return i(t,s._aData,s.nTr)?t:null});var o=fe(ce(e.aoData,r,"nTr"));if(i.nodeName&&-1!==t.inArray(i,o))return[i._DT_RowIndex];if("string"==typeof i&&"#"===i.charAt(0)){var l=e.aIds[i.replace(/^#/,"")];if(l!==s)return[l.idx]}return t(o).filter(i).map(function(){return this._DT_RowIndex}).toArray()};return ke("row",i,a,e,n)};qt("rows()",function(e,i){e===s?e="":t.isPlainObject(e)&&(i=e,e=""),i=Ae(i);var n=this.iterator("table",function(t){return Ie(t,e,i)},1);return n.selector.rows=e,n.selector.opts=i,n}),qt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||s},1)}),qt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return ce(t.aoData,e,"_aData")},1)}),Xt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,i){var s=e.aoData[i];return"search"===t?s._aFilterData:s._aSortData},1)}),Xt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,i){O(e,i,t)})}),Xt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Xt("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,s=0,n=i.length;n>s;s++)for(var a=0,r=this[s].length;r>a;a++){var o=i[s].rowIdFn(i[s].aoData[this[s][a]]._aData);e.push((t===!0?"#":"")+o)}return new zt(i,e)}),Xt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,n){var a,r,o,l,h,d,c=e.aoData,u=c[i];for(c.splice(i,1),a=0,r=c.length;r>a;a++)if(h=c[a],d=h.anCells,null!==h.nTr&&(h.nTr._DT_RowIndex=a),null!==d)for(o=0,l=d.length;l>o;o++)d[o]._DT_CellIndex.row=a;I(e.aiDisplayMaster,i),I(e.aiDisplay,i),I(t[n],i,!1),Bt(e);var f=e.rowIdFn(u._aData);f!==s&&delete e.aIds[f]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;i>e;e++)t.aoData[e].idx=e}),this}),qt("rows.add()",function(e){var i=this.iterator("table",function(t){var i,s,n,a=[];for(s=0,n=e.length;n>s;s++)i=e[s],i.nodeName&&"TR"===i.nodeName.toUpperCase()?a.push(T(t,i)[0]):a.push(w(t,i));return a},1),s=this.rows(-1);return s.pop(),t.merge(s,i),s}),qt("row()",function(t,e){return $e(this.rows(t,e))}),qt("row().data()",function(t){var e=this.context;return t===s?e.length&&this.length?e[0].aoData[this[0]]._aData:s:(e[0].aoData[this[0]]._aData=t,O(e[0],this[0],"data"),this)}),qt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),qt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?T(t,e)[0]:w(t,e)});return this.row(i[0])});var Oe=function(e,i,s,n){var a=[],r=function(i,s){if(t.isArray(i)||i instanceof t)for(var n=0,o=i.length;o>n;n++)r(i[n],s);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())a.push(i);else{var l=t("<tr><td/></tr>").addClass(s);t("td",l).addClass(s).html(i)[0].colSpan=g(e),a.push(l[0])}};r(s,n),i._details&&i._details.remove(),i._details=t(a),i._detailsShow&&i._details.insertAfter(i.nTr)},Ee=function(t,e){var i=t.context;if(i.length){var n=i[0].aoData[e!==s?e:t[0]];n&&n._details&&(n._details.remove(),n._detailsShow=s,n._details=s)}},He=function(t,e){var i=t.context;if(i.length&&t.length){var s=i[0].aoData[t[0]];s._details&&(s._detailsShow=e,e?s._details.insertAfter(s.nTr):s._details.detach(),Fe(i[0]))}},Fe=function(t){var e=new zt(t),i=".dt.DT_details",s="draw"+i,n="column-visibility"+i,a="destroy"+i,r=t.aoData;e.off(s+" "+n+" "+a),de(r,"_details").length>0&&(e.on(s,function(i,s){t===s&&e.rows({page:"current"}).eq(0).each(function(t){var e=r[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(n,function(e,i,s,n){if(t===i)for(var a,o=g(i),l=0,h=r.length;h>l;l++)a=r[l],a._details&&a._details.children("td[colspan]").attr("colspan",o)}),e.on(a,function(i,s){if(t===s)for(var n=0,a=r.length;a>n;n++)r[n]._details&&Ee(e,n)}))},Le="",Ne=Le+"row().child",Pe=Ne+"()";qt(Pe,function(t,e){var i=this.context;return t===s?i.length&&this.length?i[0].aoData[this[0]]._details:s:(t===!0?this.child.show():t===!1?Ee(this):i.length&&this.length&&Oe(i[0],i[0].aoData[this[0]],t,e),this)}),qt([Ne+".show()",Pe+".show()"],function(t){return He(this,!0),this}),qt([Ne+".hide()",Pe+".hide()"],function(){return He(this,!1),this}),qt([Ne+".remove()",Pe+".remove()"],function(){return Ee(this),this}),qt(Ne+".isShown()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]]._detailsShow||!1:!1});var Ye=/^(.+):(name|visIdx|visible)$/,Be=function(t,e,i,s,n){for(var a=[],r=0,o=n.length;o>r;r++)a.push(C(t,n[r],e));return a},Ue=function(e,i,s){var n=e.aoColumns,a=de(n,"sName"),r=de(n,"nTh"),o=function(i){var o=ae(i);if(""===i)return ue(n.length);if(null!==o)return[o>=0?o:n.length+o];if("function"==typeof i){var l=Me(e,s);return t.map(n,function(t,s){return i(s,Be(e,s,0,0,l),r[s])?s:null})}var h="string"==typeof i?i.match(Ye):"";if(!h)return t(r).filter(i).map(function(){return t.inArray(this,r)}).toArray();switch(h[2]){case"visIdx":case"visible":var d=parseInt(h[1],10);if(0>d){var c=t.map(n,function(t,e){return t.bVisible?e:null});return[c[c.length+d]]}return[p(e,d)];case"name":return t.map(a,function(t,e){return t===h[1]?e:null})}};return ke("column",i,o,e,s)},Re=function(e,i,n,a){var r,o,l,h,d=e.aoColumns,c=d[i],u=e.aoData;if(n===s)return c.bVisible;if(c.bVisible!==n){if(n){var p=t.inArray(!0,de(d,"bVisible"),i+1);for(o=0,l=u.length;l>o;o++)h=u[o].nTr,r=u[o].anCells,h&&h.insertBefore(r[i],r[p]||null)}else t(de(e.aoData,"anCells",i)).detach();
c.bVisible=n,N(e,e.aoHeader),N(e,e.aoFooter),(a===s||a)&&(f(e),(e.oScroll.sX||e.oScroll.sY)&&gt(e)),Yt(e,null,"column-visibility",[e,i,n,a]),It(e)}};qt("columns()",function(e,i){e===s?e="":t.isPlainObject(e)&&(i=e,e=""),i=Ae(i);var n=this.iterator("table",function(t){return Ue(t,e,i)},1);return n.selector.cols=e,n.selector.opts=i,n}),Xt("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Xt("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Xt("columns().data()","column().data()",function(){return this.iterator("column-rows",Be,1)}),Xt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Xt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,i,s,n,a){return ce(e.aoData,a,"search"===t?"_aFilterData":"_aSortData",i)},1)}),Xt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,s,n){return ce(t.aoData,n,"anCells",e)},1)}),Xt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(i,n){return t===s?i.aoColumns[n].bVisible:void Re(i,n,t,e)})}),Xt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,i){return"visible"===t?m(e,i):i},1)}),qt("columns.adjust()",function(){return this.iterator("table",function(t){f(t)},1)}),qt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return p(i,e);if("fromData"===t||"toVisible"===t)return m(i,e)}}),qt("column()",function(t,e){return $e(this.columns(t,e))});var Ve=function(e,i,n){var a,r,o,l,h,d,c,u=e.aoData,f=Me(e,n),p=fe(ce(u,f,"anCells")),m=t([].concat.apply([],p)),g=e.aoColumns.length,v=function(i){var n="function"==typeof i;if(null===i||i===s||n){for(r=[],o=0,l=f.length;l>o;o++)for(a=f[o],h=0;g>h;h++)d={row:a,column:h},n?(c=u[a],i(d,C(e,a,h),c.anCells?c.anCells[h]:null)&&r.push(d)):r.push(d);return r}return t.isPlainObject(i)?[i]:m.filter(i).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()};return ke("cell",i,v,e,n)};qt("cells()",function(e,i,n){if(t.isPlainObject(e)&&(e.row===s?(n=e,e=null):(n=i,i=null)),t.isPlainObject(i)&&(n=i,i=null),null===i||i===s)return this.iterator("table",function(t){return Ve(t,e,Ae(n))});var a,r,o,l,h,d=this.columns(i,n),c=this.rows(e,n),u=this.iterator("table",function(t,e){for(a=[],r=0,o=c[e].length;o>r;r++)for(l=0,h=d[e].length;h>l;l++)a.push({row:c[e][r],column:d[e][l]});return a},1);return t.extend(u.selector,{cols:i,rows:e,opts:n}),u}),Xt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){var n=t.aoData[e].anCells;return n?n[i]:s},1)}),qt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return C(t,e,i)},1)}),Xt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,i,s){return e.aoData[i][t][s]},1)}),Xt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,i,s){return C(e,i,s,t)},1)}),Xt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:m(t,i)}},1)}),Xt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,i,s){O(e,i,t,s)})}),qt("cell()",function(t,e,i){return $e(this.cells(t,e,i))}),qt("cell().data()",function(t){var e=this.context,i=this[0];return t===s?e.length&&i.length?C(e[0],i[0].row,i[0].column):s:(x(e[0],i[0].row,i[0].column,t),O(e[0],i[0].row,"data",i[0].column),this)}),qt("order()",function(e,i){var n=this.context;return e===s?0!==n.length?n[0].aaSorting:s:("number"==typeof e?e=[[e,i]]:t.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),qt("order.listener()",function(t,e,i){return this.iterator("table",function(s){At(s,t,e,i)})}),qt("order.fixed()",function(e){if(!e){var i=this.context,n=i.length?i[0].aaSortingFixed:s;return t.isArray(n)?{pre:n}:n}return this.iterator("table",function(i){i.aaSortingFixed=t.extend(!0,{},e)})}),qt(["columns().order()","column().order()"],function(e){var i=this;return this.iterator("table",function(s,n){var a=[];t.each(i[n],function(t,i){a.push([i,e])}),s.aaSorting=a})}),qt("search()",function(e,i,n,a){var r=this.context;return e===s?0!==r.length?r[0].oPreviousSearch.sSearch:s:this.iterator("table",function(s){s.oFeatures.bFilter&&q(s,t.extend({},s.oPreviousSearch,{sSearch:e+"",bRegex:null===i?!1:i,bSmart:null===n?!0:n,bCaseInsensitive:null===a?!0:a}),1)})}),Xt("columns().search()","column().search()",function(e,i,n,a){return this.iterator("column",function(r,o){var l=r.aoPreSearchCols;return e===s?l[o].sSearch:void(r.oFeatures.bFilter&&(t.extend(l[o],{sSearch:e+"",bRegex:null===i?!1:i,bSmart:null===n?!0:n,bCaseInsensitive:null===a?!0:a}),q(r,r.oPreviousSearch,1)))})}),qt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),qt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),qt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),qt("state.save()",function(){return this.iterator("table",function(t){It(t)})}),Gt.versionCheck=Gt.fnVersionCheck=function(t){for(var e,i,s=Gt.version.split("."),n=t.split("."),a=0,r=n.length;r>a;a++)if(e=parseInt(s[a],10)||0,i=parseInt(n[a],10)||0,e!==i)return e>i;return!0},Gt.isDataTable=Gt.fnIsDataTable=function(e){var i=t(e).get(0),s=!1;return t.each(Gt.settings,function(e,n){var a=n.nScrollHead?t("table",n.nScrollHead)[0]:null,r=n.nScrollFoot?t("table",n.nScrollFoot)[0]:null;(n.nTable===i||a===i||r===i)&&(s=!0)}),s},Gt.tables=Gt.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var s=t.map(Gt.settings,function(i){return!e||e&&t(i.nTable).is(":visible")?i.nTable:void 0});return i?new zt(s):s},Gt.util={throttle:yt,escapeRegex:tt},Gt.camelToHungarian=a,qt("$()",function(e,i){var s=this.rows(i).nodes(),n=t(s);return t([].concat(n.filter(e).toArray(),n.find(e).toArray()))}),t.each(["on","one","off"],function(e,i){qt(i+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var s=t(this.tables().nodes());return s[i].apply(s,e),this})}),qt("clear()",function(){return this.iterator("table",function(t){M(t)})}),qt("settings()",function(){return new zt(this.context,this.context)}),qt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),qt("data()",function(){return this.iterator("table",function(t){return de(t.aoData,"_aData")}).flatten()}),qt("destroy()",function(i){return i=i||!1,this.iterator("table",function(s){var n,a=s.nTableWrapper.parentNode,r=s.oClasses,o=s.nTable,l=s.nTBody,h=s.nTHead,d=s.nTFoot,c=t(o),u=t(l),f=t(s.nTableWrapper),p=t.map(s.aoData,function(t){return t.nTr});s.bDestroying=!0,Yt(s,"aoDestroyCallback","destroy",[s]),i||new zt(s).columns().visible(!0),f.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+s.sInstance),o!=h.parentNode&&(c.children("thead").detach(),c.append(h)),d&&o!=d.parentNode&&(c.children("tfoot").detach(),c.append(d)),s.aaSorting=[],s.aaSortingFixed=[],$t(s),t(p).removeClass(s.asStripeClasses.join(" ")),t("th, td",h).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),s.bJUI&&(t("th span."+r.sSortIcon+", td span."+r.sSortIcon,h).detach(),t("th, td",h).each(function(){var e=t("div."+r.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),u.children().detach(),u.append(p);var m=i?"remove":"detach";c[m](),f[m](),!i&&a&&(a.insertBefore(o,s.nTableReinsertBefore),c.css("width",s.sDestroyWidth).removeClass(r.sTable),n=s.asDestroyStripes.length,n&&u.children().each(function(e){t(this).addClass(s.asDestroyStripes[e%n])}));var g=t.inArray(s,Gt.settings);-1!==g&&Gt.settings.splice(g,1)})}),t.each(["column","row","cell"],function(t,e){qt(e+"s().every()",function(t){var i=this.selector.opts,n=this;return this.iterator(e,function(a,r,o,l,h){t.call(n[e](r,"cell"===e?o:i,"cell"===e?i:s),r,o,l,h)})})}),qt("i18n()",function(e,i,n){var a=this.context[0],r=k(e)(a.oLanguage);return r===s&&(r=i),n!==s&&t.isPlainObject(r)&&(r=r[n]!==s?r[n]:r._),r.replace("%d",n)}),Gt.version="1.10.10",Gt.settings=[],Gt.models={},Gt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Gt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Gt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Gt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Gt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},n(Gt.defaults),Gt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},n(Gt.defaults.column),Gt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:s,oAjaxData:s,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Rt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Rt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,s=this.aiDisplay.length,n=this.oFeatures,a=n.bPaginate;return n.bServerSide?a===!1||-1===t?e+s:Math.min(e+t,this._iRecordsDisplay):!a||i>s||-1===t?s:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Gt.ext=Jt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Gt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Gt.version},t.extend(Jt,{afnFiltering:Jt.search,aTypes:Jt.type.detect,ofnSearch:Jt.type.search,oSort:Jt.type.order,afnSortData:Jt.order,aoFeatures:Jt.feature,oApi:Jt.internal,oStdClasses:Jt.classes,oPagination:Jt.pager}),t.extend(Gt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var i=e+"ui-state-default",s=e+"css_right ui-icon ui-icon-",n=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(Gt.ext.oJUIClasses,Gt.ext.classes,{sPageButton:"fg-button ui-button "+i,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:i+" sorting_asc",sSortDesc:i+" sorting_desc",sSortable:i+" sorting",sSortableAsc:i+" sorting_asc_disabled",sSortableDesc:i+" sorting_desc_disabled",sSortableNone:i+" sorting_disabled",sSortJUIAsc:s+"triangle-1-n",sSortJUIDesc:s+"triangle-1-s",sSortJUI:s+"carat-2-n-s",sSortJUIAscAllowed:s+"carat-1-n",sSortJUIDescAllowed:s+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+i,sScrollFoot:"dataTables_scrollFoot "+i,sHeaderTH:i,sFooterTH:i,sJUIHeader:n+" ui-corner-tl ui-corner-tr",sJUIFooter:n+" ui-corner-bl ui-corner-br"})}();var We=Gt.ext.pager;t.extend(We,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Vt(t,e)]},simple_numbers:function(t,e){return["previous",Vt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Vt(t,e),"next","last"]},_numbers:Vt,numbers_length:7}),t.extend(!0,Gt.ext.renderer,{pageButton:{_:function(e,s,n,a,r,o){var l,h,d,c=e.oClasses,u=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},p=0,m=function(i,s){var a,d,g,v,b=function(t){ut(e,t.data.action,!0)};for(a=0,d=s.length;d>a;a++)if(v=s[a],t.isArray(v)){var y=t("<"+(v.DT_el||"div")+"/>").appendTo(i);m(y,v)}else{switch(l=null,h="",v){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=u.sFirst,h=v+(r>0?"":" "+c.sPageButtonDisabled);break;case"previous":l=u.sPrevious,h=v+(r>0?"":" "+c.sPageButtonDisabled);break;case"next":l=u.sNext,h=v+(o-1>r?"":" "+c.sPageButtonDisabled);break;case"last":l=u.sLast,h=v+(o-1>r?"":" "+c.sPageButtonDisabled);break;default:l=v+1,h=r===v?c.sPageButtonActive:""}null!==l&&(g=t("<a>",{"class":c.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-label":f[v],"data-dt-idx":p,tabindex:e.iTabIndex,id:0===n&&"string"==typeof v?e.sTableId+"_"+v:null}).html(l).appendTo(i),Nt(g,{action:v},b),p++)}};try{d=t(s).find(i.activeElement).data("dt-idx")}catch(g){}m(t(s).empty(),a),d&&t(s).find("[data-dt-idx="+d+"]").focus()}}}),t.extend(Gt.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return oe(t,i)?"num"+i:null},function(t,e){if(t&&!(t instanceof Date)&&(!te.test(t)||!ee.test(t)))return null;var i=Date.parse(t);return null!==i&&!isNaN(i)||ne(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return oe(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return he(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return he(t,i,!0)?"html-num-fmt"+i:null},function(t,e){return ne(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Gt.ext.type.search,{html:function(t){return ne(t)?t:"string"==typeof t?t.replace(Kt," ").replace(Qt,""):""},string:function(t){return ne(t)?t:"string"==typeof t?t.replace(Kt," "):t}});var je=function(t,e,i,s){return 0===t||t&&"-"!==t?(e&&(t=re(t,e)),t.replace&&(i&&(t=t.replace(i,"")),s&&(t=t.replace(s,""))),1*t):-(1/0)};return t.extend(Jt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return ne(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ne(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0}}),Wt(""),t.extend(!0,Gt.ext.renderer,{header:{_:function(e,i,s,n){t(e.nTable).on("order.dt.DT",function(t,a,r,o){if(e===a){var l=s.idx;i.removeClass(s.sSortingClass+" "+n.sSortAsc+" "+n.sSortDesc).addClass("asc"==o[l]?n.sSortAsc:"desc"==o[l]?n.sSortDesc:s.sSortingClass)}})},jqueryui:function(e,i,s,n){t("<div/>").addClass(n.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(n.sSortIcon+" "+s.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",function(t,a,r,o){if(e===a){var l=s.idx;i.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass("asc"==o[l]?n.sSortAsc:"desc"==o[l]?n.sSortDesc:s.sSortingClass),i.find("span."+n.sSortIcon).removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed).addClass("asc"==o[l]?n.sSortJUIAsc:"desc"==o[l]?n.sSortJUIDesc:s.sSortingClassJUI)}})}}}),Gt.render={number:function(t,e,i,s,n){return{display:function(a){if("number"!=typeof a&&"string"!=typeof a)return a;var r=0>a?"-":"",o=parseFloat(a);if(isNaN(o))return a;a=Math.abs(o);var l=parseInt(a,10),h=i?e+(a-l).toFixed(i).substring(2):"";return r+(s||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+h+(n||"")}}},text:function(){return{display:function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}}}},t.extend(Gt.ext.internal,{_fnExternApiFunc:jt,_fnBuildAjax:V,_fnAjaxUpdate:W,_fnAjaxParameters:j,_fnAjaxUpdateDraw:G,_fnAjaxDataSrc:J,_fnAddColumn:c,_fnColumnOptions:u,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:n,_fnCamelToHungarian:a,_fnLanguageCompat:r,_fnBrowserDetect:h,_fnAddData:w,_fnAddTr:T,_fnNodeToDataIndex:S,_fnNodeToColumnIndex:D,_fnGetCellData:C,_fnSetCellData:x,_fnSplitObjNotation:_,_fnGetObjectDataFn:k,_fnSetObjectDataFn:A,_fnGetDataMaster:$,_fnClearTable:M,_fnDeleteIndex:I,_fnInvalidate:O,_fnGetRowElements:E,_fnCreateTr:H,_fnBuildHead:L,_fnDrawHead:N,_fnDraw:P,_fnReDraw:Y,_fnAddOptionsHtml:B,_fnDetectHeader:U,_fnGetUniqueThs:R,_fnFeatureHtmlFilter:z,_fnFilterComplete:q,_fnFilterCustom:X,_fnFilterColumn:Z,_fnFilter:K,_fnFilterCreateSearch:Q,_fnEscapeRegex:tt,_fnFilterData:et,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:at,_fnInfoMacros:rt,_fnInitialise:ot,_fnInitComplete:lt,_fnLengthChange:ht,_fnFeatureHtmlLength:dt,_fnFeatureHtmlPaginate:ct,_fnPageChange:ut,_fnFeatureHtmlProcessing:ft,_fnProcessingDisplay:pt,_fnFeatureHtmlTable:mt,_fnScrollDraw:gt,_fnApplyToChildren:vt,_fnCalculateColumnWidths:bt,_fnThrottle:yt,_fnConvertToWidth:wt,_fnGetWidestNode:Tt,_fnGetMaxLenString:St,_fnStringToCss:Dt,_fnSortFlatten:Ct,_fnSort:xt,_fnSortAria:_t,_fnSortListener:kt,_fnSortAttachListener:At,_fnSortingClasses:$t,_fnSortData:Mt,_fnSaveState:It,_fnLoadState:Ot,_fnSettingsFromNode:Et,_fnLog:Ht,_fnMap:Ft,_fnBindAction:Nt,_fnCallbackReg:Pt,_fnCallbackFire:Yt,_fnLengthOverflow:Bt,_fnRenderer:Ut,_fnDataSource:Rt,_fnRowAttributes:F,_fnCalculateEnd:function(){}}),t.fn.dataTable=Gt,Gt.$=t,t.fn.dataTableSettings=Gt.settings,t.fn.dataTableExt=Gt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Gt,function(e,i){t.fn.DataTable[e]=i}),t.fn.dataTable}(jQuery,window,document),function(t,e,i,s){"use strict";var n=t.fn.dataTable;return t.extend(!0,n.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),t.extend(n.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),n.ext.renderer.pageButton.bootstrap=function(e,s,a,r,o,l){var h,d,c,u=new n.Api(e),f=e.oClasses,p=e.oLanguage.oPaginate,m=e.oLanguage.oAria.paginate||{},g=0,v=function(i,s){var n,r,c,b,y=function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||u.page()==e.data.action||u.page(e.data.action).draw("page")};for(n=0,r=s.length;r>n;n++)if(b=s[n],t.isArray(b))v(i,b);else{switch(h="",d="",b){case"ellipsis":h="&#x2026;",d="disabled";break;case"first":h=p.sFirst,d=b+(o>0?"":" disabled");break;case"previous":h=p.sPrevious,d=b+(o>0?"":" disabled");break;case"next":h=p.sNext,d=b+(l-1>o?"":" disabled");break;case"last":h=p.sLast,d=b+(l-1>o?"":" disabled");break;default:h=b+1,d=o===b?"active":""}h&&(c=t("<li>",{"class":f.sPageButton+" "+d,id:0===a&&"string"==typeof b?e.sTableId+"_"+b:null}).append(t("<a>",{href:"#","aria-controls":e.sTableId,"aria-label":m[b],"data-dt-idx":g,tabindex:e.iTabIndex}).html(h)).appendTo(i),e.oApi._fnBindAction(c,{action:b},y),g++)}};try{c=t(s).find(i.activeElement).data("dt-idx")}catch(b){}v(t(s).empty().html('<ul class="pagination"/>').children("ul"),r),c&&t(s).find("[data-dt-idx="+c+"]").focus()},n.TableTools&&(t.extend(!0,n.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),t.extend(!0,n.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),n}(jQuery,window,document),Jx()["package"]("T.UI.Components",function(t){"use strict";var e=0,i=300,s=150,n={modalId:"",modalCssClass:"",show:!1,bindTarget:!0,remote:"",content:"",backdrop:!0,keyboard:!0,modalContainer:"#t-modal-base",buttons:{close:{selector:".close",eventName:"click",handler:function(t){this.hide()}},cancel:{selector:".cancel",eventName:"click",handler:function(t){this.hide()}}},onInitialized:function(){}},a={modalId:"modal-id",show:"show",remote:"remote",backdrop:"backdrop",keyboard:"keyboard"};this.Modal=new t.Class({extend:T.UI.BaseControl},{defaults:n,attributeMap:a,init:function(t,i){var s=$(t);if(this.initSettings(s,i),!this.settings.remote){var n=s.attr("href");this.settings.remote=!/#/.test(n)&&n}e+=1,s&&s.length>0&&(this._currentPluginId=s.data("plugin-id"),this._currentPluginId||(this._currentPluginId=e,s.data("plugin-id",e))),this.element=s,this.isShown=!1,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.modalContainer=$(this.settings.modalContainer),this.settings.modalId=this.settings.modalId||this.settings.modalContainer+"-m"+this._currentPluginId,"function"==typeof this.settings.parseData&&(this.parseData=this.settings.parseData,delete this.settings.parseData),this.getData()},getData:function(){var t=this;this.settings.remote?$.ajax({url:this.settings.remote,type:"GET",dataType:"html"}).done(function(e){var i=t.parseData(e);t.render(i)}):this.render(this.settings.content)},parseData:function(t){return t},buildHtml:function(){},render:function(t){var e=this.modalContainer.find(this.settings.modalId);if(0===e.length){var i=this.settings.modalCssClass?" "+this.settings.modalCssClass:"",s='<div    class="modal fade'+i+'"    id="'+this.settings.modalId.substring(1)+'"    tabindex="-1">    <div class="modal-dialog">    </div></div>';this.modalContainer.append(s),e=this.modalContainer.find(this.settings.modalId)}if(t){var n=e.find(".modal-dialog:first");n.empty(),n.append(t)}this.initElements(),this.bindEvents(),this.elements.modal.trigger("modal.on.initialized")},refresh:function(){},initElements:function(){var t=this.modalContainer.find(this.settings.modalId);this.elements={original:this.element,body:$(document.body),modal:t,dialog:t.find(".modal-dialog:first"),backdrop:null},this.settings.show&&this.show(this.element)},bindEvents:function(){if(this.unbindEvents(),this.settings.bindTarget){var t=this;this.elements.original.on("click",function(e){$(this).is("a")&&e.preventDefault(),t.show(t.elements.original)})}this.elements.modal.on("modal.on.initialized",$.proxy(this.settings.onInitialized,this));for(var e in this.settings.buttons){var i=this.settings.buttons[e];this.elements.modal.off(i.eventName,i.selector),this.elements.modal.on(i.eventName,i.selector,$.proxy(i.handler,this))}},unbindEvents:function(){this.elements.modal.off("modal.on.initialized"),this.settings.bindTarget&&this.elements.modal.off("click")},show:function(t){var e=this,i=$.Event("modal.on.show",{relatedTarget:t});this.elements.modal.trigger(i);var s=1040+10*$(".modal:visible").length;if(this.elements.modal.css("z-index",s),setTimeout(function(){$(".modal-backdrop").not(".modal-stack").css("z-index",s-1).addClass("modal-stack")},0),!this.isShown&&!i.isDefaultPrevented()){this.isShown=!0;var n=window.innerWidth;if(!n){var a=document.documentElement.getBoundingClientRect();n=a.right-Math.abs(a.left)}this.bodyIsOverflowing=document.body.clientWidth<n;var r=document.createElement("div");r.className="modal-scrollbar-measure",this.elements.body.append(r),this.scrollbarWidth=r.offsetWidth-r.clientWidth,this.elements.body[0].removeChild(r);var o=parseInt(this.elements.body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.elements.body.css("padding-right",o+this.scrollbarWidth),this.elements.body.addClass("modal-open"),$(window).on("resize.modal",$.proxy(this.adjustDialog,this)),this.elements.dialog.on("mousedown.modal.on.dismiss",function(){e.elements.modal.one("mouseup.modal.on.dismiss",function(t){$(t.target).is(e.elements.modal)&&(e.ignoreBackdropClick=!0)})});var i=$.Event("modal.on.shown",{relatedTarget:t});this.backdrop($.proxy(this.backdropCallback,this,i))}},hide:function(t){t&&t.preventDefault(),t=$.Event("modal.on.hide"),this.elements.modal.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,$(window).off("resize.modal"),$(document).off("modal.on.focusin"),this.elements.modal.removeClass("in").off("click.modal.on.dismiss").off("mouseup.modal.on.dismiss"),this.elements.dialog.off("mousedown.modal.on.dismiss"),$.support.transition&&this.elements.modal.hasClass("fade")?this.elements.modal.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(i):this.hideModal())},hideModal:function(){var t=this;this.elements.modal.hide(),this.backdrop(function(){t.elements.body.removeClass("modal-open"),t.elements.modal.css({paddingLeft:"",paddingRight:""}),t.elements.body.css("padding-right",t.originalBodyPad),t.elements.modal.trigger("modal.on.hidden")})},backdrop:function(t){var e=this,i=this.elements.modal.hasClass("fade")?"fade":"";if(this.isShown&&this.settings.backdrop){var n=$.support.transition&&i;if(this.elements.backdrop=$(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.elements.body),this.elements.modal.on("click.modal.on.dismiss",$.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.settings.backdrop?this.elements.modal[0].focus():this.hide()))},this)),n&&this.elements.backdrop[0].offsetWidth,this.elements.backdrop.addClass("in"),!t)return;n?this.elements.backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s):t()}else if(!this.isShown&&this.elements.backdrop){this.elements.backdrop.removeClass("in");var a=function(){e.elements.backdrop&&e.elements.backdrop.remove(),e.elements.backdrop=null,t&&t()};$.support.transition&&this.elements.modal.hasClass("fade")?this.elements.backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(s):a()}else t&&t()},backdropCallback:function(t){this.elements.modal.parent().length||this.elements.modal.appendTo(this.elements.body),this.elements.modal.show(),this.elements.modal.scrollTop(0),this.adjustDialog();var e=$.support.transition&&this.elements.modal.hasClass("fade");if(e&&this.elements.modal[0].offsetWidth,this.elements.modal.addClass("in"),$(document).off("modal.onfocusin"),$(document).on("modal.onfocusin",$.proxy(function(t){this.elements.modal[0]===t.target||this.elements.modal.has(t.target).length||this.elements.modal.trigger("focus")},this)),e){var s=this;this.elements.dialog.one("bsTransitionEnd",function(){s.elements.modal.trigger("focus").trigger(t)}),this.elements.dialog.emulateTransitionEnd(i)}else this.elements.modal.trigger("focus").trigger(t)},adjustDialog:function(){var t=this.elements.modal[0].scrollHeight>document.documentElement.clientHeight;this.elements.modal.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})}});new t.Class({init:function(){this.openedWindows=new T.Collections.Map},open:function(t,e){var i=$document[0].activeElement,s=e.openedClass||OPENED_MODAL_CLASS;toggleTopWindowClass(!1),openedWindows.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,closedDeferred:e.closedDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass,windowTopClass:e.windowTopClass,animation:e.animation,appendTo:e.appendTo}),openedClasses.put(s,t);var n=e.appendTo,a=backdropIndex();if(!n.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");a>=0&&!backdropDomEl&&(backdropScope=$rootScope.$new(!0),backdropScope.modalOptions=e,backdropScope.index=a,backdropDomEl=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),
backdropDomEl.attr("backdrop-class",e.backdropClass),e.animation&&backdropDomEl.attr("modal-animation","true"),$compile(backdropDomEl)(backdropScope),$animate.enter(backdropDomEl,n));var r=angular.element('<div uib-modal-window="modal-window"></div>');r.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,"window-top-class":e.windowTopClass,size:e.size,index:openedWindows.length()-1,animate:"animate"}).html(e.content),e.animation&&r.attr("modal-animation","true"),$animate.enter($compile(r)(e.scope),n).then(function(){$animate.addClass(n,s)}),openedWindows.top().value.modalDomEl=r,openedWindows.top().value.modalOpener=i,$modalStack.clearFocusListCache()},close:function(t,e){var i=openedWindows.get(t);return i&&broadcastClosing(i,e,!0)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.resolve(e),removeModalWindow(t,i.value.modalOpener),!0):!i},broadcastClosing:function(t,e,i){return!t.value.modalScope.$broadcast("modal.closing",e,i).defaultPrevented},dismiss:function(t,e){var i=openedWindows.get(t);return i&&broadcastClosing(i,e,!1)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.reject(e),removeModalWindow(t,i.value.modalOpener),!0):!i},dismissAll:function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},getTop:function(){return openedWindows.top()},modalRendered:function(t){var e=openedWindows.get(t);e&&e.value.renderDeferred.resolve()},focusFirstFocusableElement:function(){return focusableElementList.length>0?(focusableElementList[0].focus(),!0):!1},focusLastFocusableElement:function(){return focusableElementList.length>0?(focusableElementList[focusableElementList.length-1].focus(),!0):!1},isModalFocused:function(t,e){if(t&&e){var i=e.value.modalDomEl;if(i&&i.length)return(t.target||t.srcElement)===i[0]}return!1},isFocusInFirstItem:function(t){return focusableElementList.length>0?(t.target||t.srcElement)===focusableElementList[0]:!1},isFocusInLastItem:function(t){return focusableElementList.length>0?(t.target||t.srcElement)===focusableElementList[focusableElementList.length-1]:!1},clearFocusListCache:function(){focusableElementList=[],focusIndex=0},loadFocusElementList:function(t){if((void 0===focusableElementList||!focusableElementList.length)&&t){var e=t.value.modalDomEl;e&&e.length&&(focusableElementList=e[0].querySelectorAll(tababbleSelector))}}})}),Jx()["package"]("T.UI.Components",function(t){"use strict";var e=0,i={dataUrl:""},s={dataUrl:"data-url"},n=new t.Class({data:{},states:{},init:function(t,e){this.inputElements=t,this.settings=e;var i=this;this.d=$.Deferred(),$.when(this.getData(this.d)).done(function(){i.render()}),this.buildHtml(),this.initElements(),this.bindEvents(),this.bindEventsInterface(),this.refresh()},getData:function(t){if(this.settings.data)return this.data=$.extend(!0,[],this.settings.data),delete this.settings.data,t.resolve(),t.promise();var e=this;return $.ajax({dataType:"json",url:e.settings.dataUrl,data:{},success:function(i){e.data=e.parseData(i),t.resolve()},error:function(i,s,n){alert("控件id："+e.element.attr("id")+"，ajax获取数据失败!"),t.resolve()}}),t.promise()},parseData:function(t){for(var e=[],i=0;i<t.length;i++){var s=t[i],n={id:s.id,name:s.name,text:s.name,nodes:[]};if(e[e.length]=n,s.nodes)for(var a=0;a<s.nodes.length;a++){var r=s.nodes[a],o={id:r.id,name:r.name,text:r.name,nodes:[]};if(n.nodes[n.nodes.length]=o,r.nodes)for(var l=0;l<r.nodes.length;l++){var h=r.nodes[l],d={id:h.id,name:h.name,text:h.name,nodes:[]};if(n.nodes[a].nodes[n.nodes[a].nodes.length]=d,h.nodes)for(var c=0;c<h.nodes.length;c++){var u=h.nodes[c],f={id:u.id,name:u.name,text:u.name};n.nodes[a].nodes[l].nodes[n.nodes[a].nodes[l].nodes.length]=f}}}}return e},buildHtml:function(){var t='                       <select class="t-title-filter">                           <option value="">请选择职务</option>                           <option value="1">职务1</option>                           <option value="2">职务2</option>                           <option value="3">职务3</option>                           <option value="-1">某职务1以上</option>                           <option value="-2">某职务2以上</option>                           <option value="-3">某职务3以下</option>                       </select>',e='            <div class="col-xs-4" style="padding-left:3px;">                <div class="col-header" style="padding:6px;">                    <input type="text" class="t-typeahead form-control" />                </div>                <div class="t-tree-wraper">                <div class="t-tree">                </div>                </div>            </div>',i="t-os-rs_"+this.inputElements.original.data("plugin-id"),s='            <div class="col-xs-8" style="padding-left:3px; padding-right:3px;">                <div id="'+i+'" class="col-xs-5" style="padding-left:6px; padding-right:6px;">                <div class="col-header">                    <span>待选( <b class="t-forselect-count">0</b> )</span><br />'+t+'                    <input type="checkbox" class="t-inner" /><label>内部</label>                    <input type="checkbox" class="t-outer" /><label>外部</label>                </div>                    <select                         id="'+i+'"                        multiple="multiple"                         size="20"                         class="form-control"                         name="from[]">                    </select>                </div>                <div class="col-xs-2">                    <br /><br /><br /><br />                    <button type="button" id="'+i+'_undo" class="btn btn-primary btn-block">撤销</button>                    <button type="button" id="'+i+'_rightAll" class="btn btn-block btn-sm"><i class="glyphicon glyphicon-forward"></i></button>                    <button type="button" id="'+i+'_rightSelected" class="btn btn-block btn-sm"><i class="glyphicon glyphicon-chevron-right"></i></button>                    <button type="button" id="'+i+'_leftSelected" class="btn btn-block btn-sm"><i class="glyphicon glyphicon-chevron-left"></i></button>                    <button type="button" id="'+i+'_leftAll" class="btn btn-block btn-sm"><i class="glyphicon glyphicon-backward"></i></button>                    <button type="button" id="'+i+'_redo" class="btn btn-primary btn-block">重做</button>                </div>                <div class="col-xs-5" style="padding-left:6px; padding-right:6px;">                    <div class="col-header">                    <span>已选( <b class="t-selected-count">0</b> )</span><br />                    </div>                    <select                         id="'+i+'_rightSelect"                         multiple="multiple"                         size="20"                         class="form-control"                         name="to[]">                    </select>                </div>            </div>',n=("t-orgselect-dialog"+this.inputElements.original.data("plugin-id"),'        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close"><span aria-hidden="true">&times;</span></button>                <h4 class="modal-title">选择员工</h4>            </div>            <div class="modal-body">               <div class="row">'+e+s+'               </div>            </div>            <div class="modal-footer">                <button type="button" class="btn btn-default cancel">取消</button>                <button type="button" class="btn btn-primary confirm">确定</button>            </div>        </div>');this.container=$(n)},initElements:function(){var t=this,e="#t-orgselect-dialog"+this.inputElements.original.data("plugin-id"),i=new T.UI.Components.Modal(this.inputElements.button,{modalId:e,modalCssClass:"t-orgselect-dialog",content:this.container,backdrop:"static"});this.elements={confirm:$(".modal-footer button.confirm",this.container),typeahead:$(".col-header t-typeahead",this.container),orgTree:$(".modal-body .t-tree",this.container),rightselect:$(".modal-body .t-rightselect",this.container),forselectCount:$(".col-header t-forselect-count",this.container),selectedCount:$(".col-header t-selected-count",this.container),titleFilter:$(".col-header t-title-filter",this.container),inner:$(".col-header .t-inner",this.container),outer:$(".col-header .t-outer",this.container)};var s=new T.UI.Controls.Typeahead(this.elements.typeahead,{matcher:function(t){var e=new RegExp(this.query,"i"),i=e.test(t.name);return i},updater:function(e){var i=t.controls.rightselect.right;return 0===i.find('option[value="'+e.id+'"]').length&&(i.append('<option value="'+e.id+'">'+e.name+"</option"),t._updateSelectedCount()),e}}),n=new T.UI.Components.RightSelect(this.elements.rightselect,{afterMoveToRight:function(e,i,s){t._updateForselectedCount(),t._updateSelectedCount()},afterMoveToLeft:function(e,i,s){t._updateForselectedCount(),t._updateSelectedCount()}});this.controls={typeahead:s,tree:null,pop:i,rightselect:n}},bindEvents:function(){this.elements;this.elements.confirm.on("click",$.proxy(this.onConfirm,this)),this.elements.titleFilter.on("change",$.proxy(this._renderLeft,this)),this.elements.inner.on("click",$.proxy(this._renderLeft,this)),this.elements.outer.on("click",$.proxy(this._renderLeft,this))},bindEventsInterface:function(){},onNodeSelected:function(t,e){if(e.nodes){var i=$.grep(e.nodes,function(t){return!0});this.states.leftUsers=i,this._renderLeft()}},onConfirm:function(){for(var t=[],e=this.controls.rightselect.elements.right.children(),i=0;i<e.length;i++){var s=$(e[i]);t.push(s.val())}this._setValue(t.join(",")),this.controls.pop.hide(),this._renderValue()},render:function(){this._renderTypeahead(),this._renderOrgTree(),this._renderValue()},_renderTypeahead:function(){this.controls.typeahead.setSource(this.data.users)},_renderOrgTree:function(){var t=this;this.controls.tree=new T.UI.Components.Tree(this.elements.orgTree,{levels:1,enableTitle:!0,data:t.data,onNodeSelected:function(e,i){t.onNodeSelected(e,i)}})},_renderLeft:function(){var t=this.states.leftUsers,e=this.elements.titleFilter.val(),i=this.elements.inner.is(":checked"),s=this.elements.outer.is(":checked"),n=this.controls.rightselect.elements.right,a=this.controls.rightselect.elements.left;a.empty();for(var r=0;r<t.length;r++){var o=t[r];(""===e||e>0&&o.titleSortNo==e||0>=e&&o.titleSortNo<=-e)&&(i&&"inner"==o.innerOuter||s&&"outer"==user.innerOuter)&&0===n.find('option[value="'+o.id+'"]').length&&a.append('<option value="'+o.id+'">'+o.name+"</option>")}this._updateForselectedCount()},_renderValue:function(){this.inputElements.dropdown.empty(),this.controls.rightselect.elements.right.empty(),this.inputElements.view.val("");var t=this._getValues();if(0===t.length)return void this._updateSelectedCount();for(var e=[],i=0;i<t.length;i++)for(var s=0;s<this.data.users.length;s++)if(t[i]==this.data.users[s].id){e[e.length]=this.data.users[s];break}for(var n="",i=0;i<e.length;i++){var a=e[i];this.controls.rightselect.elements.right.append('<option value="'+a.id+'">'+a.name+"</option>"),this.inputElements.dropdown.append("<li><span>"+a.name+'</span><a href="#" data-t-id="'+a.id+'">&times;</a></li>'),n+=a.name+","}n=n.substr(0,n.length-1),this.inputElements.view.val(n),this._updateSelectedCount();var r=this;this.inputElements.dropdown.find("li a").off("click"),this.inputElements.dropdown.find("li a").on("click",function(t){t.preventDefault(),t.stopPropagation();var e=$(this).attr("data-t-id"),i=r._getValues(),s=i.indexOf(e),n=i.slice(0,s).concat(i.slice(s+1,i.length));r.setValue(n.join(",")),r._renderValue()})},_updateForselectedCount:function(){var t=this.controls.rightselect.elements.left;this.elements.forselectCount.text(t.find("option").length)},_updateSelectedCount:function(){var t=this.controls.rightselect.elements.right;this.elements.selectedCount.text(t.find("option").length)},_getValues:function(){var t=this.inputElements.original.val(),e=t?t.split(","):[];return e},refresh:function(){var t=this;$.when(this.d.promise()).done(function(){t._renderValue()})},setValue:function(t){this.inputElements.original(t),this.inputElements.original.trigger("trigger")},change:function(t,e){},show:function(){this.container.show()},hide:function(){this.container.hide()}});this.Orgselect=new t.Class({extend:T.UI.BaseControl},{defaults:i,attributeMap:s,init:function(t,i){this.element=$(t),this.container,this.elements,e+=1,this.element.data("plugin-id",e);var s=$(t);this.initSettings(s,i),this.getData(),this.buildHtml(),this.initElements(),this.transferAttributes(),this.bindEvents(),this.bindEventsInterface()},buildHtml:function(){var t='<div class="t-orgselect-container input-group">    <input type="text" class="form-control" data-toggle="dropdown">    <div class="input-group-btn">        <button type="button" class="btn btn-default">            <span class="glyphicon glyphicon-user"></span>        </button>    </div>    <ul class="t-orgselect-menu dropdown-menu">    </ul></div>';this.container=$(t),this.element.before(this.container)},getData:function(){},createModal:function(t){},initElements:function(){this.elements={original:this.element,view:$("input[type=text]",this.container),button:$("button",this.container),dropdown:$(".t-orgselect-menu",this.container)},this.elements.original.hide(),this.elements.view.prop("readonly","readonly"),this.modal=new n(this.elements,this.settings)},bindEvents:function(){this.element,this.elements},bindEventsInterface:function(){this.element},transferAttributes:function(){this.elements.view.attr("required",this.element.attr("required")),this.elements.view.attr("rel",this.element.attr("rel")),this.elements.view.attr("title",this.element.attr("title")),this.elements.view.attr("class",this.element.attr("class")),this.elements.view.attr("tabindex",this.element.attr("tabindex")),this.elements.original.removeAttr("tabindex"),void 0!==this.element.attr("disabled")&&this.disable()},refresh:function(){this.modal.refresh()},enable:function(){this.element.attr("disabled",!1),this.elements.view.attr("disabled",!1),this.disabled=!1},disable:function(){this.element.attr("disabled",!0),this.elements.view.attr("disabled",!0),this.disabled=!0},destroy:function(){}})}),Jx()["package"]("T.UI.Components",function(t){"use strict";var e={totalRecords:0,pageSize:10,pageIndex:0,pageButtons:5},i={totalRecords:"total-records",pageSize:"page-size",pageIndex:"page-index",pageButtons:"page-buttons"};this.Paginator=new t.Class({extend:T.UI.BaseControl},{defaults:e,attributeMap:i,settings:{},value:"",data:{},templates:{},init:function(t,e){if(this.element=$(t),!this.element.is("ul"))throw"in Bootstrap version 3 the pagination root item must be an ul element.";var i=$(t);this.initSettings(i,e),this.updateOptions(this.settings)},getData:function(){var t=$.Deferred();if(this.settings.data)return this.data=$.extend(!0,[],this.settings.data),delete this.settings.data,t.resolve(),t.promise();var e=this;return $.ajax({dataType:"json",url:this.settings.dataUrl,data:{},success:function(i){e.data=$.extend(!0,[],i),t.resolve()},error:function(i,s,n){alert("控件id："+e.element.attr("id")+"，ajax获取数据失败!"),t.resolve()}}),t.promise()},parseData:function(t){var e=$.extend(!0,[],t);return e},buildHtml:function(){},initElements:function(){this.elements={original:this.element}},transferAttributes:function(){},bindEventsInterface:function(){var t=this.element;this.settings.onFooSelected&&t.on("page.on.change",$.proxy(this.settings.onFooSelected,this))},updateOptions:function(t){this.settings=$.extend(!0,{},this.settings,t),this.settings.totalRecords%this.settings.pageSize===0?this.totalPages=this.settings.totalRecords/this.settings.pageSize:this.totalPages=Math.ceil(this.settings.totalRecords/this.settings.pageSize),this.totalPages=this.totalPages<1?1:this.totalPages,this.settings.pageButtons=this.settings.pageButtons%2===0?this.settings.pageButtons+1:this.settings.pageButtons,this.refresh()},jumpTo:function(t){this.settings.pageIndex=0>t?0:t>this.totalPages-1?this.totalPages-1:t,this.refresh()},_getPageButtons:function(){var t=(this.settings.totalRecords,this.totalPages),e=0,i=Math.floor(this.settings.pageButtons/2);e=this.settings.pageIndex-i,e=e<this.totalPages-this.settings.pageButtons?e:this.totalPages-this.settings.pageButtons,e=0>e?0:e;for(var s=[],n=e,a=0;a<this.settings.pageButtons&&t>n;n+=1,a+=1)s.push(n);return e>0&&(s.first=0),this.settings.pageIndex-i>1&&(s.prevSection=this.settings.pageIndex-i-1),this.settings.pageIndex>0?s.prev=this.settings.pageIndex-1:s.prev=0,this.settings.pageIndex<t-1?s.next=this.settings.pageIndex+1:s.next=t-1,this.settings.pageIndex+i<this.totalPages-2&&(s.nextSection=this.settings.pageIndex+i+1),e<t-this.settings.pageButtons&&(s.last=t-1),s},onPageIndexChange:function(t){var e=parseInt($(t.target).attr("data-pi"),10);this.settings.pageIndex!=e&&(this.element.trigger("paginator.on.pageindexchange",e),this.jumpTo(e))},refresh:function(){var t=this._getPageButtons(),e=this.element;this.element.addClass("pagination"),this.element.empty();var i="",s='<li><a data-pi="'+t.prev+'">&lt;上一页</a><li>';if(i+=s,"undefined"!=typeof t.first){var n='<li><a data-pi="0">1</a><li>';i+=n}if("undefined"!=typeof t.prevSection){var a='<li><a data-pi="'+t.prevSection+'">...</a><li>';i+=a}for(var r=0;r<t.length;r+=1){var o=t[r]===this.settings.pageIndex?' class="active"':"",l="<li"+o+'><a data-pi="'+t[r]+'">'+(t[r]+1)+"</a><li>";i+=l}if("undefined"!=typeof t.nextSection){var h='<li><a data-pi="'+t.nextSection+'">...</a><li>';i+=h}if("undefined"!=typeof t.last){var d='<li><a data-pi="'+t.last+'">'+(t.last+1)+"</a><li>";i+=d}var c='<li><a data-pi="'+t.next+'">下一页&gt;</a><li>';i+=c,e.append(i),$("a",e).on("click",$.proxy(this.onPageIndexChange,this))},enable:function(){},disable:function(){},destroy:function(){this.element.off("page-clicked"),this.element.off("page-changed"),this.element.empty()}})}),Jx()["package"]("T.UI.Components",function(t){"use strict";var e={left:"",leftAll:"",leftSelected:"",right:"",rightAll:"",rightSelected:"",undo:"",redo:"",submitAllLeft:!1,submitAllRight:!1,startUp:function(t,e){e.find("option").each(function(e,i){t.find('option[value="'+i.value+'"]').remove()})},beforeMoveToRight:function(t,e,i){return!0},afterMoveToRight:function(t,e,i){},beforeMoveToLeft:function(t,e,i){return!0},afterMoveToLeft:function(t,e,i){},sort:function(t,e){return"NA"==t.innerHTML?1:"NA"==e.innerHTML?-1:t.innerHTML>e.innerHTML?1:-1}},i={left:"left",leftAll:"left-all",leftSelected:"left-selected",right:"right",rightSelected:"right-selected",rightAll:"right-all"};this.RightSelect=new t.Class({extend:T.UI.BaseControl},{defaults:e,attributeMap:i,undoStack:[],redoStack:[],init:function(t,e){this.element=$(t);var i=$(t);this.initSettings(i,e);var s=this.element.prop("id");this.settings.left=this.settings.left.length?this.settings.left:"#"+s+"_leftSelect",this.settings.leftSelected=this.settings.leftSelected.length?this.settings.leftSelected:"#"+s+"_leftSelected",this.settings.leftAll=this.settings.leftAll.length?this.settings.leftAll:"#"+s+"_leftAll",this.settings.right=this.settings.right.length?this.settings.right:"#"+s+"_rightSelect",this.settings.rightSelected=this.settings.rightSelected.length?this.settings.rightSelected:"#"+s+"_rightSelected",this.settings.rightAll=this.settings.rightAll.length?this.settings.rightAll:"#"+s+"_rightAll",this.settings.undo=this.settings.undo.length?this.settings.undo:"#"+s+"_undo",this.settings.redo=this.settings.redo.length?this.settings.redo:"#"+s+"_redo",this.buildHtml(),this.initElements(),this.bindEvents(),this.settings.keepRenderingSort&&(this.settings.sort=function(t,e){return $(t).data("position")>$(e).data("position")?1:-1},this.elements.left.find("option").each(function(t,e){$(e).data("position",t)}),this.elements.right.find("option").each(function(t,e){$(e).data("position",t)}))},buildHtml:function(){var t='<input type="text" name="q" class="form-control" placeholder="Search..." />';this.settings.search_left&&$(this.settings.left).before($(t)),this.settings.search_right&&$(this.settings.right).before($(t))},initElements:function(){this.elements={original:this.element,left:$(this.settings.left),leftSelected:$(this.settings.leftSelected),rightSelected:$(this.settings.rightSelected),right:$(this.settings.right),leftAll:$(this.settings.leftAll),rightAll:$(this.settings.rightAll),undo:$(this.settings.undo),redo:$(this.settings.redo)},this.settings.search_left&&(this.elements.search_left=this.elements.left.prev()),this.settings.search_right&&(this.elements.search_right=this.elements.right.prev()),"function"==typeof this.settings.startUp&&this.settings.startUp(this.elements.left,this.elements.right),this.settings.keepRenderingSort&&"function"==typeof this.settings.sort&&(this.elements.left.find("option").sort(this.settings.sort).appendTo(this.elements.left),this.elements.right.each(function(t,e){0!==$(e).find("option").length&&$(e).find("option").sort(this.settings.sort).appendTo(e)}))},bindEvents:function(){var t=this;this.elements.left.on("dblclick","option",function(e){e.preventDefault(),t.moveToRight(this,e)}),this.elements.right.on("dblclick","option",function(e){e.preventDefault(),t.moveToLeft(this,e)}),this.elements.search_left&&this.elements.search_left.on("keyup",$.proxy(this._filteOptions,this,this.elements.left)),this.elements.search_right&&this.elements.search_right.on("keyup",$.proxy(this._filteOptions,this,this.elements.right)),this.elements.right.closest("form").on("submit",function(e){this.elements.left.children().prop("selected",this.settings.submitAllLeft),t.right.children().prop("selected",this.settings.submitAllRight)}),(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.indexOf("Trident/")>0||navigator.userAgent.indexOf("Edge/")>0)&&(this.elements.left.dblclick(function(e){t.elements.rightSelected.trigger("click")}),this.elements.right.dblclick(function(e){t.elements.leftSelected.trigger("click")})),this.elements.rightSelected.on("click",function(e){e.preventDefault();var i=t.elements.left.find("option:selected");i&&t.moveToRight(i,e),$(this).blur()}),this.elements.leftSelected.on("click",function(e){e.preventDefault();var i=t.elements.right.find("option:selected");i&&t.moveToLeft(i,e),$(this).blur()}),this.elements.rightAll.on("click",function(e){e.preventDefault();var i=t.elements.left.find("option");i&&t.moveToRight(i,e),$(this).blur()}),this.elements.leftAll.on("click",function(e){e.preventDefault();var i=t.elements.right.find("option");i&&t.moveToLeft(i,e),$(this).blur()}),this.elements.undo.on("click",function(e){e.preventDefault(),t.undo(e)}),this.elements.redo.on("click",function(e){e.preventDefault(),t.redo(e)})},_filteOptions:function(t,e){var i=new RegExp($(e.target).val(),"ig");return navigator.userAgent.match(/MSIE/i)||navigator.userAgent.indexOf("Trident/")>0||navigator.userAgent.indexOf("Edge/")>0?void t.find("option, span").each(function(t,e){var s=$(e);if(s.text().search(i)>=0){if(s.is("option"))return;s.data("ref")&&s.replaceWith(s.data("ref"))}else{if(s.is("span"))return;var n=s.text(),a=s.val(),r=$("<span/>").text(n).val(a).hide(),o=s.clone();s.replaceWith(r),r.data("ref",o)}}):void t.find("option").each(function(t,e){e.text.search(i)>=0?$(e).show():$(e).hide()})},moveToRight:function(t,e,i,s){if("function"==typeof this.settings.moveToRight)this.settings.moveToRight(this,t,e,i,s);else{if("function"==typeof this.settings.beforeMoveToRight&&!i&&!this.settings.beforeMoveToRight(this.elements.left,this.elements.right,t))return!1;this.elements.right.append(t),s||(this.undoStack.push(["right",t]),this.redoStack=[]),"function"!=typeof this.settings.sort||i||this.elements.right.find("option").sort(this.settings.sort).appendTo(this.elements.right),"function"!=typeof this.settings.afterMoveToRight||i||this.settings.afterMoveToRight(this.elements.left,this.elements.right,t)}},moveToLeft:function(t,e,i,s){if("function"==typeof this.settings.moveToLeft)this.settings.moveToLeft(this,t,e,i,s);else{if("function"==typeof this.settings.beforeMoveToLeft&&!i&&!this.settings.beforeMoveToLeft(this.elements.left,this.elements.right,t))return!1;this.elements.left.append(t),s||(this.undoStack.push(["left",t]),this.redoStack=[]),"function"!=typeof this.settings.sort||i||this.elements.left.find("option").sort(this.settings.sort).appendTo(this.elements.left),"function"!=typeof this.settings.afterMoveToLeft||i||this.settings.afterMoveToLeft(this.elements.left,this.elements.right,t)}},undo:function(t){var e=this.undoStack.pop();if(e)switch(this.redoStack.push(e),e[0]){case"left":this.moveToRight(e[1],t,!1,!0);break;case"right":this.moveToLeft(e[1],t,!1,!0)}},redo:function(t){var e=this.redoStack.pop();if(e)switch(this.undoStack.push(e),e[0]){case"left":this.moveToLeft(e[1],t,!1,!0);break;case"right":this.moveToRight(e[1],t,!1,!0)}}})}),function(t,e,i,s){"use strict";function n(e,i){this.element=t(e),this.settings=t.extend({},r,i),this._defaults=r,this._name=a,this.init()}var a="sidebar",r={toggle:!0,doubleTapToGo:!1};n.prototype={init:function(){var e=this.element,s=this.settings.toggle,n=this;this.isIE()<=9?(e.find("li.active").has("ul").children("ul").collapse("show"),e.find("li").not(".active").has("ul").children("ul").collapse("hide")):(e.find("li.active").has("ul").children("ul").addClass("collapse in"),e.find("li").not(".active").has("ul").children("ul").addClass("collapse")),n.settings.doubleTapToGo&&e.find("li.active").has("ul").children("a").addClass("doubleTapToGo"),e.find("li").has("ul").children("a").on("click."+a,function(e){return e.preventDefault(),n.settings.doubleTapToGo&&n.doubleTapToGo(t(this))&&"#"!==t(this).attr("href")&&""!==t(this).attr("href")?(e.stopPropagation(),void(i.location=t(this).attr("href"))):(t(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),void(s&&t(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")))})},isIE:function(){for(var t,e=3,s=i.createElement("div"),n=s.getElementsByTagName("i");s.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];)return e>4?e:t},doubleTapToGo:function(t){var e=this.element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},remove:function(){this.element.off("."+a),this.element.removeData(a)}},t.fn[a]=function(e){return this.each(function(){var i=t(this);i.data(a)&&i.data(a).remove(),i.data(a,new n(this,t.extend(!0,{},e)))}),this}}(jQuery,window,document),Jx()["package"]("T.UI.Components",function(t){"use strict";function e(t,e){for(var i=e.split(" "),s=!0,n=0;n<i.length;n++)if(!t.hasClass(i[n])){s=!1;break}return s}var i={none:"none",all:"all",leaf:"leaf"},s={unchecked:"unchecked",checked:"checked",partOf:"partOf"},n={all:"all",leaf:"leaf"},a=function(){},r={levels:2,dataUrl:"",expandIcon:"glyphicon glyphicon-chevron-right",collapseIcon:"glyphicon glyphicon-chevron-down",emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",uncheckedIcon:"glyphicon glyphicon-unchecked",enableLinks:!1,enableTitle:!1,showIcon:!0,showTags:!1,multiSelect:!1,silent:!1,ignoreChildren:!1,showCheckbox:i.none,checkRecursive:!1,selectMode:n.none,selectedNodeIds:"",checkedNodeIds:"",onNodeChecked:a,onNodeCollapsed:a,onNodeDisabled:a,onNodeEnabled:a,onNodeExpanded:a,onNodeSelected:a,onNodeUnchecked:a,onNodeUnselected:a,onSearchComplete:a,onSearchCleared:a},o={expandIcon:"expand-icon",collapseIcon:"collapse-icon",enableTitle:"enable-title",showTags:"show-tags",levels:"levels",multiSelect:"multi-select",dataUrl:"data-url",selectedNodeIds:"selected-node-ids",checkedNodeIds:"checked-node-ids"};this.Tree=new t.Class({extend:T.UI.BaseControl},{defaults:r,attributeMap:o,init:function(t,e){var i=$(t);this.initSettings(i,e),"function"==typeof this.settings.parseData&&(this.parseData=this.settings.parseData,delete this.settings.parseData),this.data=[],this.idIndexMap={};var s=this;$.when(this.getData()).done(function(){s.render(i)})},getData:function(){var t=$.Deferred();if(this.settings.data){var e=$.extend(!0,[],this.settings.data);return this.data=this.parseData(e),delete this.settings.data,t.resolve(),t.promise()}var i=this;return $.ajax({dataType:"json",url:i.settings.dataUrl,data:{},success:function(e){var s=i.parseData(e);i.data=s,t.resolve()},error:function(e,s,n){alert("控件id："+i.element.attr("id")+"，ajax获取数据失败!"),t.resolve()}}),t.promise()},parseData:function(t){function e(t,a){if(t.nodes){a++;for(var r=0;r<t.nodes.length;r++){var o=t.nodes[r];o.id=o.id||s,o._innerParentId=t.id,o._innerPath=(t._innerPath||"r")+"|"+o.id,o._innerLevel=a,i.push(o);var l="id_"+o.id;n.idIndexMap[l]=s,s++,o.nodes&&e(o,a)}}}var i=[],s=0,n=this;return e({nodes:t},0),i},updateData:function(t){$.extend(!0,[],t);this.data=this.parseData(t)},render:function(t){this.buildHtml(t),this.initElements(t),this.refresh(),this.bindEvents()},buildHtml:function(t){t.addClass("t-tree"),this.container=$('<ul class="list-group"></ul>'),t.empty().append(this.container)},initElements:function(t){var e=this;this.elements={original:t,getAllNodes:function(){var t=$("li",e.container);return t},getNode:function(t){var i=$('li[data-id="'+t+'"]',e.container);return i},getChildNodes:function(t){var i=this.getNode(t),s=i.data("path"),n=$('li[data-path^="'+s+'|"]',e.container);return n},getChildNodesChecked:function(t){var i=this.getNode(t),s=i.data("path"),n=$('li.node-checked[data-path^="'+s+'|"]',e.container);return n},getChildNodesCheckedPartOf:function(t){var i=this.getNode(t),s=i.data("path"),n=$('li.node-checked-partof[data-path^="'+s+'|"]',e.container);return n},getLevelNodes:function(t){var i=$('li[data-level="'+t+'"]',e.container);return i},getSelectedNodes:function(t){var i=t?"li:not(.node-selected)":"li.node-selected",s=$(i,e.container);return s},getCheckedNodes:function(t){var i=t?"li:not(.node-checked)":"li.node-checked",s=$(i,e.container);return s},getDisabledNodes:function(t){var i=t?"li:not(.node-disabled)":"li.node-disabled",s=$(i,e.container);return s},getSearchResultNodes:function(t){var i=t?"li:not(.search-result)":"li.search-result",s=$(i,e.container);return s}}},buildTree:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t],i=this.buildItem(e);this.container.append(i)}},buildItem:function(t){for(var e=t.nodes&&t.nodes.length>0,s="",a=0;a<t._innerLevel-1;a++)s+='<span class="indent"></span>';var r="icon";r+=e?t._innerLevel<this.settings.levels?" expand-icon "+this.settings.collapseIcon:" expand-icon "+this.settings.expandIcon:" "+this.settings.emptyIcon;var o='<span class="'+r+'"></span>',l="";if(this.settings.showIcon){var h="icon node-icon ";h+=t.icon||this.settings.nodeIcon,l='<span class="'+h+'"></span>'}var d="";if(this.settings.showCheckbox===i.all||!e&&this.settings.showCheckbox===i.leaf){var c="icon check-icon ";c+=this.settings.uncheckedIcon,d='<span class="'+c+'"></span>'}var u="";if(this.settings.showTags&&t.tags)for(var f=0;f<t.tags.length;f++){var p=t.tags[f];u+='<span class="badge">'+p+"</span>"}var m="list-group-item";e&&this.settings.selectNode===n.leaf&&(m+=" node-unselelctable");var g='<li    class="'+m+'" '+(this.settings.levels&&t._innerLevel>this.settings.levels?'   style="display: none;"':"")+(this.settings.enableTitle?'   title="'+t.text+'"':"")+'   data-id="'+t.id+'"   data-level="'+t._innerLevel+'"   data-path="'+t._innerPath+'">'+s+o+l+d+(this.settings.enableLinks?'   <a href="'+t.href+'" style="color:inherit;">'+t.text+"</a>":t.text)+u+"</li>";return g},refresh:function(){this.container.empty(),this.buildTree(),this.initStates()},initStates:function(){this.settings.selectedNodeIds&&this.selectedNodeByIds(this.settings.selectedNodeIds),this.settings.checkedNodeIds&&this.selectedNodeByIds(this.settings.checkedNodeIds)},clickHandler:function(t){this.settings.enableLinks||t.preventDefault();var e=$(t.target),i=e.closest("li.list-group-item");if(!i.hasClass("node-disabled")){var s=i.data("id"),n=e.attr("class")?e.attr("class").split(" "):[];return-1!==n.indexOf("expand-icon")?void this.toggleExpandedState(s,this.settings.silent,this.settings.ignoreChildren):-1!==n.indexOf("check-icon")?void this.toggleCheckedState(s,this.settings.silent):void(i.hasClass("node-unselelctable")||this.toggleSelectedState(s,this.settings.silent));
}},setExpandedState:function(t,e,i,s){var n=this.elements.getNode(t),a=this.elements.getChildNodes(t);if(a.length>0&&!s){var r=this;a.each(function(){var t=$(this).data("id");r.setExpandedState(t,e,i,s)})}e?(n.find(".expand-icon").removeClass(this.settings.expandIcon).addClass(this.settings.collapseIcon),a.show(),i||this.elements.original.trigger("nodeExpanded",t)):(n.find(".expand-icon").removeClass(this.settings.collapseIcon).addClass(this.settings.expandIcon),a.hide(),i||this.elements.original.trigger("nodeCollapsed",t))},collapseNode:function(t,e,i){for(var s=0;s<t.length;s++)this.setExpandedState(t[s],!1,e,i)},expandNode:function(t,e,i,s){for(var n=0;n<t.length;n++){var a=t[n];this.setExpandedState(a,!0,i,s);var r=this.elements.getChildNodes(a);if(e=e||this.settings.levels,r.length>0&&e){var o=[];r.each(function(){o.push($(this).data("id"))}),this.expandLevels(o,e-1,i,s)}}},toggleExpandedState:function(t,i,s){var n=this.elements.getNode(t),a=n.find(".expand-icon"),r=e(a,this.settings.collapseIcon);this.setExpandedState(t,!r,i,s)},toggleNodeExpanded:function(t,e,i){for(var s=0;s<t.length;s++)this.toggleExpandedState(t[s],e,i)},expandLevels:function(t,e,i,s){for(var n=0;n<t.length;n++){var a=t[n];this.setExpandedState(a,e>0,i,s);var r=this.elements.getChildNodes(a);if(r.length>0){var o=[];r.each(function(){o.push($(this).data("id"))}),this.expandLevels(o,e-1,i,s)}}},expandAll:function(t,e,i){var t=t||this.settings.levels;if(t){for(var s=[],n=0;n<this.data.length;n++)s.push(this.data[n].id);this.expandLevels(s,t,e,i)}else{var a=this.elements.getLevelNodes(1),r=this;a.each(function(){var t=$(this).data("id");r.setExpandedState(t,!0,e,i)})}},collapseAll:function(t,e){var i=this.elements.getLevelNodes(1),s=this;i.each(function(){var i=$(this).data("id");s.setExpandedState(i,!1,t,e)})},setSelectedState:function(t,e,i){var s=this.elements.getNode(t);s.hasClass("node-unselelctable")||(e?(this.settings.multiSelect||this.elements.getSelectedNodes(!1).removeClass("node-selected"),s.addClass("node-selected"),i||this.elements.original.trigger("nodeSelected",t)):(s.removeClass("node-selected"),i||this.elements.original.trigger("nodeUnselected",t)))},selectNode:function(t,e){for(var i=0;i<t.length;i++)this.setSelectedState(t[i],!0,e)},unselectNode:function(t,e){for(var i=0;i<t.length;i++)this.setSelectedState(t[i],!1,e)},toggleSelectedState:function(t,e){var i=this.elements.getNode(t),s=i.hasClass("node-selected");this.setSelectedState(t,!s,e)},toggleNodeSelected:function(t,e){for(var i=0;i<t.length;i++)this.toggleSelectedState(t[i],e)},setCheckedState:function(t,e,i){if(this._innerSetChcekedState(t,e,i),this.settings.checkRecursive){var s=this.getNode(t);this.checkRecursiveParent(s,e,i),this.checkRecursiveChildren(s,e,i)}},_innerSetChcekedState:function(t,e,i){var n=this.elements.getNode(t),a=n.find(".check-icon");switch(e){case s.checked:n.removeClass("node-checked-partof").addClass("node-checked"),a.removeClass(this.settings.uncheckedIcon).removeClass(this.settings.checkedpartOfIcon).addClass(this.settings.checkedIcon),i||this.elements.original.trigger("nodeChecked",t);break;case s.unchecked:n.removeClass("node-checked").removeClass("node-checked-partof"),a.removeClass(this.settings.checkedIcon).removeClass(this.settings.checkedpartOfIcon).addClass(this.settings.uncheckedIcon),i||this.elements.original.trigger("nodeUnchecked",t);break;case s.partof:n.removeClass("node-checked").addClass("node-checked-partof"),a.removeClass(this.settings.checkedIcon).removeClass(this.settings.uncheckedIcon).addClass(this.settings.checkedpartOfIcon),i||this.elements.original.trigger("nodeUnchecked",t)}},checkRecursiveParent:function(t,e,i){if("undefined"!=typeof t._innerParentId)for(var n=this.getNode(t._innerParentId);n;){var a;switch(e){case s.checked:case s.unchecked:var r=this.elements.getChildNodesCheckedPartOf(n.id).length;if(r>0)a=s.partOf;else{var o=this.elements.getChildNodesChecked(n.id).length;a=0===o?s.unchecked:s.checked}break;case s.partOf:a=e}this._innerSetChcekedState(n.id,a,i),n=this.getNode(n._innerParentId)}},checkRecursiveChildren:function(t,e,i){if(t.nodes&&t.nodes.length>0)for(var s=0;s<t.nodes.length;s++){var n=t.nodes[s];this._innerSetChcekedState(n.id,e,i),this.checkRecursiveChildren(n,e,i)}},checkNode:function(t,e){for(var i=0;i<t.length;i++)this.setCheckedState(t[i],"checked",e)},uncheckNode:function(t,e){for(var i=0;i<t.length;i++)this.setCheckedState(t[i],"unchecked",e)},toggleCheckedState:function(t,i){var s=this.elements.getNode(t),n=s.find(".check-icon"),a=e(n,this.settings.uncheckedIcon);this.setCheckedState(t,a?"checked":"unchecked",i)},toggleNodeChecked:function(t,e){for(var i=0;i<t.length;i++)this.toggleCheckedState(t[i],e)},checkAll:function(t){var e=this.elements.getCheckedNodes(!0),i=e.find(".check-icon");if(e.addClass("node-checked"),i.removeClass(this.settings.uncheckedIcon).addClass(this.settings.checkedIcon),!t){var s=this;e.each(function(){var t=$(this).data("id");s.elements.original.trigger("nodeChecked",t)})}},uncheckAll:function(t){var e=this.elements.getCheckedNodes(!1),i=e.find(".check-icon");if(e.removeClass("node-checked"),i.removeClass(this.settings.checkedIcon).addClass(this.settings.uncheckedIcon),!t){var s=this;e.each(function(){var t=$(this).data("id");s.elements.original.trigger("nodeUnchecked",t)})}},setDisabledState:function(t,e,i,s){var n=this.elements.getNode(t);e?(n.addClass("node-disabled"),this.setExpandedState(t,!1,i,s),this.setSelectedState(t,!1,i),this.setCheckedState(t,"unchecked",i),i||this.elements.original.trigger("nodeDisabled",t)):(n.removeClass("node-disabled"),i||this.elements.original.trigger("nodeEnabled",t))},enableNode:function(t,e){for(var i=0;i<t.length;i++)this.setDisabledState(t[i],!1,e)},disableNode:function(t,e){for(var i=0;i<t.length;i++)this.setDisabledState(t[i],!0,e)},toggleDisabledState:function(t,e){var i=this.elements.getNode(t),s=i.hasClass("node-disabled");this.setDisabledState(t,!s,e)},toggleNodeDisabled:function(t,e){for(var i=0;i<t.length;i++)this.toggleDisabledState(t[i],e)},disableAll:function(t,e){var i=this.elements.getDisabledNodes(!0);i.addClass("node-disabled");var s=this;i.each(function(){var i=$(this).data("id");s.setExpandedState(i,!1,t,e),s.setSelectedState(i,!1,t),s.setCheckedState(i,"unchecked",t),t||s.elements.original.trigger("nodeDisabled",i)})},enableAll:function(t,e){var i=this.elements.getDisabledNodes(!1);i.removeClass("node-disabled");var s=this;i.each(function(){var e=$(this).data("id");t||s.elements.original.trigger("nodeEnabled",e)})},getNode:function(t){var e=this.idIndexMap["id_"+t];return this.data[e]},revealNode:function(t,e){for(var i=0;i<t.length;i++)for(var s=t[i],n=this.elements.getNode(s),a=n.data("path"),r=a.split("|"),o=1;o<r.length-1;o++)this.setExpandedState(r[o],!0,e)},search:function(t,e){var i={ignoreCase:!0,exactMatch:!1,revealResults:!0};e=$.extend({},i,e),this.clearSearch();var s=[];if(t&&t.length>0){e.exactMatch&&(t="^"+t+"$");var n="g";e.ignoreCase&&(n+="i"),s=this.findNodes(t,n)}return e.revealResults&&this.revealNode(s),this.elements.original.trigger("searchComplete",$.extend(!0,{},s)),s},clearSearch:function(){var t=this.elements.getSearchResultNodes();t.removeClass("search-result"),this.elements.original.trigger("searchCleared")},findNodes:function(t,e){e=e||"g";for(var i=this.elements.getAllNodes(),s=[],n=0;n<i.length;n++){var a=$(i[n]),r=a.text(),o=r.match(new RegExp(t,e));o&&(a.addClass("search-result"),s.push(a.data("id")))}return s},destroy:function(){this.container.empty(),this.container=null,this.unsubscribeEvents()},unbindEvents:function(){this.elements.original.off("click"),this.elements.original.off("nodeChecked"),this.elements.original.off("nodeCollapsed"),this.elements.original.off("nodeDisabled"),this.elements.original.off("nodeEnabled"),this.elements.original.off("nodeExpanded"),this.elements.original.off("nodeSelected"),this.elements.original.off("nodeUnchecked"),this.elements.original.off("nodeUnselected"),this.elements.original.off("searchComplete"),this.elements.original.off("searchCleared")},bindEvents:function(){this.unbindEvents(),this.elements.original.on("click",$.proxy(this.clickHandler,this)),this.elements.original.on("nodeChecked",this.settings.onNodeChecked),this.elements.original.on("nodeCollapsed",this.settings.onNodeCollapsed),this.elements.original.on("nodeDisabled",this.settings.onNodeDisabled),this.elements.original.on("nodeEnabled",this.settings.onNodeEnabled),this.elements.original.on("nodeExpanded",this.settings.onNodeExpanded),this.elements.original.on("nodeSelected",this.settings.onNodeSelected),this.elements.original.on("nodeUnchecked",this.settings.onNodeUnchecked),this.elements.original.on("nodeUnselected",this.settings.onNodeUnselected),this.elements.original.on("searchComplete",this.settings.onSearchComplete),this.elements.original.on("searchCleared",this.settings.onSearchCleared)}})}),function(t){t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}});var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,s){var n=t.port;"abort"===t.mode&&(i[n]&&i[n].abort(),i[n]=s)}):(e=t.ajax,t.ajax=function(s){var n=("mode"in s?s:t.ajaxSettings).mode,a=("port"in s?s:t.ajaxSettings).port;return"abort"===n?(i[a]&&i[a].abort(),i[a]=e.apply(this,arguments),i[a]):e.apply(this,arguments)})}(jQuery),Jx()["package"]("T.UI.Components",function(t){"use strict";function e(t){var e=0;for(var i in t)e++;return e}var i={messages:{},rules:{},focusCleanup:!1,focusInvalid:!0,onsubmit:!0,errorContainer:"",errorPlacement:void 0,errorElement:"label",errorClass:"error",validClass:"valid",success:"",submitHandler:function(){},invalidHandler:function(){}},s={required:"这是必填字段",remote:"请修正此字段",email:"请输入有效的电子邮件地址",url:"请输入有效的网址",date:"请输入有效的日期",dateISO:"请输入有效的日期 (YYYY-MM-DD)",number:"请输入有效的数字",digits:"只能输入数字",creditcard:"请输入有效的信用卡号码",equalTo:"两次输入不相同",extension:"请输入有效的后缀",maxlength:"最多可以输入 {0} 个字符",minlength:"最少要输入 {0} 个字符",rangelength:"请输入长度在 {0} 到 {1} 之间的字符串",range:"请输入范围在 {0} 到 {1} 之间的数值",max:"请输入不大于 {0} 的数值",min:"请输入不小于 {0} 的数值"},n={required:function(t,e,i){var s,n=typeof i;switch(n){case"boolean":s=i;break;case"string":s=!!$(i,this.element).length;break;case"function":s=i(e);break;default:s=!0}if(!s)return"dependency-mismatch";if("select"===e.nodeName.toLowerCase()){var a=$(e).val();return a&&a.length>0}return this.checkable(e)?this.getLength(t,e)>0:t.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){var s=$.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=i},maxlength:function(t,e,i){var s=$.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i>=s},rangelength:function(t,e,i){var s=$.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=i[0]&&s<=i[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(t,e,i){var s=$(i);return t===s.val()},remote:function(t,e,i){if(this.optional(e))return"dependency-mismatch";var s,n,a=this.previousValue(e);return this.settings.messages[e.name]||(this.settings.messages[e.name]={}),a.originalMessage=this.settings.messages[e.name].remote,this.settings.messages[e.name].remote=a.message,i="string"==typeof i&&{url:i}||i,a.old===t?a.valid:(a.old=t,s=this,this.startRequest(e),n={},n[e.name]=t,$.ajax($.extend(!0,{mode:"abort",port:"validate"+e.name,dataType:"json",data:n,context:s.element,success:function(i){var n,r,o,l=i===!0||"true"===i;if(s.settings.messages[e.name].remote=a.originalMessage,l)o=s.formSubmitted,s.reset(),s.formSubmitted=o,s.successList.push(e),s.showErrors();else{n={},r=i||s.defaultMessage(e,"remote"),n[e.name]=a.message=$.isFunction(r)?r(t):r,s.errorList=[];for(var h in n){var d={message:n[h],element:s.elements.findByName(h)[0]};s.errorList.push(d)}for(var c=[],u=0;u<s.successList.length;u++){var f=s.successList[u];f.name in n||c.push(f)}s.successList=c,s.showErrors(n)}a.valid=l,s.stopRequest(e,l)}},i)),"pending")}};this.Validator=new t.Class({defaults:i,autoCreateRanges:!1,settings:{},init:function(t,e){this.element=$(t),this.settings=$.extend(!0,{},i,e),this.pending={},this.reset(),this.buildHtml(),this.initElements(),this.bindEvents()},buildHtml:function(){this.container=this.element,this.settings.errorContainer&&$(this.settings.errorContainer).append("<ul></ul>")},initElements:function(){var t=this;this.elements={submitButton:$('input:submit:not(".save"), button:submit:not(".save")',this.container),saveButton:$("input.save:submit, button.save:submit",this.container),currentElements:function(){var i={},s=t.container.find("input, select, textarea"),n=s.not(":submit, :reset, :image, :disabled"),a=n.not(t.settings.ignore),r=a.filter(function(){var s=t.settings.rules[this.name];return this.name in i||!e(s)?!1:(i[this.name]=!0,!0)});return r},findByName:function(e){return t.container.find('[name="'+e+'"]')},errorContainer:$(this.settings.errorContainer),errorElements:function(){var e,i;t.settings.errorContainer?(e=$(t.settings.errorContainer).find("ul"),i="li"):(e=t.element,i=t.settings.errorElement);var s=t.settings.errorClass.split(" ").join("."),n=$(i+"."+s,e);return n},errorElement:function(e){var i=t.elements.errorElements(),s=t.idOrName(e),n="label[for='"+s+"'], li[data-for='"+s+"']",a=i.filter(n);return a}}},bindEvents:function(){function t(t){var i="on"+t.type.replace(/^validate/,"");e[i]&&e[i].call(e,this,t)}var e=this,i=this.element,e=this;this.element.on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.element.on("invalid-form.validate",$.proxy(this.settings.invalidHandler,this)),this.elements.submitButton.on("click",$.proxy(this.onSubmitButtonClick,this)),i.on("submit",$.proxy(this.onSubmit,this))},onSubmitButtonClick:function(t){this.settings.submitHandler&&(this.submitButton=t.target),this.element.hasClass("cancel")&&(this.cancelSubmit=!0),void 0!==this.element.attr("formnovalidate")&&(this.cancelSubmit=!0)},onSubmit:function(t){function e(){if(!i.settings.submitHandler)return!0;var e;i.submitButton&&(e=$("<input type='hidden'/>").attr("name",i.submitButton.name).val($(i.submitButton).val()).appendTo(i.element));var s=i.settings.submitHandler(i.element,t);return i.submitButton&&e.remove(),void 0!==s?s:!1}var i=this;if(this.cancelSubmit)return this.cancelSubmit=!1,e();if(this.checkForm())return e();if(this.settings.focusInvalid)try{var s=$.grep(this.errorList,function(t){return t.element.name===n.name}),n=this.lastActive&&1===s.length;$(n||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}return!1},onfocusin:function(t){if(this.lastActive=t,this.settings.focusCleanup){this.unhighlight(t,this.settings.errorClass,this.settings.validClass);var e=this.elements.errorElement(t);e.hide()}},onfocusout:function(t){this.checkable(t)||(t.name in this.submitted||!this.optional(t))&&this.checkElement(t)},onkeyup:function(t,e){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===e.which&&""===this.getValue(t)||-1!==$.inArray(e.keyCode,i)||(t.name in this.submitted||t===this.lastElement)&&this.checkElement(t)},onclick:function(t){t.name in this.submitted?this.checkElement(t):t.parentNode.name in this.submitted&&this.checkElement(t.parentNode)},checkForm:function(){this.reset();for(var t=this.elements.currentElements(),e=0;e<t.length;e++)this.check(t[e]);return this.errorList.length>0&&this.element.triggerHandler("invalid-form",[this]),this.showErrors(),0===this.errorList.length},checkElement:function(t){var e=$(t)[0],i=this.validationTargetFor(e),s=!0;return this.lastElement=i,this.reset(),s=this.check(i)!==!1,this.showErrors(i),s},check:function(t){t=this.validationTargetFor($(t)[0]);var i=this.settings.rules[t.name],s=e(i),a=!1,r=this.getValue(t);for(var o in i){var l={method:o,parameters:i[o]},h=n[o].call(this,r,t,l.parameters);if("dependency-mismatch"!==h||1!==s){if(a=!1,"pending"===h)return;if(!h){var d=this.defaultMessage(t,l.method),c=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,l.parameters,t):c.test(d)&&(d=String.format(d.replace(c,"{$1}"),l.parameters)),this.errorList.push({message:d,element:t,method:l.method}),this.submitted[t.name]=d,!1}}else a=!0}return a?void 0:(e(i)&&this.successList.push(t),!0)},defaultMessage:function(t,e){var i,n=this.settings.messages[t.name];return i=n&&(n.constructor===String?n:n[e]),void 0!==i?i:(i=s[e],void 0!==i?i:i="<strong>Warning: No message defined for "+t.name+"</strong>")},showErrors:function(t){for(var e=$([]),i=0;this.errorList[i];i++){var s=this.errorList[i];this.highlight(s.element,this.settings.errorClass,this.settings.validClass);var n=this.showLabel(s.element,s.message);e=e.add(n)}if(this.settings.success)for(var i=0;this.successList[i];i++)this.showLabel(this.successList[i]);for(var a=$(this.errorList).map(function(){return this.element}),r=this.elements.currentElements().not(a),i=0;i<r.length;i++)this.unhighlight(r[i],this.settings.errorClass,this.settings.validClass);var o=t?this.elements.errorElement(t).not(e):this.elements.errorElements().not(e);o.hide(),e.show()},showLabel:function(t,e){var i=this.elements.errorElement(t);if(i.length)i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(e);else{var s,n,a=this.idOrName(t);this.settings.errorContainer?(s="li",n='data-for="'+a+'"'):(s="label",n='for="'+a+'"');var r="<"+s+'   id="'+a+'-error"'+n+'   class="'+this.settings.errorClass+'">'+(e||"")+"</"+s+">";i=$(r),this.settings.errorContainer?this.elements.errorContainer.find("ul").append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,$(t)):i.insertAfter(t)}return!e&&this.settings.success&&("string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,$(t))),i},resetForm:function(){$.fn.resetForm&&this.element.resetForm(),this.lastElement=null,this.reset();var t=this.elements.errorElements();t.hide();var e=this.elements.currentElements();e.removeData("previousValue");for(var i=0;e[i];i++)this.unhighlight(e[i],this.settings.errorClass,"")},reset:function(){this.successList=[],this.errorList=[],this.submitted={}},highlight:function(t,e,i){"radio"===t.type?this.elements.findByName(t.name).addClass(e).removeClass(i):$(t).addClass(e).removeClass(i)},unhighlight:function(t,e,i){"radio"===t.type?this.elements.findByName(t.name).removeClass(e).addClass(i):$(t).removeClass(e).addClass(i)},idOrName:function(t){return this.checkable(t)?t.name:t.id},validationTargetFor:function(t){return this.checkable(t)&&(t=this.elements.findByName(t.name)),$(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},getValue:function(t){var e=t.type,i=$(t);if("radio"===e||"checkbox"===e)return this.elements.findByName(t.name).filter(":checked").val();if("number"===e&&"undefined"!=typeof t.validity)return t.validity.badInput?!1:i.val();var s=i.val();return"string"==typeof s?s.replace(/\r/g,""):s},getLength:function(t,e){var i=e.nodeName.toLowerCase();switch(i){case"select":return $("option:selected",e).length;case"input":if(this.checkable(e))return this.elements.findByName(e.name).filter(":checked").length}return t.length},optional:function(t){var e=this.getValue(t);return!n.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e&&0===this.pendingRequest&&this.formSubmitted&&this.checkForm()?($(this.element).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(this.element.triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return $.data(t,"previousValue")||$.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},refresh:function(){},enable:function(){},disable:function(){},destroy:function(){this.resetForm(),$(this.element).off(".validate")}})});